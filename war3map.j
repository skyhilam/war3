globals
hashtable O=InitHashtable()
integer II=0
effect OI=null
integer array IO
integer array OO
integer III=0
boolean array IOI
integer array I1I
integer array OII
unit array OOI
unit O1I=null
player IIO=Player(0)
integer array IOO
location I1O=null
timer OIO=null
timer OOO=null
timer O1O=null
timer IIII=null
timer IIOI=null
unit II1I=null
effect IOII=null
unit IOOI=null
unit IO1I=null
unit array I1II
real I1OI=0
integer array I11I
integer OIII=0
integer OIOI=0
unit OI1I=null
unit array OOII
real array OOOI
unit array OO1I
integer O1II=0
timer array O1OI
group O11I=null
unit array IIIO
real array IIOO
unit II1O=null
location array IOIO
real array IOOO
effect array IO1O
unit array I1IO
unit I1OO=null
unit I11O=null
unit array OIIO
integer OIOO=0
integer OI1O=0
location OOIO=null
group OOOO=null
unit OO1O=null
real array O1IO
location O1OO=null
location O11O=null
real IIIII=0
real IIIOI=0
real III1I=0
integer IIOII=0
real IIOOI=0
real array IIO1I
real II1II=0
real II1OI=0
real II11I=0
integer IOIII=0
integer IOIOI=0
real IOI1I=0
unit IOOII=null
location IOOOI=null
unit array IOO1I
integer IO1II=0
real IO1OI=0
group IO11I=null
real I1III=0
location I1IOI=null
location I1I1I=null
location array I1OII
timer I1OOI=null
integer array I1O1I
rect array I11II
integer I11OI=0
sound I111I=null
group OIIII=null
integer OIIOI=0
integer array OII1I
location array OIOII
integer OIOOI=0
integer OIO1I=0
integer array OI1II
integer OI1OI=0
integer OI11I=0
integer OOIII=0
integer array OOIOI
integer OOI1I=0
hashtable OOOII=null
timer array OOOOI
unit array OOO1I
group OO1II=null
real array OO1OI
boolean array OO11I
boolean array O1III
group array O1IOI
integer O1I1I=0
integer array O1OII
integer array O1OOI
integer array O1O1I
integer array O11II
real array O11OI
real array O111I
real array IIIIO
real array IIIOO
real array III1O
real array IIOIO
lightning array IIOOO
player array IIO1O
real array II1IO
real array II1OO
real array II11O
real array IOIIO
real array IOIOO
real array IOI1O
real array IOOIO
real array IOOOO
real array IOO1O
real array IO1IO
timer array IO1OO
trigger array IO11O
unit array I1IIO
unit array I1IOO
unit array I1I1O
unit array I1OIO
real array I1OOO
integer I1O1O=0
location I11IO=null
real I11OO=0
real I111O=0
real OIIIO=0
real OIIOO=0
group OII1O=null
group OIOIO=null
string array OIOOO
real array OIO1O
timer OI1IO=null
unit array OI1OO
location array OI11O
integer OOIIO=0
unit OOIOO=null
unit OOI1O=null
integer OOOIO=0
location OOOOO=null
unit array OOO1O
integer OO1IO=0
force OO1OO=null
timer OO11O=null
unit O1IIO=null
location O1IOO=null
unit O1I1O=null
location O1OIO=null
timer O1OOO=null
group O1O1O=null
unit O11IO=null
timer O11OO=null
unit O111O=null
timer IIIIII=null
integer array IIIIOI
timer IIII1I=null
unit IIIOII=null
integer IIIOOI=0
timer IIIO1I=null
timer III1II=null
player III1OI=null
integer III11I=0
unit IIOIII=null
real IIOIOI=0
unit IIOI1I=null
integer array IIOOII
integer IIOOOI=0
unit IIOO1I=null
integer IIO1II=0
effect array IIO1OI
real IIO11I=0
boolean II1III=false
real II1IOI=0
boolean array II1I1I
integer array II1OII
integer array II1OOI
integer array II1O1I
real array II11II
trigger array II11OI
real array II111I
boolean array IOIIII
real array IOIIOI
real array IOII1I
real array IOIOII
real array IOIOOI
unit array IOIO1I
real IOI1II=0
real IOI1OI=0
real IOI11I=0
trigger IOOIII=null
unit IOOIOI=null
boolean IOOI1I=false
integer array IOOOII
integer array IOOOOI
integer array IOOO1I
boolean array IOO1II
unit IOO1OI=null
group IOO11I=null
unit IO1III=null
real IO1IOI=0
boolean IO1I1I=false
unit IO1OII=null
timer IO1OOI=null
effect IO1O1I=null
boolean array IO11II
unit IO11OI=null
timer IO111I=null
real array I1IIII
texttag I1IIOI=null
integer I1II1I=0
unit I1IOII=null
timer I1IOOI=null
unit I1IO1I=null
group I1I1II=null
location I1I1OI=null
real I1I11I=0
location I1OIII=null
unit I1OIOI=null
unit I1OI1I=null
unit I1OOII=null
trigger array I1OOOI
unit I1OO1I=null
effect array I1O1II
boolean array I1O1OI
string array I1O11I
group I11III=null
trigger I11IOI=null
timer I11I1I=null
unit array I11OII
integer I11OOI=0
timer I11O1I=null
unit I111II=null
integer I111OI=0
integer I1111I=0
group OIIIII=null
integer array OIIIOI
integer array OIII1I
integer array OIIOII
string array OIIOOI
timer OIIO1I=null
integer OII1II=0
integer OII1OI=0
real OII11I=0
string array OIOIII
real OIOIOI=0
real array OIOI1I
real array OIOOII
group array OIOOOI
timer OIOO1I=null
unit array OIO1II
real OIO1OI=0
unit OIO11I=null
unit OI1III=null
effect OI1IOI=null
timer OI1I1I=null
integer OI1OII=0
integer array OI1OOI
unit array OI1O1I
timer OI11II=null
integer OI11OI=0
group OI111I=null
boolean OOIIII=false
integer OOIIOI=0
unit OOII1I=null
integer OOIOII=0
player OOIOOI=null
gamecache OOIO1I=null
string array OOI1II
group OOI1OI=null
player OOI11I=null
boolean OOOIII=false
boolean OOOIOI=false
unit OOOI1I=null
real array OOOOII
group OOOOOI=null
group OOOO1I=null
timer array OOO1II
integer array OOO1OI
unit OOO11I=null
integer array OO1III
real OO1IOI=0
integer OO1I1I=0
trigger array OO1OII
timer OO1OOI=null
group array OO1O1I
unit array OO11II
real array OO11OI
real OO111I=0
unit O1IIII=null
unit O1IIOI=null
timer O1II1I=null
unit O1IOII=null
timer O1IOOI=null
real array O1IO1I
unit O1I1II=null
integer array O1I1OI
texttag O1I11I=null
timer O1OIII=null
boolean O1OIOI=false
group O1OI1I=null
unit O1OOII=null
boolean array O1OOOI
timer O1OO1I=null
unit O1O1II=null
timer O1O1OI=null
integer O1O11I=0
unit O11III=null
unit O11IOI=null
unit my_trigger=null
integer trigger_times=0
unit array udg_A12R_U
integer array udg_A12R_I
force O11I1I=null
timer O11OII=null
unit O11OOI=null
real array O11O1I
real array O111II
real array O111OI
real O1111I=0
real IIIIIO=0
real IIIIOO=0
timer IIII1O=null
timer IIIOIO=null
unit array IIIOOO
integer IIIO1O=0
unit III1IO=null
real III1OO=0
player III11O=null
unit IIOIIO=null
boolean array IIOIOO
real IIOI1O=0
integer array IIOOIO
unit IIOOOO=null
boolean IIOO1O=false
timer array IIO1IO
integer array IIO1OO
timer IIO11O=null
integer II1IIO=0
integer array II1IOO
integer array II1I1O
integer II1OIO=0
integer array II1OOO
unit array II1O1O
timer II11IO=null
boolean array II11OO
boolean array II111O
boolean array IOIIIO
boolean array IOIIOO
boolean array IOII1O
integer array IOIOIO
boolean array IOIOOO
boolean array IOIO1O
unit array IOI1IO
integer array IOI1OO
boolean array IOI11O
player IOOIIO=null
player IOOIOO=null
real IOOI1O=60
boolean IOOOIO=false
timer IOOOOO=null
unit IOOO1O=null
unit IOO1IO=null
group IOO1OO=null
boolean array IOO11O
boolean IO1IIO=false
integer array IO1IOO
timer IO1I1O=null
integer array IO1OIO
location IO1OOO=null
integer IO1O1O=0
player IO11IO=null
integer array IO11OO
integer array IO111O
integer array I1IIIO
integer array I1IIOO
boolean I1II1O=false
integer array I1IOIO
boolean array I1IOOO
integer array I1IO1O
integer array I1I1IO
integer array I1I1OO
integer array I1I11O
integer array I1OIIO
player I1OIOO=null
integer I1OI1O=0
integer I1OOIO=0
timer I1OOOO=null
item I1OO1O=null
boolean I1O1IO=false
rect I1O1OO=null
rect I1O11O=null
rect I11IIO=null
rect I11IOO=null
rect I11I1O=null
rect I11OIO=null
rect I11OOO=null
rect I11O1O=null
rect I111IO=null
rect I111OO=null
rect I1111O=null
rect OIIIIO=null
rect OIIIOO=null
rect OIII1O=null
rect OIIOIO=null
rect OIIOOO=null
rect OIIO1O=null
rect OII1IO=null
rect OII1OO=null
rect OII11O=null
rect OIOIIO=null
rect OIOIOO=null
rect OIOI1O=null
rect OIOOIO=null
rect OIOOOO=null
rect OIOO1O=null
rect OIO1IO=null
rect OIO1OO=null
rect OIO11O=null
rect OI1IIO=null
rect OI1IOO=null
rect OI1I1O=null
rect OI1OIO=null
rect OI1OOO=null
rect OI1O1O=null
rect OI11IO=null
rect OI11OO=null
rect OI111O=null
rect OOIIIO=null
rect OOIIOO=null
rect OOII1O=null
rect OOIOIO=null
rect OOIOOO=null
rect OOIO1O=null
rect OOI1IO=null
rect OOI1OO=null
rect OOI11O=null
rect OOOIIO=null
rect OOOIOO=null
rect OOOI1O=null
rect OOOOIO=null
rect OOOOOO=null
rect OOOO1O=null
rect OOO1IO=null
rect OOO1OO=null
rect OOO11O=null
rect OO1IIO=null
rect OO1IOO=null
rect OO1I1O=null
rect OO1OIO=null
rect OO1OOO=null
rect OO1O1O=null
rect OO11IO=null
rect OO11OO=null
rect OO111O=null
rect O1IIIO=null
rect O1IIOO=null
rect O1II1O=null
rect O1IOIO=null
rect O1IOOO=null
rect O1IO1O=null
rect O1I1IO=null
rect O1I1OO=null
rect O1I11O=null
rect O1OIIO=null
rect O1OIOO=null
rect O1OI1O=null
rect O1OOIO=null
rect O1OOOO=null
rect O1OO1O=null
rect O1O1IO=null
camerasetup O1O1OO=null
camerasetup O1O11O=null
sound O11IIO=null
string O11IOO="Sound\\Music\\mp3Music\\HeroicVictory.mp3"
sound O11I1O=null
sound O11OIO=null
sound O11OOO=null
sound O11O1O=null
sound O111IO=null
sound O111OO=null
sound O1111O=null
sound IIIIIII=null
sound IIIIIOI=null
sound IIIII1I=null
sound IIIIOII=null
sound IIIIOOI=null
sound IIIIO1I=null
sound IIII1II=null
sound IIII1OI=null
sound IIII11I=null
trigger IIIOIII=null
trigger IIIOIOI=null
trigger IIIOI1I=null
trigger IIIOOII=null
trigger IIIOOOI=null
trigger IIIOO1I=null
trigger IIIO1II=null
trigger IIIO1OI=null
trigger IIIO11I=null
trigger III1III=null
trigger III1IOI=null
trigger III1I1I=null
trigger III1OII=null
trigger III1OOI=null
trigger III1O1I=null
trigger III11II=null
trigger III11OI=null
trigger III111I=null
trigger IIOIIII=null
trigger IIOIIOI=null
trigger IIOII1I=null
trigger IIOIOII=null
trigger IIOIOOI=null
trigger IIOIO1I=null
trigger IIOI1II=null
trigger IIOI1OI=null
trigger IIOI11I=null
trigger IIOOIII=null
trigger IIOOIOI=null
trigger IIOOI1I=null
trigger IIOOOII=null
trigger IIOOOOI=null
trigger IIOOO1I=null
trigger IIOO1II=null
trigger IIOO1OI=null
trigger IIOO11I=null
trigger IIO1III=null
trigger IIO1IOI=null
trigger IIO1I1I=null
trigger IIO1OII=null
trigger IIO1OOI=null
trigger IIO1O1I=null
trigger IIO11II=null
trigger IIO11OI=null
trigger IIO111I=null
trigger II1IIII=null
trigger II1IIOI=null
trigger II1II1I=null
trigger II1IOII=null
trigger II1IOOI=null
trigger II1IO1I=null
trigger II1I1II=null
trigger II1I1OI=null
trigger II1I11I=null
trigger II1OIII=null
trigger II1OIOI=null
trigger II1OI1I=null
trigger II1OOII=null
trigger II1OOOI=null
trigger II1OO1I=null
trigger II1O1II=null
trigger II1O1OI=null
trigger II11III=null
trigger II11IOI=null
trigger II11I1I=null
trigger II11OII=null
trigger II11OOI=null
trigger II11O1I=null
trigger II111II=null
trigger II111OI=null
trigger II1111I=null
trigger IOIIIII=null
trigger IOIIIOI=null
trigger IOIII1I=null
trigger IOIIOII=null
trigger IOIIOOI=null
trigger IOIIO1I=null
trigger IOII1II=null
trigger IOII1OI=null
trigger IOII11I=null
trigger IOIOIII=null
trigger IOIOIOI=null
trigger IOIOI1I=null
trigger IOIOOII=null
trigger IOIOOOI=null
trigger IOIOO1I=null
trigger IOIO1II=null
trigger IOIO1OI=null
trigger IOIO11I=null
trigger IOI1III=null
trigger IOI1IOI=null
trigger IOI1I1I=null
trigger IOI1OII=null
trigger IOI1OOI=null
trigger IOI1O1I=null
trigger IOI11II=null
trigger IOI11OI=null
trigger IOI111I=null
trigger IOOIIII=null
trigger IOOIIOI=null
trigger IOOII1I=null
trigger IOOIOII=null
trigger IOOIOOI=null
trigger IOOIO1I=null
trigger IOOI1II=null
trigger IOOI1OI=null
trigger IOOI11I=null
trigger IOOOIII=null
trigger IOOOIOI=null
trigger IOOOI1I=null
trigger IOOOOII=null
trigger IOOOOOI=null
trigger IOOOO1I=null
trigger IOOO1II=null
trigger IOOO11I=null
trigger IOO1III=null
trigger IOO1IOI=null
trigger IOO1I1I=null
trigger IOO1OII=null
trigger IOO1OOI=null
trigger IOO1O1I=null
trigger IOO11II=null
trigger IOO11OI=null
trigger IOO111I=null
trigger IO1IIII=null
trigger IO1IIOI=null
trigger IO1II1I=null
trigger IO1IOII=null
trigger IO1IOOI=null
trigger IO1IO1I=null
trigger IO1I1II=null
trigger IO1I1OI=null
trigger IO1I11I=null
trigger IO1OIII=null
trigger IO1OIOI=null
trigger IO1OI1I=null
trigger IO1OOII=null
trigger IO1OOOI=null
trigger IO1OO1I=null
trigger IO1O1II=null
trigger IO1O1OI=null
trigger IO1O11I=null
trigger IO11III=null
trigger IO11IOI=null
trigger IO11I1I=null
trigger IO11OII=null
trigger IO11OOI=null
trigger IO11O1I=null
trigger IO111II=null
trigger IO111OI=null
trigger IO1111I=null
trigger I1IIIII=null
trigger I1IIIOI=null
trigger I1III1I=null
trigger I1IIOII=null
trigger I1IIOOI=null
trigger I1IIO1I=null
trigger I1II1II=null
trigger I1II1OI=null
trigger I1II11I=null
trigger I1IOIII=null
trigger I1IOIOI=null
trigger I1IOI1I=null
trigger I1IOOII=null
trigger I1IOOOI=null
trigger I1IOO1I=null
trigger I1IO1II=null
trigger I1IO1OI=null
trigger I1IO11I=null
trigger I1I1III=null
trigger I1I1IOI=null
trigger I1I1I1I=null
trigger I1I1OII=null
trigger I1I1OOI=null
trigger I1I1O1I=null
trigger I1I11II=null
trigger I1I11OI=null
trigger I1I111I=null
trigger I1OIIII=null
trigger I1OII1I=null
trigger I1OIOII=null
trigger I1OIOOI=null
trigger I1OIO1I=null
trigger I1OI1II=null
trigger I1OI1OI=null
trigger I1OI11I=null
trigger I1OOIII=null
trigger I1OOI1I=null
trigger I1OOOII=null
trigger I1OOOOI=null
trigger I1OOO1I=null
trigger I1OO1II=null
trigger I1OO1OI=null
trigger I1OO11I=null
trigger I1O1III=null
trigger I1O1IOI=null
trigger I1O1I1I=null
trigger I1O1OII=null
trigger I1O1OOI=null
trigger I1O1O1I=null
trigger I1O11II=null
trigger I1O11OI=null
trigger I1O111I=null
trigger I11IIII=null
trigger I11IIOI=null
trigger I11II1I=null
trigger I11IOII=null
trigger I11IOOI=null
trigger I11IO1I=null
trigger I11I1II=null
trigger I11I1OI=null
trigger I11I11I=null
trigger I11OIII=null
trigger I11OIOI=null
trigger I11OI1I=null
trigger I11OOII=null
trigger I11OOOI=null
trigger I11OO1I=null
trigger I11O1II=null
trigger I11O1OI=null
trigger I11O11I=null
trigger I111III=null
trigger I111IOI=null
trigger I111I1I=null
trigger I111OII=null
trigger I111OOI=null
trigger I111O1I=null
trigger I1111II=null
trigger I1111OI=null
trigger I11111I=null
trigger OIIIIII=null
trigger OIIIIOI=null
trigger OIIII1I=null
trigger OIIIOII=null
trigger OIIIOOI=null
trigger OIIIO1I=null
trigger OIII1II=null
trigger OIII1OI=null
trigger OIII11I=null
trigger OIIOIII=null
trigger OIIOIOI=null
trigger OIIOI1I=null
trigger OIIOOII=null
trigger OIIOOOI=null
trigger OIIOO1I=null
trigger OIIO1II=null
trigger OIIO1OI=null
trigger OIIO11I=null
trigger OII1III=null
trigger OII1IOI=null
trigger OII1I1I=null
trigger OII1OII=null
trigger OII1OOI=null
trigger OII1O1I=null
trigger OII11II=null
trigger OII11OI=null
trigger OII111I=null
trigger OIOIIII=null
trigger OIOIIOI=null
trigger OIOII1I=null
trigger OIOIOII=null
trigger OIOIOOI=null
trigger OIOIO1I=null
trigger OIOI1II=null
trigger OIOI1OI=null
trigger OIOI11I=null
trigger OIOOIII=null
trigger OIOOIOI=null
trigger OIOOI1I=null
trigger OIOOOII=null
trigger OIOOOOI=null
trigger OIOOO1I=null
trigger OIOO1II=null
trigger OIOO1OI=null
trigger OIOO11I=null
trigger OIO1III=null
trigger OIO1IOI=null
trigger OIO1I1I=null
trigger OIO1OII=null
trigger OIO1OOI=null
trigger OIO1O1I=null
trigger OIO11II=null
trigger OIO11OI=null
trigger OIO111I=null
trigger OI1IIII=null
trigger OI1IIOI=null
trigger OI1II1I=null
trigger OI1IOII=null
trigger OI1IOOI=null
trigger OI1IO1I=null
trigger OI1I1II=null
trigger OI1I1OI=null
trigger OI1OIII=null
trigger OI1OIOI=null
trigger OI1OI1I=null
trigger OI1OOII=null
trigger OI1OOOI=null
trigger OI1OO1I=null
trigger OI1O1II=null
trigger OI1O1OI=null
trigger OI1O11I=null
trigger OI11III=null
trigger OI11IOI=null
trigger OI11I1I=null
trigger OI11OII=null
trigger OI11OOI=null
trigger OI11O1I=null
trigger OI111II=null
trigger OI111OI=null
trigger OI1111I=null
trigger OOIIIII=null
trigger OOIIIOI=null
trigger OOIII1I=null
trigger OOIIOII=null
trigger OOIIOOI=null
trigger OOIIO1I=null
trigger OOII1II=null
trigger OOII1OI=null
trigger OOII11I=null
trigger OOIOIII=null
trigger OOIOIOI=null
trigger OOIOI1I=null
trigger OOIOOII=null
trigger OOIOOOI=null
trigger OOIOO1I=null
trigger OOIO1II=null
trigger OOIO1OI=null
trigger OOIO11I=null
trigger OOI1III=null
trigger OOI1IOI=null
trigger OOI1I1I=null
trigger OOI1OII=null
trigger OOI1OOI=null
trigger OOI1O1I=null
trigger OOI11II=null
trigger OOI11OI=null
trigger OOI111I=null
trigger OOOIIII=null
trigger OOOIIOI=null
trigger OOOII1I=null
trigger OOOIOII=null
trigger OOOIOOI=null
trigger OOOIO1I=null
trigger OOOI1II=null
trigger OOOI1OI=null
trigger OOOI11I=null
trigger OOOOIII=null
trigger OOOOIOI=null
trigger OOOOI1I=null
trigger OOOOOII=null
trigger OOOOOOI=null
trigger OOOOO1I=null
trigger OOOO1II=null
trigger OOOO1OI=null
trigger OOOO11I=null
trigger OOO1III=null
trigger OOO1IOI=null
trigger OOO1I1I=null
trigger OOO1OII=null
trigger OOO1OOI=null
trigger OOO1O1I=null
trigger OOO11II=null
trigger OOO11OI=null
trigger OOO111I=null
trigger OO1IIII=null
trigger OO1IIOI=null
trigger OO1II1I=null
trigger OO1IOII=null
trigger OO1IOOI=null
trigger OO1IO1I=null
trigger OO1I1II=null
trigger OO1I1OI=null
trigger OO1I11I=null
trigger OO1OIII=null
trigger OO1OIOI=null
trigger OO1OI1I=null
trigger OO1OOII=null
trigger OO1OOOI=null
trigger OO1OO1I=null
trigger OO1O1II=null
trigger OO1O1OI=null
trigger OO1O11I=null
trigger OO11III=null
trigger OO11IOI=null
trigger OO11I1I=null
trigger OO11OII=null
trigger OO11OOI=null
trigger OO11O1I=null
trigger OO111II=null
trigger OO111OI=null
trigger OO1111I=null
trigger O1IIIII=null
trigger O1IIIOI=null
trigger O1III1I=null
trigger O1IIOII=null
trigger O1IIOOI=null
trigger O1IIO1I=null
trigger O1II1II=null
trigger O1II1OI=null
trigger O1II11I=null
trigger O1IOIII=null
trigger O1IOIOI=null
trigger O1IOI1I=null
trigger O1IOOII=null
trigger O1IOOOI=null
trigger O1IOO1I=null
trigger O1IO1II=null
trigger O1IO1OI=null
trigger O1IO11I=null
trigger O1I1III=null
trigger O1I1I1I=null
trigger O1I1OII=null
trigger O1I1OOI=null
trigger O1I1O1I=null
trigger O1I11II=null
trigger O1I11OI=null
trigger O1I111I=null
trigger O1OIIII=null
trigger O1OIIOI=null
trigger O1OII1I=null
trigger O1OIOII=null
trigger O1OIOOI=null
trigger O1OIO1I=null
trigger O1OI1II=null
trigger O1OI1OI=null
trigger O1OI11I=null
trigger O1OOIII=null
trigger O1OOIOI=null
trigger O1OOI1I=null
trigger O1OOOII=null
trigger O1OOOOI=null
trigger O1OOO1I=null
trigger O1OO1II=null
trigger O1OO1OI=null
trigger O1OO11I=null
trigger O1O1III=null
trigger O1O1IOI=null
trigger O1O1I1I=null
trigger O1O1OII=null
trigger O1O1OOI=null
trigger O1O1O1I=null
trigger O1O11II=null
trigger O1O11OI=null
trigger O1O111I=null
trigger O11IIII=null
trigger O11IIOI=null
trigger O11II1I=null
trigger O11IOII=null
trigger O11IOOI=null
trigger O11IO1I=null
trigger O11I1II=null
trigger O11I1OI=null
trigger O11I11I=null
trigger O11OIII=null
trigger O11OIOI=null
trigger O11OI1I=null
trigger O11OOII=null
trigger O11OOOI=null
trigger O11OO1I=null
trigger O11O1II=null
trigger O11O1OI=null
trigger O11O11I=null
trigger O111III=null
trigger O111IOI=null
trigger O111I1I=null
trigger O111OII=null
trigger O111OOI=null
trigger O111O1I=null
trigger O1111II=null
trigger O1111OI=null
trigger IIIIIIO=null
trigger IIIIIOO=null
trigger IIIII1O=null
trigger IIIIOIO=null
trigger IIIIOOO=null
trigger IIIIO1O=null
trigger IIII1IO=null
trigger IIII1OO=null
trigger IIII11O=null
trigger IIIOIIO=null
trigger IIIOIOO=null
trigger IIIOI1O=null
trigger IIIOOIO=null
trigger IIIOOOO=null
trigger IIIOO1O=null
trigger IIIO1IO=null
trigger IIIO1OO=null
trigger IIIO11O=null
trigger III1IIO=null
trigger III1IOO=null
trigger III1I1O=null
trigger III1OIO=null
trigger III1OOO=null
trigger III1O1O=null
trigger III11IO=null
trigger III11OO=null
trigger III111O=null
trigger IIOIIIO=null
trigger IIOIIOO=null
trigger IIOII1O=null
trigger IIOIOIO=null
trigger IIOIOOO=null
trigger IIOIO1O=null
trigger IIOI1IO=null
trigger IIOI1OO=null
trigger IIOI11O=null
trigger IIOOIIO=null
trigger IIOOIOO=null
trigger IIOOI1O=null
trigger IIOOOIO=null
trigger IIOOOOO=null
trigger IIOOO1O=null
trigger IIOO1IO=null
trigger IIOO1OO=null
trigger IIOO11O=null
trigger IIO1IIO=null
trigger IIO1IOO=null
trigger IIO1I1O=null
trigger IIO1OIO=null
trigger IIO1OOO=null
trigger IIO1O1O=null
trigger IIO11IO=null
trigger IIO11OO=null
trigger IIO111O=null
trigger II1IIIO=null
trigger II1IIOO=null
trigger II1II1O=null
trigger II1IOIO=null
trigger II1IOOO=null
trigger II1IO1O=null
trigger II1I1IO=null
trigger II1I1OO=null
trigger II1I11O=null
trigger II1OIIO=null
trigger II1OIOO=null
trigger II1OI1O=null
trigger II1OOIO=null
trigger II1OOOO=null
trigger II1OO1O=null
trigger II1O1IO=null
trigger II1O1OO=null
trigger II1O11O=null
trigger II11IIO=null
trigger II11IOO=null
trigger II11I1O=null
trigger II11OIO=null
trigger II11OOO=null
trigger II11O1O=null
trigger II111IO=null
trigger II111OO=null
trigger II1111O=null
trigger IOIIIIO=null
trigger IOIIIOO=null
trigger IOIII1O=null
trigger IOIIOIO=null
trigger IOIIOOO=null
trigger IOIIO1O=null
trigger IOII1IO=null
trigger IOII1OO=null
trigger IOII11O=null
trigger IOIOIIO=null
trigger IOIOIOO=null
trigger IOIOI1O=null
trigger IOIOOIO=null
trigger IOIOOOO=null
trigger IOIOO1O=null
trigger IOIO1IO=null
trigger IOIO1OO=null
trigger IOIO11O=null
trigger IOI1IIO=null
trigger IOI1IOO=null
trigger IOI1I1O=null
trigger IOI1OIO=null
trigger IOI1OOO=null
trigger IOI1O1O=null
trigger IOI11IO=null
trigger IOI11OO=null
trigger IOI111O=null
trigger yuzi2=null
trigger repickhr=null
trigger abarstr=null
trigger normalmode=null
trigger repickenablet=null
trigger addagibug=null
trigger wellethreet=null  
trigger wellethreett=null
trigger benduothreet=null
trigger teateathreet=null
trigger longchuant=null
trigger longchuan4=null
trigger guobigt=null
trigger nocdmodet=null
trigger songhealingt=null
trigger daoxuethreet1=null
trigger daoxuethreet2=null
trigger tiebigcoolt=null
trigger xinzhong=null
trigger shenyuan=null
trigger yuanfei=null
trigger jiabig=null
trigger jiabigperiod=null
trigger fengxu=null
trigger zuli=null
trigger cunzheng=null
trigger erlong=null
trigger erlongs1=null
trigger erlongs2=null
trigger erlongs2t=null
trigger xiangzong=null
trigger xiangzongt=null
trigger piancang=null
trigger yuxi4=null
trigger wuren=null
trigger xiuman2=null
trigger pull1=null
trigger pull2=null
trigger hhtsj=null
trigger testcode=null
trigger test1=null
trigger test2=null
trigger test3=null
trigger shichuan2=null
trigger shichuan2t=null
trigger arrow1=null
trigger arrow1t=null
trigger shi2=null
trigger shi1=null
trigger baidi3=null
trigger xin1=null
trigger benyuan1=null
trigger zongmao0=null
player testplayer
unit IOOIIIO=null
unit IOOIIOO=null
unit IOOII1O=null
unit IOOIOIO=null
unit IOOIOOO=null
unit IOOIO1O=null
unit IOOI1IO=null
unit IOOI1OO=null
unit IOOI11O=null
unit IOOOIIO=null
unit IOOOIOO=null
unit IOOOI1O=null
unit IOOOOIO=null
unit IOOOOOO=null
unit IOOOO1O=null
unit IOOO1IO=null
unit IOOO1OO=null
unit IOOO11O=null
unit IOO1IIO=null
unit IOO1IOO=null
unit IOO1I1O=null
unit IOO1OIO=null
unit IOO1OOO=null
unit IOO1O1O=null
unit IOO11IO=null
unit IOO11OO=null
unit IOO111O=null
unit IO1IIIO=null
unit IO1IIOO=null
unit IO1II1O=null
unit IO1IOIO=null
unit IO1IOOO=null
unit IO1IO1O=null
unit IO1I1IO=null
unit IO1I1OO=null
unit IO1I11O=null
unit IO1OIIO=null
unit IO1OIOO=null
unit IO1OI1O=null
string array IO1OOIO
string array IO1OOOO
boolean IO1OO1O=true
string IO1O1IO="Dur"+"\\"
boolean IO1O1OO
unit array IO1O11O
integer IO11IIO
player IO11IOO
unit IO11I1O
timer IO11OIO=CreateTimer()
player IO11OOO
trigger IO11O1O
boolean IO111IO=false
integer array IO111OO
timer IO1111O=CreateTimer()
real I1IIIIO
real I1IIIOO
real I1III1O
integer I1IIOIO
integer I1IIOOO
player I1IIO1O
player I1II1IO
timer I1II1OO=CreateTimer()
real I1II11O
real I1IOIIO
unit I1IOIOO=null
player I1IOI1O
unit I1IOOIO
group I1IOOOO=CreateGroup()
real I1IOO1O=0
timer I1IO1IO=CreateTimer()
unit I1IO1OO
unit I1IO11O
unit array I1I1IIO
timer I1I1IOO=CreateTimer()
real I1I1I1O
real I1I1OIO
real I1I1OOO
real I1I1O1O
real I1I11IO
real I1I11OO
real I1I111O
integer I1OIIIO
integer I1OIIOO
integer I1OII1O
unit I1OIOIO
player I1OIOOO
timer I1OIO1O=CreateTimer()
group I1OI1IO=CreateGroup()
trigger I1OI1OO=CreateTrigger()
unit I1OI11O
unit I1OOIIO
unit I1OOIOO=null
unit get_trigger_unit=null
lightning array I1OOI1O
lightning array I1OOOIO
unit I1OOOOO
unit I1OOO1O
unit I1OO1IO
player I1OO1OO
real I1OO11O=0
real I1O1IIO=0
real I1O1IOO=0
integer I1O1I1O=0
integer I1O1OIO=0
timer I1O1OOO=CreateTimer()
real I1O1O1O=0
group I1O11IO=CreateGroup()
trigger I1O11OO=CreateTrigger()
timer I1O111O=CreateTimer()
real array I11IIIO
unit I11IIOO
integer I11II1O=0
integer I11IOIO=0
real I11IOOO=0
boolean I11IO1O=false
player I11I1IO
trigger I11I1OO=CreateTrigger()
trigger I11I11O=CreateTrigger()
boolean I11OIIO=false
trigger I11OIOO=CreateTrigger()
trigger I11OI1O=CreateTrigger()
unit I11OOIO
real I11OOOO
player I11OO1O
integer I11O1IO=0
player I11O1OO
unit I11O11O
integer I111IIO
group I111IOO=CreateGroup()
timer I111I1O=CreateTimer()
real I111OIO
real I111OOO
real I111O1O
unit I1111IO
integer I1111OO=0
trigger I11111O=CreateTrigger()
player OIIIIIO
boolean OIIIIOO=true
timer OIIII1O=CreateTimer()
trigger OIIIOIO=CreateTrigger()
unit OIIIOOO
unit OIIIO1O
player OIII1IO
real OIII1OO
real OIII11O
real OIIOIIO
timer OIIOIOO=CreateTimer()
unit OIIOI1O
real OIIOOIO
integer OIIOOOO=280
integer OIIOO1O
unit array OIIO1IO
player OIIO1OO
unit array OIIO11O
unit OII1IIO
unit OII1IOO
integer OII1I1O
timer OII1OIO=CreateTimer()
timer OII1OOO=CreateTimer()
real OII1O1O
real OII11IO
real OII11OO
real OII111O
unit OIOIIIO
timer OIOIIOO=CreateTimer()
player OIOII1O
unit OIOIOIO
integer OIOIOOO=0
integer OIOIO1O=0
integer OIOI1IO
trigger OIOI1OO
integer OIOI11O=0
real OIOOIIO
unit OIOOIOO
player OIOOI1O
timer OIOOOIO=CreateTimer()
real OIOOOOO
unit OIOOO1O
timer OIOO1IO=CreateTimer()
timer OIOO1OO=CreateTimer()
unit OIOO11O
unit OIO1IIO
group G2=CreateGroup()
timer OIO1IOO=CreateTimer()
unit OIO1I1O
unit OIO1OIO
player OIO1OOO
integer OIO1O1O
integer OIO11IO
integer OIO11OO=0
unit array OIO111O
unit OI1IIIO
player OI1IIOO
unit OI1II1O=null
timer OI1IOIO=CreateTimer()
timer OI1IOOO=CreateTimer()
integer array OI1IO1O
real OI1I1IO
boolean OI1I1OO=true
real OI1I11O
trigger OI1OIIO
timer OI1OIOO=CreateTimer()
unit U
real OI1OI1O
real array OI1OOOO
integer OI1OO1O=0
integer OI1O1IO=0
integer array OI1O1OO
unit array OI1O11O
integer array OI11IIO
real array OI11IOO
integer array OI11I1O
integer array OI11OIO
integer array OI11OOO
player array OI11O1O
integer OI111IO=0
integer OI111OO=0
integer array OI1111O
timer array OOIIIIO
unit array OOIIIOO
real array OOIII1O
timer OOIIOIO=null
real OOIIO1O=.0
real OOII1IO=.0
group OOII1OO=null
force OOII11O=null
boolexpr OOIOIIO=null
integer repickuser=0
integer repickt1=100
integer repickt2=100
integer killaddagi=100
integer array tiebig
integer array tiebig2
integer limitillusion=1
integer killaddstr=100
real teateathreedam=100
integer teateathreeplayer=100
integer array learnedskill
integer array chosenhero
unit array straightthree
integer tiebiglimit=0
integer tiebigplayer=100
unit fakebigtrig
unit fakebigtarg
integer fakebigdam=1
boolean treethree=false
unit treethreecast
boolean nocdmode=false
unit songhealingtarg
unit songhealingtrig
real songhealingdam=0
unit manadamu
timer tiebigtime=CreateTimer()
boolean tiebigcool=true
boolean repickitem=false
real fakebigtime
integer array herolevel
boolean array skillcontrol
boolean nmmode=false
integer bigbig=0
integer jiabigplayer=100
integer jiabiglevel
timer jiabigtimer=CreateTimer()
integer fengxuplayer=100
integer zulitime=0
integer yuanfeicount=0
integer yuanfeireset=0
boolean cunzhengtf=false
integer teamdie1=0
integer teamdie2=0
integer erlongcount=0
boolean towerreset=true
integer linqicount=5
string array tiebigtext
unit tie136
unit tie144
unit tie1442
boolean tieshield=true
integer xiangzonglimit=10
boolean xiangzonglimitregen=true
unit wurenu1=null
unit wurenu2=null
unit yuxiunit
boolean xinzhongcd=true
real jiecheng2bonus
real jiecheng2original
boolean array rpcontrol
player fengxup
boolean fengxubig=true
unit shi1u=null
timer shi1timer=CreateTimer()
unit baidi3u=null
unit xin1u=null
unit zongmao0u=null
unit benyuan1u=null
timer baidi3timer=CreateTimer()
timer xin1timer=CreateTimer()
timer zongmao0timer=CreateTimer()
timer benyuan1timer=CreateTimer()
group xin1limit=CreateGroup()
group zongmao0limit=CreateGroup()
group benyuan1limit=CreateGroup()
integer xin1size=1250
trigger xin1sizet=null
group yuzi2g=CreateGroup()
real yuzi2dam=50
endglobals
function OOIOI1O takes real OOIOOIO returns nothing
local real OOIOOOO
local real st=TimerGetElapsed(OOIIOIO)
if st<=0 then
set OOIIOIO=CreateTimer()
call TimerStart(OOIIOIO,$F4240,false,null)
endif
if(OOIOOIO>0)then
loop
set OOIOOOO=OOIOOIO-TimerGetElapsed(OOIIOIO)+st
exitwhen OOIOOOO<=0
if(OOIOOOO>bj_POLLED_WAIT_SKIP_THRESHOLD)then
call TriggerSleepAction(.1*OOIOOOO)
else
call TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)
endif
endloop
endif
endfunction
function OOIOO1O takes location OOIO1IO,real OOIO1OO,real OOIO11O returns location
return Location(GetLocationX(OOIO1IO)+OOIO1OO*Cos(OOIO11O*bj_DEGTORAD),GetLocationY(OOIO1IO)+OOIO1OO*Sin(OOIO11O*bj_DEGTORAD))
endfunction
function OOI1IIO takes nothing returns boolean
local real dx=GetDestructableX(GetFilterDestructable())-OOIIO1O
local real dy=GetDestructableY(GetFilterDestructable())-OOII1IO
return(dx*dx+dy*dy<=bj_enumDestructableRadius)
endfunction
function OOI1IOO takes rect r,boolexpr OOI1I1O returns group
set OOII1OO=CreateGroup()
call GroupEnumUnitsInRect(OOII1OO,r,OOI1I1O)
call DestroyBoolExpr(OOI1I1O)
return OOII1OO
endfunction
function OOI1OIO takes real OOI1OOO,location OOI1O1O,boolexpr OOI1I1O returns group
set OOII1OO=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(OOII1OO,OOI1O1O,OOI1OOO,OOI1I1O)
return OOII1OO
endfunction
function OOI11IO takes player OOI11OO,integer OOI111O returns group
set OOII1OO=CreateGroup()
set bj_groupEnumTypeId=OOI111O
call GroupEnumUnitsOfPlayer(OOII1OO,OOI11OO,filterGetUnitsOfPlayerAndTypeId)
return OOII1OO
endfunction
function OOOIIIO takes player OOI11OO returns force
set OOII11O=CreateForce()                        
call ForceAddPlayer(OOII11O,OOI11OO)
return OOII11O
endfunction
function OOOIIOO takes player OOI11OO returns force
set OOII11O=CreateForce()
call ForceEnumAllies(OOII11O,OOI11OO,OOIOIIO)
return OOII11O
endfunction
function OOOII1O takes itemtype OOOIOIO,integer OOOIOOO returns nothing
local group g
set bj_stockPickedItemType=OOOIOIO
set bj_stockPickedItemLevel=OOOIOOO
set g=CreateGroup()
call GroupEnumUnitsOfType(g,"marketplace",OOIOIIO)
call ForGroup(g,function UpdateEachStockBuildingEnum)
call DestroyGroup(g)
set g=null
endfunction
function OOOIO1O takes nothing returns nothing
local integer pickedItemId
local itemtype OOOI1IO
local integer OOOI1OO=0
local integer OOOI11O=0
local integer OOOIOOO
set OOOIOOO=1
loop
if(bj_stockAllowedPermanent[OOOIOOO])then
set OOOI11O=OOOI11O+1
if(GetRandomInt(1,OOOI11O)==1)then
set OOOI1IO=ITEM_TYPE_PERMANENT
set OOOI1OO=OOOIOOO
endif
endif
if(bj_stockAllowedCharged[OOOIOOO])then
set OOOI11O=OOOI11O+1
if(GetRandomInt(1,OOOI11O)==1)then
set OOOI1IO=ITEM_TYPE_CHARGED
set OOOI1OO=OOOIOOO
endif
endif
if(bj_stockAllowedArtifact[OOOIOOO])then
set OOOI11O=OOOI11O+1
if(GetRandomInt(1,OOOI11O)==1)then
set OOOI1IO=ITEM_TYPE_ARTIFACT
set OOOI1OO=OOOIOOO
endif
endif
set OOOIOOO=OOOIOOO+1
exitwhen OOOIOOO>$A
endloop
if(OOOI11O==0)then
set OOOI1IO=null
return
endif
call OOOII1O(OOOI1IO,OOOI1OO)
set OOOI1IO=null
endfunction
function OOOOIIO takes nothing returns nothing
call OOOIO1O()
call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INTERVAL,true,function OOOIO1O)
endfunction
function OOOOI1O takes nothing returns boolean
return true
endfunction
function OOOO1IO takes nothing returns integer
local integer OOOO1OO=OI1OO1O
if(OOOO1OO!=0)then
set OI1OO1O=OI1O1OO[OOOO1OO]
else
set OI1O1IO=OI1O1IO+1
set OOOO1OO=OI1O1IO
endif
if(OOOO1OO>681)then
return 0
endif
set OI11IIO[OOOO1OO]=(OOOO1OO-1)*$C
set OI1O1OO[OOOO1OO]=-1
return OOOO1OO
endfunction
function OOOO11O takes integer OOOO1OO returns nothing
if OOOO1OO==null then
return
elseif(OI1O1OO[OOOO1OO]!=-1)then
return
endif
set OI1O1OO[OOOO1OO]=OI1OO1O
set OI1OO1O=OOOO1OO
endfunction
function OOO1IIO takes nothing returns integer
local integer OOOO1OO=OI111IO
if(OOOO1OO!=0)then
set OI111IO=OI1111O[OOOO1OO]
else
set OI111OO=OI111OO+1
set OOOO1OO=OI111OO
endif
if(OOOO1OO>8190)then
return 0
endif
set OI1111O[OOOO1OO]=-1
return OOOO1OO
endfunction
function OOO1IOO takes integer OOOO1OO returns nothing
if OOOO1OO==null then
return
elseif(OI1111O[OOOO1OO]!=-1)then
return
endif
set OI1111O[OOOO1OO]=OI111IO
set OI111IO=OOOO1OO
endfunction
function OOO1I1O takes nothing returns nothing
call SaveBoolean(O,GetHandleId(GetTriggerUnit()),0,true)
endfunction
function OOO1OIO takes nothing returns boolean
return GetSpellAbilityId()=='ANss'
endfunction
function OOO1OOO takes nothing returns nothing
local player p=Player($C)
local unit u
local integer unitID
local trigger t
local real OOO1O1O
set IOOO1IO=CreateUnit(p,'nbld',3631.1,3394.6,251.57)
set u=CreateUnit(p,'nban',-1005.6,4139.2,17.348)
set u=CreateUnit(p,'nban',-1100.2,3547.4,129.643)
set u=CreateUnit(p,'nban',-407.,3126.7,155.78)
set u=CreateUnit(p,'nban',610.4,3562.4,75.303)
set u=CreateUnit(p,'nban',2876.3,2096.7,355.616)
set u=CreateUnit(p,'nban',3246.2,972.2,312.417)
set u=CreateUnit(p,'nban',2332.5,726.1,170.315)
set u=CreateUnit(p,'nftk',-1833.9,2982.4,285.04)
set u=CreateUnit(p,'nskg',-972.1,-4317.9,278.149)
set u=CreateUnit(p,'nskg',-1078.4,-4298.1,222.58)
set u=CreateUnit(p,'nbrg',-2604.1,-2296.3,267.734)
set u=CreateUnit(p,'nwwd',-2614.4,-3443.,124.962)
set u=CreateUnit(p,'nwwd',-2470.3,-3469.7,43.408)
set u=CreateUnit(p,'nwwd',-2624.2,-3603.1,344.37)
set u=CreateUnit(p,'nbrg',-2528.7,-2360.1,253.924)
set u=CreateUnit(p,'nwzd',357.9,2884.7,209.22)
set u=CreateUnit(p,'nwlg',4576.,3634.7,210.01)
set u=CreateUnit(p,'nwlg',4702.4,3523.4,128.324)
set u=CreateUnit(p,'nwlg',4598.9,3448.3,276.556)
set u=CreateUnit(p,'nass',4182.8,1394.1,147.968)
set u=CreateUnit(p,'nass',4118.1,1217.1,336.785)
set u=CreateUnit(p,'nrog',359.,1011.8,180.654)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'nrog',355.2,872.5,299.595)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'ndtb',-3224.1,-1085.,127.796)
set u=CreateUnit(p,'ndtr',-4253.1,-4205.4,298.947)
set u=CreateUnit(p,'ndtr',-3604.1,-3651.4,80.4)
set u=CreateUnit(p,'ndtr',-4310.1,-3764.,170.502)
set u=CreateUnit(p,'ndtr',-3740.7,-4073.,257.626)
set u=CreateUnit(p,'n016',-3800.4,-3899.5,75.71)
set u=CreateUnit(p,'ndtr',-4097.,-3635.4,160.42)
set u=CreateUnit(p,'nenf',154.3,2791.,299.76)
set u=CreateUnit(p,'nenf',285.2,2672.8,227.03)
set u=CreateUnit(p,'nsqo',3816.,-202.7,287.8)
set u=CreateUnit(p,'nban',3290.2,2105.,164.91)
set u=CreateUnit(p,'nenf',3626.7,2897.,143.28)
set u=CreateUnit(p,'nrog',3426.9,3026.5,239.344)
set u=CreateUnit(p,'nbrg',3408.4,3252.4,96.353)
set u=CreateUnit(p,'nbrg',3762.6,2967.3,155.3)
set u=CreateUnit(p,'nban',3279.5,1290.8,63.833)
set u=CreateUnit(p,'nban',38.5,3959.1,239.169)
set u=CreateUnit(p,'n01C',1466.1,3765.5,264.58)
set u=CreateUnit(p,'n017',-4395.6,-450.9,340.883)
set u=CreateUnit(p,'n017',-4186.9,-567.4,242.981)
set u=CreateUnit(p,'njgb',-3376.3,-1455.9,99.17)
set u=CreateUnit(p,'nban',1247.,2440.7,257.297)
set u=CreateUnit(p,'nban',-887.1,3713.7,164.91)
set u=CreateUnit(p,'nban',2537.2,2186.8,247.145)
endfunction
function OOO11IO takes nothing returns nothing
local player p=Player($F)
local unit u
local integer unitID
local trigger t
local real OOO1O1O
set u=CreateUnit(p,'ngad',3584.,3776.,270.)
set u=CreateUnit(p,'ndrg',-4032.,-4096.,270.)
set u=CreateUnit(p,'ngad',-3968.,-2624.,270.)
set u=CreateUnit(p,'n01S',2560.,3392.,270.)
set u=CreateUnit(p,'n00K',-6828.,-6699.1,45.964)
set u=CreateUnit(p,'n00K',64.,256.,270.)
set u=CreateUnit(p,'n00K',6464.,6464.,270.)
set IO1I11O=CreateUnit(p,'n025',-7168.,-7808.,270.)
call SetUnitColor(IO1I11O,ConvertPlayerColor($C))
set IO1II1O=CreateUnit(p,'n01N',-6912.,-7872.,270.)
call SetUnitColor(IO1II1O,ConvertPlayerColor($C))
set u=CreateUnit(p,'ngme',-1952.,-960.,270.)
set u=CreateUnit(p,'n01Y',-4129.,-2322.8,20.)
set u=CreateUnit(p,'n01Z',3136.,3904.,270.)
set u=CreateUnit(p,'n021',-5440.,-8000.,270.)
set u=CreateUnit(p,'n021',4608.,7872.,270.)
set u=CreateUnit(p,'n021',-128.,640.,270.)
set u=CreateUnit(p,'ngme',-5984.,-7424.,270.)
set u=CreateUnit(p,'ngme',7200.,7936.,270.)
set u=CreateUnit(p,'n024',6304.,7936.,270.)
set u=CreateUnit(p,'n024',-1184.,-1792.,270.)
set u=CreateUnit(p,'n024',-6304.,-7104.,270.)
set u=CreateUnit(p,'necr',7663.3,-6968.1,303.847)
set u=CreateUnit(p,'necr',-2035.,4611.5,16.326)
set u=CreateUnit(p,'nalb',-6984.,-2674.5,218.019)
set u=CreateUnit(p,'nalb',2504.8,3105.6,44.024)
set u=CreateUnit(p,'nfro',4302.8,126.6,264.691)
set u=CreateUnit(p,'nfro',-5704.6,1836.4,202.144)
endfunction
function OOO11OO takes nothing returns nothing
local player p
local unit u
local integer unitID
local trigger t
local real OOO1O1O
set p=Player($A)
set IOOIIIO=CreateUnit(p,'ntn2',6272.,-6400.,180.)
set u=CreateUnit(p,'n00F',6496.,-5664.,270.)
set u=CreateUnit(p,'n00F',5408.,-6624.,90.)
set u=CreateUnit(p,'n00F',5088.,-6304.,90.)
set u=CreateUnit(p,'n00F',4768.,-5984.,90.)
set u=CreateUnit(p,'n00F',6176.,-5344.,270.)
set u=CreateUnit(p,'n00F',5856.,-5024.,270.)
set u=CreateUnit(p,'hatw',7424.,-7488.,270.)
set u=CreateUnit(p,'ngwr',3936.,-6944.,270.)
set u=CreateUnit(p,'ngwr',7200.,-4640.,270.)
set u=CreateUnit(p,'owtw',4096.,-5184.,230.)
set u=CreateUnit(p,'owtw',3648.,-4864.,230.)
set u=CreateUnit(p,'owtw',2880.,-6144.,270.)
set u=CreateUnit(p,'harm',3648.,-5632.,270.)
set u=CreateUnit(p,'hbla',4928.,-7040.,270.)
set u=CreateUnit(p,'hlum',6816.,-5088.,270.)
set u=CreateUnit(p,'owtw',2880.,-6656.,270.)
set u=CreateUnit(p,'owtw',6304.,-3328.,180.)
set u=CreateUnit(p,'owtw',6976.,-3360.,180.)
set u=CreateUnit(p,'owtw',6304.,-2816.,180.)
set u=CreateUnit(p,'owtw',6976.,-2816.,180.)
set u=CreateUnit(p,'owtw',4512.,-4608.,230.)
set u=CreateUnit(p,'owtw',4096.,-4288.,230.)
set u=CreateUnit(p,'owtw',2240.,-6144.,270.)
set u=CreateUnit(p,'owtw',2240.,-6656.,270.)
set IOO1IIO=CreateUnit(p,'e00B',6336.,-6080.,270.)
call SetUnitColor(IOO1IIO,ConvertPlayerColor($C))
set u=CreateUnit(p,'hhou',5632.,-4672.,180.)
set u=CreateUnit(p,'hhou',4160.,-5760.,270.)
set u=CreateUnit(p,'hhou',4288.,-7040.,270.)
set IOOIIOO=CreateUnit(p,'nten',6656.,-4224.,140.)
set IOOII1O=CreateUnit(p,'n004',4608.,-5184.,180.)
set IOOIOIO=CreateUnit(p,'n007',3776.,-6272.,255.)
set IOOOIIO=CreateUnit(p,'n00D',6336.,-832.,140.)
set IOOOIOO=CreateUnit(p,'n009',2720.,-3392.,180.)
set IOOOI1O=CreateUnit(p,'n00C',128.,-6304.,230.)
set u=CreateUnit(p,'h00C',7808.,-7872.,270.)
set u=CreateUnit(p,'h00D',7936.,-7744.,270.)
set IOOO1OO=CreateUnit(p,'ntav',7936.,-6464.,270.)
call SetUnitColor(IOOO1OO,ConvertPlayerColor($A))
set IO1IIIO=CreateUnit(p,'n02U',8128.,-6272.,270.)
call SetUnitColor(IO1IIIO,ConvertPlayerColor($A))
set u=CreateUnit(p,'n00F',-512.,-6784.,127.)
set u=CreateUnit(p,'n00F',2400.,-4000.,270.)
set u=CreateUnit(p,'owtw',-896.,-5952.,270.)
set u=CreateUnit(p,'owtw',-896.,-6592.,270.)
set u=CreateUnit(p,'owtw',2240.,-2560.,220.)
set u=CreateUnit(p,'owtw',1792.,-2976.,220.)
set u=CreateUnit(p,'owtw',6048.,-192.,180.)
set u=CreateUnit(p,'owtw',6720.,-192.,180.)
set u=CreateUnit(p,'n00F',1888.,-3392.,.0)
set u=CreateUnit(p,'n00F',2656.,-2720.,270.)
set u=CreateUnit(p,'n00F',7008.,-1248.,245.)
set IOO11OO=CreateUnit(p,'e00C',5952.,-6464.,270.)
call SetUnitColor(IOO11OO,ConvertPlayerColor($C))
set IOO1OOO=CreateUnit(p,'h027',2516.3,-6348.7,181.39)
set u=CreateUnit(p,'n002',6605.5,-7673.8,69.927)
set IOOI1OO=CreateUnit(p,'h00Q',4032.,-4672.,131.)
set IOO1O1O=CreateUnit(p,'h028',6648.4,-3047.5,131.631)
set u=CreateUnit(p,'n00I',6853.7,-7736.1,70.445)
set u=CreateUnit(p,'owtw',3392.,-3904.,220.)
set u=CreateUnit(p,'owtw',2912.,-4320.,220.)
set u=CreateUnit(p,'owtw',6016.,2880.,180.)
set u=CreateUnit(p,'owtw',6752.,2880.,180.)
set u=CreateUnit(p,'owtw',-3008.,-6048.,270.)
set u=CreateUnit(p,'owtw',-3008.,-6688.,270.)
set u=CreateUnit(p,'n00F',-352.,-5728.,320.)
set u=CreateUnit(p,'n00F',5696.,-576.,319.)
set u=CreateUnit(p,'hhou',5568.,-3392.,270.)
set IO1IOOO=CreateUnit(p,'n01X',7232.,-6848.,270.)
set u=CreateUnit(p,'n00M',6762.8,-7725.2,68.)
set u=CreateUnit(p,'n00N',6676.7,-7705.6,54.589)
set u=CreateUnit(p,'n00F',6880.,2528.,270.)
set u=CreateUnit(p,'h02Y',7264.,-416.,270.)
set IO1OIIO=CreateUnit(p,'n00J',7936.,-6080.,270.)
call SetUnitColor(IO1OIIO,ConvertPlayerColor($A))
set u=CreateUnit(p,'h02Y',7264.,-736.,270.)
set u=CreateUnit(p,'n00F',-2656.,-6752.,270.)
set u=CreateUnit(p,'h022',3136.,-4928.,270.)
set u=CreateUnit(p,'h022',3264.,-4800.,270.)
set u=CreateUnit(p,'n00H',7466.5,-6850.5,237.076)
set u=CreateUnit(p,'h022',3392.,-4672.,270.)
set u=CreateUnit(p,'h017',3008.,-4992.,270.)
set u=CreateUnit(p,'h017',2880.,-4992.,270.)
set u=CreateUnit(p,'h02Y',7264.,-1056.,270.)
set u=CreateUnit(p,'n01T',6542.8,-7632.7,60.)
set u=CreateUnit(p,'h02Z',7081.6,-1679.7,.0)
set u=CreateUnit(p,'h02Z',7072.,64.,.0)
set u=CreateUnit(p,'owtw',6935.1,-6632.8,220.)
set u=CreateUnit(p,'owtw',6421.2,-7113.4,220.)
set u=CreateUnit(p,'h017',2752.,-4992.,270.)
set u=CreateUnit(p,'h022',2624.,-5056.,270.)
set u=CreateUnit(p,'h022',2496.,-5184.,270.)
set u=CreateUnit(p,'h022',2368.,-5312.,270.)
set u=CreateUnit(p,'h022',2240.,-5440.,270.)
set u=CreateUnit(p,'h022',2112.,-5568.,270.)
set u=CreateUnit(p,'h022',1984.,-5696.,270.)
set u=CreateUnit(p,'h022',1856.,-5824.,270.)
set u=CreateUnit(p,'h01U',1792.,-5952.,270.)
set u=CreateUnit(p,'h01U',1792.,-6080.,270.)
set u=CreateUnit(p,'h01M',7040.,-6848.,270.)
set u=CreateUnit(p,'h01M',6656.,-7232.,270.)
set u=CreateUnit(p,'h01M',6336.,-2240.,270.)
set u=CreateUnit(p,'h01M',6976.,-2240.,270.)
set u=CreateUnit(p,'h01M',5696.,-64.,270.)
set u=CreateUnit(p,'h01M',7104.,-64.,270.)
set u=CreateUnit(p,'h01M',5696.,-5568.,270.)
set u=CreateUnit(p,'h01M',6080.,3008.,270.)
set u=CreateUnit(p,'h01U',1792.,-7104.,270.)
set u=CreateUnit(p,'n013',7593.,-6944.8,229.298)
set u=CreateUnit(p,'n014',7699.3,-7025.7,219.121)
set u=CreateUnit(p,'h01U',1792.,-6976.,270.)
set u=CreateUnit(p,'h01U',1792.,-6848.,270.)
set u=CreateUnit(p,'h01M',6656.,3008.,270.)
set u=CreateUnit(p,'h01U',1792.,-6720.,270.)
set u=CreateUnit(p,'h021',1856.,-7232.,270.)
set u=CreateUnit(p,'h021',1984.,-7360.,270.)
set u=CreateUnit(p,'h01M',1920.,-6080.,270.)
set u=CreateUnit(p,'h01M',1920.,-6720.,270.)
set u=CreateUnit(p,'h01M',-1024.,-6784.,270.)
set u=CreateUnit(p,'h01M',-1024.,-5696.,270.)
set u=CreateUnit(p,'h01M',-3136.,-6720.,270.)
set u=CreateUnit(p,'h01M',-3136.,-6080.,270.)
set u=CreateUnit(p,'h01M',6464.,-7616.,270.)
set u=CreateUnit(p,'h01M',7488.,-6656.,270.)
set u=CreateUnit(p,'h01M',3520.,-4608.,270.)
set u=CreateUnit(p,'h01M',3904.,-4224.,270.)
set u=CreateUnit(p,'h01M',1664.,-3328.,270.)
set u=CreateUnit(p,'h01M',2560.,-2432.,270.)
set u=CreateUnit(p,'n01O',7104.,-6080.,270.)
set u=CreateUnit(p,'h01M',5056.,-3008.,270.)
set u=CreateUnit(p,'h01M',6912.,-6080.,270.)
set u=CreateUnit(p,'h01M',4864.,-6656.,270.)
set u=CreateUnit(p,'h01M',2752.,-5120.,270.)
set u=CreateUnit(p,'h01M',6464.,-4352.,270.)
set u=CreateUnit(p,'h01M',4800.,-5056.,270.)
set u=CreateUnit(p,'h01M',3712.,-6080.,270.)
set u=CreateUnit(p,'h017',2112.,-7424.,270.)
set u=CreateUnit(p,'h017',2240.,-7424.,270.)
set u=CreateUnit(p,'h017',2368.,-7424.,270.)
set IO1IIOO=CreateUnit(p,'n01L',7936.,-6272.,270.)
call SetUnitColor(IO1IIOO,ConvertPlayerColor($A))
set u=CreateUnit(p,'h017',2496.,-7424.,270.)
set u=CreateUnit(p,'h017',2624.,-7424.,270.)
set u=CreateUnit(p,'h017',2752.,-7424.,270.)
set u=CreateUnit(p,'h017',2880.,-7424.,270.)
set u=CreateUnit(p,'h017',3008.,-7424.,270.)
set u=CreateUnit(p,'h017',3136.,-7424.,270.)
set u=CreateUnit(p,'h017',3264.,-7424.,270.)
set u=CreateUnit(p,'h017',3392.,-7424.,270.)
set u=CreateUnit(p,'h017',3520.,-7424.,270.)
set u=CreateUnit(p,'h017',3648.,-7424.,270.)
set u=CreateUnit(p,'h017',3776.,-7424.,270.)
set u=CreateUnit(p,'h017',3904.,-7424.,270.)
set u=CreateUnit(p,'h017',4032.,-7424.,270.)
set u=CreateUnit(p,'h017',4160.,-7424.,270.)
set u=CreateUnit(p,'h017',4288.,-7424.,270.)
set u=CreateUnit(p,'h017',4416.,-7424.,270.)
set u=CreateUnit(p,'h017',4544.,-7424.,270.)
set u=CreateUnit(p,'h017',4672.,-7424.,270.)
set u=CreateUnit(p,'h017',4800.,-7424.,270.)
set u=CreateUnit(p,'h017',4928.,-7424.,270.)
set u=CreateUnit(p,'h017',5056.,-7424.,270.)
set u=CreateUnit(p,'h017',5184.,-7424.,270.)
set u=CreateUnit(p,'h017',5312.,-7424.,270.)
set u=CreateUnit(p,'h017',5440.,-7424.,270.)
set u=CreateUnit(p,'h017',5568.,-7424.,270.)
set u=CreateUnit(p,'h017',5696.,-7424.,270.)
set u=CreateUnit(p,'h017',5824.,-7424.,270.)
set u=CreateUnit(p,'h017',5952.,-7424.,270.)
set u=CreateUnit(p,'h017',6080.,-7424.,270.)
set u=CreateUnit(p,'h017',6208.,-7424.,270.)
set u=CreateUnit(p,'h017',6336.,-7424.,270.)
set u=CreateUnit(p,'h022',7168.,-6784.,270.)
set u=CreateUnit(p,'h017',6464.,-7424.,270.)
set u=CreateUnit(p,'h022',6592.,-7360.,270.)
set u=CreateUnit(p,'h017',7296.,-6720.,270.)
set u=CreateUnit(p,'h022',7424.,-6656.,270.)
set u=CreateUnit(p,'h022',7552.,-6528.,270.)
set u=CreateUnit(p,'h01U',7616.,-6400.,270.)
set u=CreateUnit(p,'h01U',7616.,-6272.,270.)
set u=CreateUnit(p,'h01U',7616.,-6144.,270.)
set u=CreateUnit(p,'h01U',7616.,-6016.,270.)
set u=CreateUnit(p,'h01U',7616.,-5888.,270.)
set u=CreateUnit(p,'h01U',7616.,-5760.,270.)
set u=CreateUnit(p,'h01U',7616.,-5632.,270.)
set u=CreateUnit(p,'h01U',7616.,-5504.,270.)
set u=CreateUnit(p,'h01U',7616.,-5376.,270.)
set u=CreateUnit(p,'h01U',7616.,-5248.,270.)
set u=CreateUnit(p,'h01U',7616.,-5120.,270.)
set u=CreateUnit(p,'h01U',7616.,-4992.,270.)
set u=CreateUnit(p,'h01U',7616.,-4864.,270.)
set u=CreateUnit(p,'h01U',7616.,-4736.,270.)
set u=CreateUnit(p,'h01U',7616.,-4608.,270.)
set u=CreateUnit(p,'h01U',7616.,-4480.,270.)
set u=CreateUnit(p,'h01U',7616.,-4352.,270.)
set u=CreateUnit(p,'h01U',7616.,-4224.,270.)
set u=CreateUnit(p,'h01U',7616.,-4096.,270.)
set u=CreateUnit(p,'h01U',7616.,-3968.,270.)
set u=CreateUnit(p,'h01U',7616.,-3840.,270.)
set u=CreateUnit(p,'h01U',7616.,-3712.,270.)
set u=CreateUnit(p,'h01U',7616.,-3584.,270.)
set u=CreateUnit(p,'h01U',7616.,-3456.,270.)
set u=CreateUnit(p,'h01U',7616.,-3328.,270.)
set u=CreateUnit(p,'h01U',7616.,-3200.,270.)
set u=CreateUnit(p,'h01U',7616.,-3072.,270.)
set u=CreateUnit(p,'h01U',7616.,-2944.,270.)
set u=CreateUnit(p,'h01U',7616.,-2816.,270.)
set u=CreateUnit(p,'h01U',7616.,-2688.,270.)
set u=CreateUnit(p,'h01U',7616.,-2560.,270.)
set u=CreateUnit(p,'h021',7552.,-2432.,270.)
set u=CreateUnit(p,'h021',7424.,-2304.,270.)
set u=CreateUnit(p,'h021',7296.,-2176.,270.)
set u=CreateUnit(p,'h017',7168.,-2112.,270.)
set u=CreateUnit(p,'h017',7040.,-2112.,270.)
set u=CreateUnit(p,'h017',6016.,-2112.,270.)
set u=CreateUnit(p,'h017',6144.,-2112.,270.)
set u=CreateUnit(p,'h017',6272.,-2112.,270.)
set u=CreateUnit(p,'h022',5376.,-2688.,270.)
set u=CreateUnit(p,'h022',5504.,-2560.,270.)
set u=CreateUnit(p,'h022',5632.,-2432.,270.)
set u=CreateUnit(p,'h022',5760.,-2304.,270.)
set u=CreateUnit(p,'h022',5888.,-2176.,270.)
set u=CreateUnit(p,'h01U',4288.,-3712.,270.)
set u=CreateUnit(p,'h01U',4288.,-3584.,270.)
set u=CreateUnit(p,'h01U',4288.,-3456.,270.)
set u=CreateUnit(p,'h017',4992.,-2752.,270.)
set u=CreateUnit(p,'h017',5120.,-2752.,270.)
set u=CreateUnit(p,'h017',5248.,-2752.,270.)
set u=CreateUnit(p,'h022',4224.,-3840.,270.)
set u=CreateUnit(p,'h022',4096.,-3968.,270.)
set u=CreateUnit(p,'h022',3968.,-4096.,270.)
set u=CreateUnit(p,'h022',4352.,-3328.,270.)
set u=CreateUnit(p,'h022',4480.,-3200.,270.)
set u=CreateUnit(p,'h022',4608.,-3072.,270.)
set u=CreateUnit(p,'h022',4736.,-2944.,270.)
set u=CreateUnit(p,'h022',4864.,-2816.,270.)
set u=CreateUnit(p,'h02Z',553.7,-5459.9,.0)
set u=CreateUnit(p,'n01U',7332.7,-6816.6,270.)
set u=CreateUnit(p,'h02Z',575.2,-7068.8,.0)
set u=CreateUnit(p,'h02Z',5664.,-1696.,.0)
set u=CreateUnit(p,'h02Z',5650.1,80.3,.0)
set u=CreateUnit(p,'h02Z',271.8,-7056.,.0)
set u=CreateUnit(p,'h02Z',-327.9,-7071.7,.0)
set u=CreateUnit(p,'h02Z',-660.8,-7100.5,.0)
set u=CreateUnit(p,'h02Z',-373.9,-5454.4,.0)
set IO1I1IO=CreateUnit(p,'h02I',5504.,-5632.,270.)
set u=CreateUnit(p,'h02Y',5472.,-416.,270.)
set u=CreateUnit(p,'h02Y',5472.,-736.,270.)
set u=CreateUnit(p,'h02Y',5472.,-1504.,270.)
set u=CreateUnit(p,'h031',1760.,-3616.,308.)
set u=CreateUnit(p,'h02Z',-692.8,-5467.5,.0)
set u=CreateUnit(p,'h030',3360.,-3520.,225.)
set u=CreateUnit(p,'h030',2496.,-4256.,225.)
set u=CreateUnit(p,'h02Y',736.,-5664.,270.)
set u=CreateUnit(p,'h02Y',736.,-6880.,270.)
set u=CreateUnit(p,'h02Y',7264.,-96.,270.)
set u=CreateUnit(p,'h031',1568.,-3360.,306.)
set u=CreateUnit(p,'h031',3011.6,-2826.3,308.)
set u=CreateUnit(p,'h031',2316.6,-4252.7,310.)
set u=CreateUnit(p,'h031',3410.,-3268.3,305.)
set u=CreateUnit(p,'h02Z',5972.3,-1693.4,.0)
set u=CreateUnit(p,'h02Y',7264.,-1376.,270.)
set u=CreateUnit(p,'h030',1568.,-3168.,225.)
set u=CreateUnit(p,'h02Z',-1011.9,-5471.6,.0)
set u=CreateUnit(p,'h02Y',5472.,-96.,270.)
set u=CreateUnit(p,'h02Z',-996.9,-7068.2,.0)
set u=CreateUnit(p,'h02Y',-1184.,-5664.,270.)
set u=CreateUnit(p,'h02Y',-1184.,-6880.,270.)
set u=CreateUnit(p,'h031',2668.5,-2311.4,310.)
set u=CreateUnit(p,'h031',2837.9,-2565.4,305.)
set u=CreateUnit(p,'h030',2448.4,-2309.3,225.)
set p=Player($B)
set IOOI1IO=CreateUnit(p,'n003',-4544.,4384.,.0)
set IOOIOOO=CreateUnit(p,'n006',-3904.,6080.,50.)
set IOOIO1O=CreateUnit(p,'n005',-6336.,3904.,320.)
set u=CreateUnit(p,'harm',-5440.,3840.,270.)
set u=CreateUnit(p,'o007',-5888.,3520.,270.)
set u=CreateUnit(p,'o007',-6592.,3520.,270.)
set u=CreateUnit(p,'o007',-6592.,2944.,270.)
set u=CreateUnit(p,'o007',-5888.,2944.,270.)
set u=CreateUnit(p,'o007',-4544.,3648.,315.)
set u=CreateUnit(p,'o007',-3968.,4160.,315.)
set u=CreateUnit(p,'o007',-3584.,3712.,315.)
set u=CreateUnit(p,'o007',-4160.,3264.,315.)
set u=CreateUnit(p,'o007',-3456.,6528.,.0)
set u=CreateUnit(p,'o007',-3456.,5760.,.0)
set u=CreateUnit(p,'hatw',-7360.,7360.,270.)
set IOOI11O=CreateUnit(p,'n008',-5984.,5696.,.0)
set u=CreateUnit(p,'n000',-5152.,5856.,270.)
set u=CreateUnit(p,'n000',-6304.,4960.,90.)
set u=CreateUnit(p,'n000',-5984.,4640.,90.)
set u=CreateUnit(p,'n000',-5664.,4256.,90.)
set u=CreateUnit(p,'n000',-4832.,5472.,270.)
set u=CreateUnit(p,'n000',-4512.,5152.,270.)
set u=CreateUnit(p,'o007',-2880.,6592.,.0)
set u=CreateUnit(p,'o007',-2816.,5760.,.0)
set IOOOOIO=CreateUnit(p,'n00B',-6272.,896.,320.)
set IOOOOOO=CreateUnit(p,'n00A',-3488.,1952.,.0)
set IOOOO1O=CreateUnit(p,'n00E',-832.,6272.,40.)
set u=CreateUnit(p,'h00C',-7744.,7552.,270.)
set u=CreateUnit(p,'h00D',-7616.,7680.,270.)
set IOO1OIO=CreateUnit(p,'n001',-6272.,7936.,270.)
call SetUnitColor(IOO1OIO,ConvertPlayerColor($B))
set IO1OI1O=CreateUnit(p,'n02V',-6464.,8128.,270.)
call SetUnitColor(IO1OI1O,ConvertPlayerColor($B))
set u=CreateUnit(p,'hbla',-3648.,4992.,270.)
set u=CreateUnit(p,'hlum',-4832.,6496.,270.)
set u=CreateUnit(p,'h01A',-6848.,4672.,50.)
set u=CreateUnit(p,'ngwr',-4320.,6624.,270.)
set u=CreateUnit(p,'ngwr',-6880.,4320.,270.)
set IOO111O=CreateUnit(p,'h00Y',-4096.,3776.,315.)
set u=CreateUnit(p,'o007',-6592.,288.,270.)
set u=CreateUnit(p,'o007',-5888.,288.,270.)
set u=CreateUnit(p,'o007',-256.,6656.,.0)
set u=CreateUnit(p,'o007',-256.,5888.,.0)
set u=CreateUnit(p,'o007',-3136.,1088.,315.)
set u=CreateUnit(p,'o007',-2720.,1472.,315.)
set u=CreateUnit(p,'n000',-5664.,1056.,250.)
set u=CreateUnit(p,'n000',-6688.,1376.,.0)
set u=CreateUnit(p,'n000',-4128.,1888.,270.)
set u=CreateUnit(p,'n000',-3616.,1312.,270.)
set u=CreateUnit(p,'n000',-1248.,6656.,.0)
set u=CreateUnit(p,'n000',-1312.,5856.,50.)
set u=CreateUnit(p,'n00H',-6841.5,7385.6,270.)
set IOO1IOO=CreateUnit(p,'e00D',-6080.,5504.,270.)
call SetUnitColor(IOO1IOO,ConvertPlayerColor($C))
set u=CreateUnit(p,'n00N',-7291.8,6554.3,55.881)
set IOO11IO=CreateUnit(p,'h02H',-3133.,6165.2,346.497)
set u=CreateUnit(p,'n00I',-7454.7,6698.6,50.)
set u=CreateUnit(p,'o007',2176.,6464.,.0)
set u=CreateUnit(p,'o007',2176.,5760.,.0)
set u=CreateUnit(p,'o007',-6720.,-2688.,270.)
set u=CreateUnit(p,'o007',-6016.,-2688.,270.)
set u=CreateUnit(p,'o007',-3584.,2880.,315.)
set u=CreateUnit(p,'o007',-4096.,2432.,315.)
set u=CreateUnit(p,'h01A',-4864.,3264.,270.)
set u=CreateUnit(p,'n000',1696.,6624.,270.)
set u=CreateUnit(p,'n000',-2976.,2080.,270.)
set u=CreateUnit(p,'n000',-6816.,-2272.,270.)
set u=CreateUnit(p,'n00M',-7380.5,6626.2,50.)
set u=CreateUnit(p,'h01A',-4032.,5440.,270.)
set IO1IO1O=CreateUnit(p,'h02G',-6215.7,3246.8,289.026)
set IOOO11O=CreateUnit(p,'eshd',-5696.,5824.,270.)
call SetUnitColor(IOOO11O,ConvertPlayerColor($C))
set u=CreateUnit(p,'n002',-7220.8,6510.9,50.)
set u=CreateUnit(p,'h01A',-3968.,4736.,.0)
set IO1IOIO=CreateUnit(p,'n01X',-6592.,7168.,270.)
set IOO1I1O=CreateUnit(p,'n00S',-6656.,7936.,270.)
call SetUnitColor(IOO1I1O,ConvertPlayerColor($B))
set u=CreateUnit(p,'h02Y',-1632.,6816.,270.)
set u=CreateUnit(p,'n01T',-7168.,6464.,51.)
set u=CreateUnit(p,'h02Y',-1600.,5792.,270.)
set u=CreateUnit(p,'o007',-6720.,5888.,315.)
set u=CreateUnit(p,'o007',-6144.,6464.,315.)
set u=CreateUnit(p,'n013',-6724.9,7390.9,270.)
set u=CreateUnit(p,'n014',-6611.4,7349.4,220.)
set u=CreateUnit(p,'h01M',-128.,6848.,270.)
set u=CreateUnit(p,'h01M',-64.,5696.,270.)
set u=CreateUnit(p,'h01M',-2560.,6464.,270.)
set u=CreateUnit(p,'h01M',-2560.,5824.,270.)
set u=CreateUnit(p,'h01M',-5248.,5120.,270.)
set u=CreateUnit(p,'h01M',-6720.,6208.,270.)
set u=CreateUnit(p,'h01M',-6336.,6528.,270.)
set u=CreateUnit(p,'h01M',-3520.,3648.,270.)
set u=CreateUnit(p,'h01M',-4096.,3136.,270.)
set u=CreateUnit(p,'h01M',-3456.,1088.,270.)
set u=CreateUnit(p,'h01M',-2560.,1792.,270.)
set u=CreateUnit(p,'h01M',-6528.,2688.,270.)
set u=CreateUnit(p,'h01M',-6016.,2688.,270.)
set u=CreateUnit(p,'h01M',-6784.,192.,270.)
set u=CreateUnit(p,'h01M',-5696.,192.,270.)
set u=CreateUnit(p,'h01M',-6656.,-2816.,270.)
set u=CreateUnit(p,'h01M',-6080.,-2816.,270.)
set u=CreateUnit(p,'h01M',-6528.,7296.,270.)
set u=CreateUnit(p,'h01M',-7040.,6464.,270.)
set u=CreateUnit(p,'h01M',2368.,6400.,270.)
set u=CreateUnit(p,'h01M',2368.,5760.,270.)
set u=CreateUnit(p,'n01O',-5888.,6720.,270.)
set u=CreateUnit(p,'h01M',-5440.,6656.,270.)
set u=CreateUnit(p,'h01M',-4736.,5824.,270.)
set u=CreateUnit(p,'h01M',-6848.,5440.,270.)
set u=CreateUnit(p,'h01M',-6656.,3968.,270.)
set u=CreateUnit(p,'h01M',-4352.,4544.,270.)
set u=CreateUnit(p,'h01M',-3968.,6272.,270.)
set u=CreateUnit(p,'h01M',-5504.,3008.,270.)
set u=CreateUnit(p,'h01M',-1536.,6784.,270.)
set IO1OIOO=CreateUnit(p,'n01I',-6464.,7936.,270.)
call SetUnitColor(IO1OIOO,ConvertPlayerColor($B))
set u=CreateUnit(p,'h017',-2944.,6976.,270.)
set u=CreateUnit(p,'h017',-3072.,6976.,270.)
set u=CreateUnit(p,'h017',-3200.,6976.,270.)
set u=CreateUnit(p,'h017',-3328.,6976.,270.)
set u=CreateUnit(p,'h017',-3456.,6976.,270.)
set u=CreateUnit(p,'h017',-3584.,6976.,270.)
set u=CreateUnit(p,'h017',-3712.,6976.,270.)
set u=CreateUnit(p,'h017',-3840.,6976.,270.)
set u=CreateUnit(p,'h017',-3968.,6976.,270.)
set u=CreateUnit(p,'h017',-4096.,6976.,270.)
set u=CreateUnit(p,'h017',-4224.,6976.,270.)
set u=CreateUnit(p,'h017',-4352.,6976.,270.)
set u=CreateUnit(p,'h017',-4480.,6976.,270.)
set u=CreateUnit(p,'h017',-4608.,6976.,270.)
set u=CreateUnit(p,'h017',-4736.,6976.,270.)
set u=CreateUnit(p,'h017',-4864.,6976.,270.)
set u=CreateUnit(p,'h017',-4992.,6976.,270.)
set u=CreateUnit(p,'h017',-5120.,6976.,270.)
set u=CreateUnit(p,'h017',-5248.,6976.,270.)
set u=CreateUnit(p,'h017',-5376.,6976.,270.)
set u=CreateUnit(p,'h017',-5504.,6976.,270.)
set u=CreateUnit(p,'h017',-5632.,6976.,270.)
set u=CreateUnit(p,'h017',-5760.,6976.,270.)
set u=CreateUnit(p,'h017',-5888.,6976.,270.)
set u=CreateUnit(p,'h017',-6016.,6976.,270.)
set u=CreateUnit(p,'h021',-2816.,6912.,270.)
set u=CreateUnit(p,'h021',-2688.,6784.,270.)
set u=CreateUnit(p,'h022',-2688.,4352.,270.)
set u=CreateUnit(p,'h022',-2816.,4224.,270.)
set u=CreateUnit(p,'h022',-2944.,4096.,270.)
set u=CreateUnit(p,'h022',-3072.,3968.,270.)
set u=CreateUnit(p,'h022',-3200.,3840.,270.)
set u=CreateUnit(p,'h022',-3328.,3712.,270.)
set u=CreateUnit(p,'h017',-4544.,2624.,270.)
set u=CreateUnit(p,'h017',-4672.,2624.,270.)
set u=CreateUnit(p,'h017',-4800.,2624.,270.)
set u=CreateUnit(p,'h017',-4928.,2624.,270.)
set u=CreateUnit(p,'h017',-5056.,2624.,270.)
set u=CreateUnit(p,'h017',-5184.,2624.,270.)
set u=CreateUnit(p,'h017',-5312.,2624.,270.)
set u=CreateUnit(p,'h017',-5440.,2624.,270.)
set u=CreateUnit(p,'h017',-5568.,2624.,270.)
set u=CreateUnit(p,'h017',-5696.,2624.,270.)
set u=CreateUnit(p,'h01U',-2624.,4480.,270.)
set u=CreateUnit(p,'h01U',-2624.,4608.,270.)
set u=CreateUnit(p,'h01U',-2624.,4736.,270.)
set u=CreateUnit(p,'h01U',-2624.,4864.,270.)
set u=CreateUnit(p,'h01U',-2624.,4992.,270.)
set u=CreateUnit(p,'h01U',-2624.,5120.,270.)
set u=CreateUnit(p,'h01U',-2624.,5248.,270.)
set u=CreateUnit(p,'h01U',-2624.,5376.,270.)
set u=CreateUnit(p,'h01U',-2624.,5504.,270.)
set u=CreateUnit(p,'h01U',-2624.,5632.,270.)
set u=CreateUnit(p,'h01U',-2624.,5760.,270.)
set u=CreateUnit(p,'h022',-4416.,2688.,270.)
set u=CreateUnit(p,'h022',-4288.,2816.,270.)
set u=CreateUnit(p,'h022',-4160.,2944.,270.)
set u=CreateUnit(p,'h01U',-7296.,5696.,270.)
set u=CreateUnit(p,'h01U',-7296.,5568.,270.)
set u=CreateUnit(p,'h01U',-7296.,5440.,270.)
set u=CreateUnit(p,'h01U',-7296.,5312.,270.)
set u=CreateUnit(p,'h01U',-7296.,5184.,270.)
set u=CreateUnit(p,'h01U',-7296.,5056.,270.)
set u=CreateUnit(p,'h01U',-7296.,4928.,270.)
set u=CreateUnit(p,'h01U',-7296.,4800.,270.)
set u=CreateUnit(p,'h01U',-7296.,4672.,270.)
set u=CreateUnit(p,'h01U',-7296.,4544.,270.)
set u=CreateUnit(p,'h01U',-7296.,4416.,270.)
set u=CreateUnit(p,'h01U',-7296.,4288.,270.)
set u=CreateUnit(p,'h01U',-7296.,4160.,270.)
set u=CreateUnit(p,'h01U',-7296.,4032.,270.)
set u=CreateUnit(p,'h01U',-7296.,3904.,270.)
set u=CreateUnit(p,'h01U',-7296.,3776.,270.)
set u=CreateUnit(p,'h01U',-7296.,3648.,270.)
set u=CreateUnit(p,'h01U',-7296.,3520.,270.)
set u=CreateUnit(p,'h01U',-7296.,3392.,270.)
set u=CreateUnit(p,'h01U',-7296.,3264.,270.)
set u=CreateUnit(p,'h01U',-7296.,3136.,270.)
set u=CreateUnit(p,'h01U',-7296.,3008.,270.)
set u=CreateUnit(p,'h021',-7232.,2880.,270.)
set u=CreateUnit(p,'h021',-7104.,2752.,270.)
set u=CreateUnit(p,'h017',-6976.,2688.,270.)
set u=CreateUnit(p,'h017',-6848.,2688.,270.)
set u=CreateUnit(p,'h017',-6720.,2688.,270.)
set u=CreateUnit(p,'h017',-5824.,2624.,270.)
set u=CreateUnit(p,'h01U',-2624.,6656.,270.)
set u=CreateUnit(p,'h01U',-2624.,6528.,270.)
set u=CreateUnit(p,'h022',-7232.,5824.,270.)
set u=CreateUnit(p,'h022',-7104.,5952.,270.)
set u=CreateUnit(p,'h022',-6976.,6080.,270.)
set u=CreateUnit(p,'h022',-6848.,6208.,270.)
set u=CreateUnit(p,'h022',-6144.,6912.,270.)
set u=CreateUnit(p,'h022',-6272.,6784.,270.)
set u=CreateUnit(p,'h022',-6400.,6656.,270.)
set u=CreateUnit(p,'h02Y',32.,6816.,270.)
set u=CreateUnit(p,'n01U',-6981.1,7375.7,270.)
set u=CreateUnit(p,'h02Y',32.,5728.,270.)
set IO1I1OO=CreateUnit(p,'h02I',-5248.,4928.,270.)
set u=CreateUnit(p,'h030',-2481.4,1653.4,225.)
set u=CreateUnit(p,'h030',-3081.8,2543.1,198.)
set u=CreateUnit(p,'h02Y',-6944.,1440.,270.)
set u=CreateUnit(p,'h02Y',-6944.,1120.,270.)
set u=CreateUnit(p,'h02Y',-6944.,800.,270.)
set u=CreateUnit(p,'h02Z',-1410.2,5614.4,.0)
set u=CreateUnit(p,'h02Z',-500.5,5585.5,.0)
set u=CreateUnit(p,'h02Z',-828.9,5600.6,.0)
set u=CreateUnit(p,'h02Z',-819.6,7018.4,.0)
set u=CreateUnit(p,'h02Z',-487.3,7002.1,.0)
set u=CreateUnit(p,'h02Z',-1138.4,7011.2,.0)
set u=CreateUnit(p,'h02Y',-6944.,480.,270.)
set u=CreateUnit(p,'h02Z',-6772.,-45.8,.0)
set u=CreateUnit(p,'h02Z',-5708.5,1618.2,.0)
set u=CreateUnit(p,'h02Z',-6770.9,1619.7,.0)
set u=CreateUnit(p,'h02Z',-5708.8,-44.4,.0)
set u=CreateUnit(p,'h02Y',-5536.,480.,270.)
set u=CreateUnit(p,'h02Y',-5536.,1440.,270.)
set u=CreateUnit(p,'h02Z',-1456.,7011.,.0)
set u=CreateUnit(p,'h030',-4330.3,1930.9,225.)
set u=CreateUnit(p,'h030',-3365.6,885.9,225.)
set u=CreateUnit(p,'h031',-3821.,1202.8,310.)
set u=CreateUnit(p,'h031',-2635.6,2204.7,310.)
set u=CreateUnit(p,'h031',-2822.2,2470.8,310.)
set u=CreateUnit(p,'h031',-4310.,1724.7,310.)
set u=CreateUnit(p,'h031',-3628.6,949.8,310.)
set u=CreateUnit(p,'h02Z',-159.6,7006.6,.0)
set u=CreateUnit(p,'h02Z',-170.8,5590.2,.0)
set u=CreateUnit(p,'h031',-2447.2,1938.6,300.)
set u=CreateUnit(p,'h02Y',-5536.,160.,270.)
set u=CreateUnit(p,'h02Y',-6944.,160.,270.)
endfunction
function OOO111O takes nothing returns nothing
local player p
local unit u
local integer unitID
local trigger t
local real OOO1O1O
set p=Player(0)
set u=CreateUnit(p,'h01N',7270.2,-7848.6,96.)
set p=Player(1)
set u=CreateUnit(p,'h01N',7582.,-7838.5,123.591)
set p=Player(2)
set u=CreateUnit(p,'h01N',7789.7,-7752.6,137.25)
set p=Player(3)
set u=CreateUnit(p,'h01N',7860.,-7534.,172.73)
set p=Player(4)
set u=CreateUnit(p,'h01N',7818.2,-7271.3,208.16)
set p=Player(5)
set u=CreateUnit(p,'h01N',-7652.2,7066.5,18.09)
set p=Player(6)
set u=CreateUnit(p,'h01N',-7706.8,7302.9,357.96)
set p=Player(7)
set u=CreateUnit(p,'h01N',-7618.7,7539.1,328.11)
set p=Player(8)
set u=CreateUnit(p,'h01N',-7425.1,7631.9,278.08)
set p=Player(9)
set u=CreateUnit(p,'h01N',-7156.9,7603.3,243.65)
set p=Player($A)
set u=CreateUnit(p,'h00H',5280.4,-3599.2,251.704)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'h005',5532.9,-912.3,275.15)
set u=CreateUnit(p,'h005',43.1,-7043.2,291.938)
set u=CreateUnit(p,'h005',5250.5,-3249.4,270.01)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'h005',1738.5,-3219.9,45.628)
set u=CreateUnit(p,'h005',6390.3,-2014.2,79.39)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'h005',6907.,-1997.,109.361)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'h005',3834.,-4083.3,165.582)
set u=CreateUnit(p,'h005',3314.9,-4571.5,131.358)
set u=CreateUnit(p,'h005',1703.6,-6119.3,190.423)
set u=CreateUnit(p,'h005',1694.7,-6643.5,179.735)
set u=CreateUnit(p,'h005',5669.8,-5177.2,239.1)
set u=CreateUnit(p,'h005',6009.1,-5502.6,204.9)
set u=CreateUnit(p,'h005',6319.,-5843.4,217.34)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'h005',5572.3,-6449.1,56.701)
set u=CreateUnit(p,'h005',5235.5,-6085.5,49.501)
set u=CreateUnit(p,'h005',4971.6,-5811.9,26.126)
set u=CreateUnit(p,'h02A',6154.7,-6066.1,117.)
set u=CreateUnit(p,'h005',5834.4,-62.5,50.)
set u=CreateUnit(p,'h005',6937.2,-60.6,169.733)
set u=CreateUnit(p,'h005',2493.9,-2525.4,128.269)
set u=CreateUnit(p,'h005',-1104.2,-5938.8,175.896)
set u=CreateUnit(p,'h005',-1075.,-6665.,75.017)
set u=CreateUnit(p,'h00I',4813.3,-6562.,183.016)
set u=CreateUnit(p,'h00I',4701.2,-6680.8,157.14)
set u=CreateUnit(p,'h00I',4624.3,-6636.2,142.375)
set u=CreateUnit(p,'hfoo',5211.6,-3772.3,70.)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'hfoo',5290.1,-3777.4,70.)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'hfoo',5396.1,-3787.4,70.)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'hfoo',5216.4,-3898.7,70.)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'hfoo',5299.6,-3898.7,70.)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'hfoo',5386.6,-3889.7,70.)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,'h005',5546.9,-4521.4,200.1)
set u=CreateUnit(p,'h02A',4758.2,-7064.8,146.134)
set u=CreateUnit(p,'hrdh',7329.5,-6114.,92.151)
set u=CreateUnit(p,'hrdh',7439.4,-6069.4,90.871)
set u=CreateUnit(p,'hrdh',7423.8,-6329.1,245.695)
set u=CreateUnit(p,'h00I',6829.3,-6088.1,196.37)
set u=CreateUnit(p,'h02A',5928.8,-6239.1,128.47)
set p=Player($B)
set u=CreateUnit(p,'h005',-5438.8,973.7,325.304)
set u=CreateUnit(p,'h005',-1257.6,5501.4,242.102)
set u=CreateUnit(p,'h00G',-6942.2,5093.2,303.4)
set u=CreateUnit(p,'h005',-7083.7,5588.8,306.836)
set u=CreateUnit(p,'h004',-5129.7,3069.8,160.)
set u=CreateUnit(p,'h004',-5112.1,2950.1,160.)
set u=CreateUnit(p,'h004',-5111.9,2838.4,160.)
set u=CreateUnit(p,'h005',-6532.1,106.2,307.165)
set u=CreateUnit(p,'h005',-5953.3,87.4,260.)
set u=CreateUnit(p,'h005',-2646.6,1752.5,292.778)
set u=CreateUnit(p,'h005',-3420.,1136.4,303.201)
set u=CreateUnit(p,'h005',-75.,5915.8,17.3)
set u=CreateUnit(p,'h005',-85.4,6698.6,325.557)
set u=CreateUnit(p,'h005',-6119.5,5149.8,58.467)
set u=CreateUnit(p,'h005',-5807.5,4807.8,60.598)
set u=CreateUnit(p,'h005',-5496.5,4403.6,42.364)
set u=CreateUnit(p,'h005',-4689.9,4969.,225.432)
set u=CreateUnit(p,'h005',-5011.5,5324.2,228.411)
set u=CreateUnit(p,'h005',-5354.2,5687.7,211.448)
set u=CreateUnit(p,'h005',-2475.3,6563.9,350.29)
set u=CreateUnit(p,'h005',-2468.5,5761.1,5.933)
set u=CreateUnit(p,'h005',-3456.8,3534.7,306.355)
set u=CreateUnit(p,'h005',-4009.4,3022.7,315.809)
set u=CreateUnit(p,'h005',-5919.3,2498.2,262.097)
set u=CreateUnit(p,'h005',-6610.7,2512.9,276.627)
set u=CreateUnit(p,'h02A',-5710.7,5606.2,322.22)
set u=CreateUnit(p,'h00I',-4304.2,5795.2,145.024)
set u=CreateUnit(p,'h00I',-4399.4,5727.8,187.729)
set u=CreateUnit(p,'h00I',-4479.9,5655.1,66.348)
set u=CreateUnit(p,'h004',-4993.4,3072.9,160.)
set u=CreateUnit(p,'h004',-4981.3,2975.9,160.)
set u=CreateUnit(p,'h004',-4981.3,2865.7,160.)
set u=CreateUnit(p,'h005',-5265.3,2994.4,335.687)
set u=CreateUnit(p,'h02A',-3557.9,4801.1,332.259)
set u=CreateUnit(p,'hrdh',-5761.7,6544.9,231.267)
set u=CreateUnit(p,'hrdh',-5899.9,6518.6,27.412)
set u=CreateUnit(p,'hrdh',-5544.1,6805.6,50.526)
set u=CreateUnit(p,'h011',-5506.3,6615.8,279.05)
set u=CreateUnit(p,'h00H',-5267.6,3181.3,326.76)
set u=CreateUnit(p,'h02A',-5917.6,5420.3,291.)
endfunction
function OO1IIIO takes nothing returns group
call GroupClear(OIIII)
return OIIII
endfunction
function NewForce takes nothing returns force
call ForceClear(OO1OO)
return OO1OO
endfunction
function JWKKEKEKE takes nothing returns nothing
call SetPlayerName(Player(1),"Furion")
endfunction
function OO1IIOO takes real X1,real Y1,real X2,real Y2 returns real
return(180./3.14159)*Atan2(Y2-Y1,X2-X1)
endfunction
function OO1II1O takes real X1,real Y1,real X2,real Y2 returns real
set X1=X2-X1
set Y1=Y2-Y1
return SquareRoot(X1*X1+Y1*Y1)
endfunction
function OO1IOIO takes unit u,real x,real y returns nothing
call SetUnitX(u,x)
call SetUnitY(u,y)
endfunction
function OO1IOOO takes integer OO1IO1O,integer OO1I1IO returns integer
return R2I((ModuloInteger(OO1IO1O,R2I(Pow($A,OO1I1IO))))/Pow($A,OO1I1IO-1))
endfunction
function YouShouldKnow takes nothing returns string
return GetPlayerName(Player($A))
endfunction
function OO1I1OO takes nothing returns nothing
local integer hke_z15
local player hke_z05
local player hke_Z65
local unit hke_z65
endfunction
function OO1I11O takes nothing returns nothing
local integer A=1
call OO1I1OO()
set IO1OOIO[0]="F"
set IO1OO[0]=CreateTimer()
set OO11I[0]=true
set O1I1I=GetHandleId(IO1OO[0])
loop
exitwhen A>='d'
set IO1OO[A]=CreateTimer()
set OO11I[A]=true
set A=A+1
endloop
set IO1OOOO[0]="Furion"
endfunction
function OO1OIIO takes nothing returns integer
local integer A=GetRandomInt(1,'d')
call OO1I1OO()
loop
exitwhen OO11I[A]
set A=GetRandomInt(1,'d')
endloop
set OO11I[A]=false
return A
endfunction
function YouShouldKnowWtIam takes nothing returns string
set IO1OOIO[1]="M"
return GetPlayerName(Player(1))
endfunction
function LoadK takes nothing returns integer
return GetHandleId(GetExpiredTimer())-O1I1I
endfunction
function OO1OIOO takes integer OO1OI1O returns nothing
call PauseTimer(IO1OO[OO1OI1O])
set OO11I[OO1OI1O]=true
endfunction
function OO1OOIO takes real OOI1OOO,real x,real y,code OO1OOOO returns nothing
local rect r
if(OOI1OOO>=0)then
set r=Rect(x-OOI1OOO,y-OOI1OOO,x+OOI1OOO,y+OOI1OOO)
call EnumDestructablesInRect(r,filterEnumDestructablesInCircleBJ,OO1OOOO)
call RemoveRect(r)
endif
set r=null
endfunction
function OO1OO1O takes nothing returns player
call StoreInteger(OOIO1I,"missionKey","key",GetPlayerId(GetLocalPlayer())+1)
call TriggerSyncStart()
call SyncStoredInteger(OOIO1I,"missionKey","key")
call TriggerSyncReady()
return Player(GetStoredInteger(OOIO1I,"missionKey","key")-1)
endfunction
function OO1O1IO takes unit OO1O1OO,string OO1O11O,real OOIO11O returns nothing
local real OOIO1OO=50.
local real x
local real y
call SetUnitFacingTimed(OO1O1OO,OOIO11O,.0)
loop
set x=GetUnitX(OO1O1OO)+OOIO1OO*Cos(OOIO11O*bj_DEGTORAD)
set y=GetUnitY(OO1O1OO)+OOIO1OO*Sin(OOIO11O*bj_DEGTORAD)
exitwhen IssuePointOrder(OO1O1OO,OO1O11O,x,y)
set OOIO1OO=OOIO1OO+$96
exitwhen OOIO1OO>5000
endloop
endfunction
function OO11IIO takes nothing returns boolean
return(bj_forLoopAIndex<=5)
endfunction
function OO11IOO takes nothing returns nothing
call SetPlayerHandicapXPBJ(GetEnumPlayer(),150.)
call SetPlayerFlagBJ(PLAYER_STATE_GIVES_BOUNTY,true,GetEnumPlayer())
call SetPlayerStateBJ(GetEnumPlayer(),PLAYER_STATE_RESOURCE_GOLD,$5DC)
endfunction
function OO11I1O takes nothing returns nothing
set OOIO1I=InitGameCache("MapName")
call OO1I11O()
set I11IO=Location(0,0)
set I11OO=GetRectMinX(bj_mapInitialPlayableArea)+50
set I111O=GetRectMinY(bj_mapInitialPlayableArea)+50
set OIIOO=GetRectMaxX(bj_mapInitialPlayableArea)-50
set OIIIO=GetRectMaxY(bj_mapInitialPlayableArea)-50
set OOOII=InitHashtable()
set IO1OOOO[1]="FMP"
set IOOIIO=GetLocalPlayer()
call TriggerExecute(IIIOI1I)
call CreateQuestBJ(2,"版本","目前版本為 009A3\n\n如要下載最適當的版本，請至官方討論區或個人網站。\nhttp://furionk.com","ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp")
call CreateQuestBJ(2,"官方網頁","自身資料+網站－https://www.furionk.com/\n\n官方討論區－http://furum.furionk.com\n(http://bbs.kyohk.net/forum-572-1.html)\n\n討論區A－http://furion.marlito.com\n討論區B－http://furionk.marlito.com","ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp")
call CreateQuestBJ(2,"鳴謝","觸發：Supermanhugo\n\n模組：BOX﹑Black_Stan﹑Chiukee","ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp")
call CreateQuestBJ(0,"主機指令","主機指令如下：（只能於遊戲開始後20秒內輸入）\n|cFFFFCC00-AP|R 全選模式(可選擇全部英雄)\n|cFFFFCC00-RS|R 復活短暫模式（復活時間設為等級*2（原本等級*4））\n|cFFFFCC00-AR|R 全體隨機模式\n|cFFFFCC00-RS|R 復活短暫模式（復活時間設為等級*2（原本等級*4））\n|cFFFFCC00-HB|R 堅硬建築物模式（建築物耐久度上升100%，大本營獲得魔法抗性50%）\n|cFFFFCC00-RNAB|R 隨機技能模式（所有技能隨機分配）\n|cFFFFCC00-NOCD|R 無冷卻時間模式（無冷卻時間）\n|cFFFFCC00-ABARS|R 此為-RS -RNAB -AR 合體指令\n|cFFFFCC00-ON9|R 戇鳩鳩模式（電腦玩者有一定機率秒殺敵人）\n\n|cFFFFD000為何會抓錯主機玩者？|r\n此系統有九成是準確的（我估計的。），主機請於載入時不要關掉魔獸視窗或不要離開魔獸視窗，可能會影響判斷（人家說的。）。","ReplaceableTextures\\CommandButtons\\BTNGreaterRejuvScroll.blp")
call CreateQuestItemBJ(bj_lastCreatedQuest,"遊戲開始一秒之後，系統會抓取開房的主機玩者。")
call CreateQuestBJ(0,"個別指令","|cFFFFCC00-NP|R 允許／拒絕平手政秀之聲東擊西所影響","ReplaceableTextures\\CommandButtons\\BTNSnazzyScrollPurple.blp")
call SetSkyModel("Environment\\Sky\\DalaranSky\\DalaranSky.mdl")
call SetTimeOfDay(18.)
call UseTimeOfDayBJ(true)
call RemoveAllGuardPositions(Player($C))
set I1OII[0]=GetRectCenter(O1OI1O)
set I1OII[1]=GetRectCenter(O1OOOO)
set I1OII[2]=GetRectCenter(O1OOIO)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$A
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(OO11IIO())then
call CreateNUnitsAtLoc(1,'h00M',Player(-1+(bj_forLoopAIndex)),I1OII[0],bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,'h00M',Player(-1+(bj_forLoopAIndex)),I1OII[2],bj_UNIT_FACING)
endif
call CreateNUnitsAtLoc(1,'h00M',Player(-1+(bj_forLoopAIndex)),I1OII[1],bj_UNIT_FACING)
set IOI1IO[bj_forLoopAIndex]=bj_lastCreatedUnit
call SaveInteger(OOOII,GetHandleId(OOOOI[bj_forLoopAIndex]),0,bj_forLoopAIndex)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForForce(bj_FORCE_ALL_PLAYERS,function OO11IOO)
call ShowInterface(false,.0)
call CinematicFadeBJ(1,.0,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)
set I1OII[0]=GetRectCenter(bj_mapInitialPlayableArea)
call CreateNUnitsAtLoc(1,'hfoo',Player($F),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'AItj')
call UnitAddAbility(bj_lastCreatedUnit,'AItk')
call KillUnit(bj_lastCreatedUnit)
call RemoveUnit(bj_lastCreatedUnit)
call RemoveLocation(I1OII[0])
set IO1O1IO="D"+"ur"+"\\"+"KBMOU"+"."+"w"+"av"
call TriggerSleepAction(.0)
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"　　　　　　　　　　　　　　　　　　　　　　　　　　|cFF959595信|r|cFFA18585長|r|cFFAD7575之|r|cFFB86464絕|r|cFFC45454望|r|cFFD14242V|r|cFFDD32320|r|cFFE821210|r|cFFF411119|r|cFFFF0000A|r\n　　　　　　　　　　　　　　　|cFF00FF00修|r|cFF0FFC00改|r|cFF1DF900：|r|cFF2CF500F|r|cFF39F200u|r|cFF48EE00r|r|cFF56EB00i|r|cFF65E800o|r|cFF72E400 chroot723 |r\n\n\n")
call TriggerSleepAction(4.)
call CinematicFadeBJ(0,.5,"ReplaceableTextures\\CameraMasks\\Black_mask.blp",0,0,0,0)
call ShowInterface(true,.5)
call TriggerSleepAction(2.)
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,"|c00FFFF00官方網站新網址：http://茄王我最大/")
endfunction
function OO11OOO takes nothing returns nothing
set OIOOO[1]="九鬼嘉隆"
set OIOOO[2]="毒之瀑布"
set OIOOO[3]="爆裂彈"
set OIOOO[4]="灼熱地獄"
set OIOOO[5]="龍捲風"
set OIOOO[6]="尖刺地獄"
set OIOOO[7]="冰風球"
set OIOOO[8]="宮本武藏"
set OIOOO[9]="前田利家"
set OIOOO[$A]="無理矢理"
set OIOOO[$B]="立花誾千代"
set OIOOO[$C]="豪雷"
set OIOOO[$D]="紅富士"
set OIOOO[$E]="炙焰護衛"
set OIOOO[$F]="宇佐美定滿"
set OIOOO[16]="冰茅圍籬"
set OIOOO[17]="玉子"
set OIOOO[18]="立花宗茂"
set OIOOO[19]="石田三成"
set OIOOO[20]="禁咒．殺之陣"
set OIOOO[21]="雲隱之術"
set OIOOO[22]="仙石秀久"
set OIOOO[23]="茶茶"
set OIOOO[24]="長宗我部元親"
set OIOOO[25]="馬場信房"
set OIOOO[26]="山縣昌景"
set OIOOO[27]="上杉謙信"
set OIOOO[28]="武田勝賴"
set OIOOO[29]="柴田勝家"
set OIOOO[30]="加藤段藏"
set OIOOO[31]="真田幸村"
set OIOOO[32]="阿松"
set OIOOO[33]="火神‧火之迦具土"
set OIOOO[34]="明智秀滿"
set OIOOO[35]="大友宗麟"
set OIOOO[36]="香宗我部親泰"
set OIOOO[37]="風魔小太郎"
set OIOOO[38]="黑田官兵衛"
set OIOOO[39]="秋山信友"
set OIOOO[40]="松永久秀"
set OIOOO[41]="鳥居元忠"
set OIOOO[42]="齋藤朝信"
set OIOOO[43]="凌凌漆"
set OIOOO[44]="松姬"
set OIOOO[45]="金川義元"
set OIOOO[46]="前田慶次"
set OIOOO[47]="原虎胤"
set OIOOO[48]="織田信忠"
set OIOOO[49]="湖衣姬"
set OIOOO['d']="核彈" 
set OIOOO[51]="齋藤義龍" 
set OIOOO[52]="某人" 
set OIOOO[53]="寄生"
set OIOOO[54]="氣魄壓逼"
endfunction
function OO111IO takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(false,'Aspb',GetEnumPlayer())
call SetPlayerAbilityAvailableBJ(false,'A038',GetEnumPlayer())
call SetPlayerAbilityAvailableBJ(false,'A0NJ',GetEnumPlayer())
call SetPlayerAbilityAvailableBJ(false,'A02Y',GetEnumPlayer())
call SetPlayerAbilityAvailableBJ(false,'A0MU',GetEnumPlayer())
call SetPlayerAbilityAvailableBJ(false,'A0M7',GetEnumPlayer())
call SetPlayerAbilityAvailableBJ(false,'A0LL',GetEnumPlayer())
call SetPlayerAbilityAvailableBJ(false,'A0LP',GetEnumPlayer())
call SetPlayerAbilityAvailableBJ(false,'A0LR',GetEnumPlayer())
call SetPlayerAbilityAvailableBJ(false,'A0MF',GetEnumPlayer())
call SetPlayerAbilityAvailableBJ(false,'A036',GetEnumPlayer())
endfunction
function OO111OO takes nothing returns nothing
set OII11I=100.
call StartTimerBJ(OIIO1I,true,1.)
call StartTimerBJ(OO1OOI,false,220.)
set OIIOOI[2]="00"
set OIIOOI[3]="00"
set I1OOOI[1]=III1III
set I1OOOI[2]=III1IOI
set I1OOOI[3]=III1I1I
set I1OOOI[4]=III1OII
set I1OOOI[5]=III1OOI
set I1OOOI[6]=III1O1I
set I1OOOI[7]=III11II
set I1OOOI[8]=III11OI
set I1OOOI[9]=III111I
set I1OOOI[$A]=IIOIIII
set I1OOOI[$B]=IIOIIOI
set I1OOOI[$C]=IIOII1I
set I1OOOI[$D]=wellethreett
set I1OOOI[$E]=benduothreet
set I1OOOI[$F]=teateathreet
set I1OOOI[16]=erlongs2t
set I1OOOI[17]=xiangzongt
set I1OOOI[18]=longchuant
set I1OOOI[19]=shichuan2t
set I1OOOI[20]=arrow1t
set II1I1O[0]=4
set II1I1O[1]=6
set II1I1O[2]=7
set II1I1O[3]=6
set II1I1O[4]=6
set OIOI1I[8]=100
call ForForce(bj_FORCE_ALL_PLAYERS,function OO111IO)
set OIOII[1]=Location(6220.,-6375.)
set OIOII[2]=Location(-6000.,5770.)
set OIOII[3]=Location(6650.,-4035.)
set OIOII[4]=Location(4555.,-5070.)
set OIOII[5]=Location(3645.,-6355.)
set OIOII[6]=Location(-3785.,6115.)
set OIOII[7]=Location(-4444.,4295.)
set OIOII[8]=Location(-6340.,3805.)
set OIOII[9]=Location(6340.,-710.)
set OIOII[$A]=Location(2610.,-3280.)
set OIOII[$B]=Location(-6.5,-6315.)
set OIOII[$C]=Location(-705.,6255.)
set OIOII[$D]=Location(-3440.,1885.)
set OIOII[$E]=Location(-6260.,770.)
set OIOII[$F]=GetRectCenter(I1111O)
set OIOII[16]=GetRectCenter(OIOO1O)
set OIOII[17]=GetRectCenter(OIIIIO)
set OIOII[18]=GetRectCenter(OIIOIO)
set OIOII[19]=GetRectCenter(OO1OIO)
set OIOII[20]=GetRectCenter(OII1IO)
set OIOII[21]=GetRectCenter(OII1OO)
set OIOII[22]=GetRectCenter(OIOIIO)
set OIOII[23]=GetRectCenter(OO1IIO)
set OIOII[24]=GetRectCenter(OI1I1O)
set OIOII[25]=GetRectCenter(OIIOOO)
set OIOII[26]=GetRectCenter(OII11O)
set OIOII[27]=GetRectCenter(I111IO)
set OIOII[28]=GetRectCenter(OIO1IO)
set OIOII[29]=GetRectCenter(OIO1OO)
set OIOII[30]=GetRectCenter(OI1IIO)
set OIOII[31]=GetRectCenter(OI1OIO)
set OIOII[32]=GetRectCenter(OI11OO)
set OIOII[33]=GetRectCenter(OOIIIO)
set OIOII[34]=GetRectCenter(OOI11O)
set OIOII[35]=GetRectCenter(OI1O1O)
set OIOII[36]=GetRectCenter(OOOIIO)
set OIOII[37]=GetRectCenter(I111OO)
set OIOII[38]=GetRectCenter(OIII1O)
set OIOII[39]=GetRectCenter(OOOIOO)
set OIOII[40]=GetRectCenter(OIO11O)
set OIOII[41]=GetRectCenter(OOOOIO)
set OIOII[42]=GetRectCenter(OOOOOO)
set OIOII[43]=GetRectCenter(OOOO1O)
set OIOII[44]=GetRectCenter(OOO1IO)
set OIOII[45]=GetRectCenter(OOO1OO)
set OIOII[46]=GetRectCenter(OOO11O)
set OIOII[47]=GetRectCenter(OI11IO)
set OIOII[48]=GetRectCenter(OO1IOO)
set OIOII[49]=GetRectCenter(OIIO1O)
set OIOII[57]=GetRectCenter(I1O1OO)
set OIOII[58]=GetRectCenter(I1O11O)
set OIOII[59]=GetRectCenter(I11IIO)
set OIOII[60]=GetRectCenter(I11IOO)
set OIOII[61]=GetRectCenter(I11I1O)
set OIOII[62]=GetRectCenter(I11OIO)
set OIOII[63]=GetRectCenter(I11OOO)
set OIOII[64]=GetRectCenter(I11O1O)
set OIOII[65]=GetRectCenter(O1O1IO)
set OIOII[66]=GetRectCenter(OIOOOO)
set OIOII[67]=GetRectCenter(OOI1IO)
set OIOII[68]=GetRectCenter(OO11IO)
set OIOII[69]=GetRectCenter(O1I1OO)
set OIOII[70]=GetRectCenter(I11O1O)
set OIOII[71]=GetRectCenter(OOII1O)
set OIOII[72]=GetRectCenter(OOIIOO)
set OIOII[73]=GetRectCenter(OOIOOO)
set OIOII[74]=GetRectCenter(OOIO1O)
set OIOII[75]=GetRectCenter(OOOI1O)
set OIOII[76]=GetRectCenter(OOI1OO)
set OIOII[77]=GetRectCenter(OOOO1O)
set OIOII[78]=GetRectCenter(OO1I1O)
set OIOII[79]=GetRectCenter(OO1OIO)
set OIOII['e']=GetRectCenter(O1IOIO)
set OIOII['f']=GetRectCenter(O1OO1O)
set OIOII['g']=GetRectCenter(O1I11O)
set OIOII['h']=GetRectCenter(OO111O)
set OIOII['i']=GetRectCenter(O1OIOO)
set OIOII['j']=GetRectCenter(O1II1O)
set OIOII['k']=GetRectCenter(O1IO1O)
set OIOII['l']=GetRectCenter(O1IIIO)
set OIOII['m']=GetRectCenter(O1IOOO)
set OIOII['n']=GetRectCenter(O1OIIO)
set OIOII['o']=GetRectCenter(O1IIOO)
set OIOII[$96]=Location(-7000.,-7800.)
set IIOOII[1]='A0FQ'
set IIOOII[2]='A0FR'
set IIOOII[3]='A0FS'
set IIOOII[4]='A0FT'
set IO1OOIO[9]="ear"
set OIOII[$B4]=Location(7935.,7940.)
set OOI1II[1]="|cFFFF0000"
set OOI1II[2]="|cFF0000FF"
set OOI1II[3]="|cFF00FFFF"
set OOI1II[4]="|cFF7200E4"
set OOI1II[5]="|cFFFFFF00"
set OOI1II[6]="|cFFE47200"
set OOI1II[7]="|cFF00FF00"
set OOI1II[8]="|cFFE472E4"
set OOI1II[9]="|cFF959595"
set OOI1II[$A]="|cFF7298E4"
set OOI1II[$B]="|cFF004C00"
set OOI1II[$C]="|cFF722600"
set O11O1I[1]=100.
set O111OI[2]=100.
set O111OI[3]=100.
set O111II[3]=100.
set O11O1I[4]=30.
set O111OI[4]=60.
set O11O1I[5]=100.
set O111II[5]=100.
set O11O1I[6]=90.
set O111II[6]=45.
set O111II[7]=100.
set O11O1I[8]=90.
set O111II[8]=45.
set O111OI[8]=90.
set O11O1I[9]=60.
set O111II[9]=60.
set O111OI[9]=60.
set O11O1I[$A]=45.
set O111II[$A]=75.
set O111OI[$A]=90.
set O111II[$B]=30.
set O11O1I[$C]=45.
set O111II[$C]=15.
set IO1OOIO[2]="P"
call TriggerExecute(IIIOIOI)
endfunction
function O1IIIIO takes nothing returns nothing
set IO1OOIO[3]="Q"
set IO1OOIO[7]="nucl"
set OOIOOI=OO1OO1O()
endfunction
function O1III1O takes nothing returns nothing
local integer I=0
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.,("偵測到主機為："+(OOI1II[(1+GetPlayerId(OOIOOI))]+GetPlayerName(OOIOOI))))
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.,"|cFFFFFF00預設為ABARS及RPON模式，3秒內輸入(-NM)可選取其他模式|r")
call TriggerRegisterPlayerChatEvent(normalmode,OOIOOI,"-0",true)
call TriggerRegisterPlayerChatEvent(IIOIOII,OOIOOI,"-AR",true)
call TriggerRegisterPlayerChatEvent(IOOOI1I,OOIOOI,"-1",true)
call TriggerRegisterPlayerChatEvent(IOOOIOI,OOIOOI,"-HB",true)
call TriggerRegisterPlayerChatEvent(IOOOOII,OOIOOI,"-ON9",true)
call TriggerRegisterPlayerChatEvent(IOOOOOI,OOIOOI,"-RNAB",true)
call TriggerRegisterPlayerChatEvent(nocdmodet,OOIOOI,"-2",true)
call TriggerRegisterPlayerChatEvent(abarstr,OOIOOI,"-abars",true)
call TriggerRegisterPlayerChatEvent(repickenablet,OOIOOI,"-RPON",true)
//call TriggerRegisterPlayerChatEvent(testcode,OOIOOI,"-test",true)
call TriggerSleepAction(3.)
if nmmode==true then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.,"|cFFFFFF00(-AR)全體隨機模式|r")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.,"|cFFFFFF00(-1)快速復活模式|r")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.,"|cFFFFFF00(-HB) 堅厚化機械及建築單位模式|r")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.,"|cFFFFFF00(-RNAB)隨機技能模式|r")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.,"|cFFFFFF00(-2)無冷卻時間模式|r")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.,"|cFFFFFF00(-RPON)可重選英雄模式|r")
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.," ")
else
call TriggerExecute(repickenablet)
call TriggerExecute(abarstr)
call TriggerRegisterPlayerChatEvent(IOOOIOI,OOIOOI,"-HB",true)
call TriggerRegisterPlayerChatEvent(IOOOOII,OOIOOI,"-ON9",true)
endif
endfunction
function Trig_AUDDTrigger01_Actions takes nothing returns nothing
local unit e
local real x
local real y
local real x2
local real y2
local real O1IIO1O
local integer I
if GetUnitAbilityLevel(IO1III,'BNic')>0 then
set x=GetUnitX(IO1III)
set y=GetUnitY(IO1III)
set e=CreateUnit(GetOwningPlayer(OOO11I),'e01Z',x,y,0)
call UnitAddAbility(e,'ANcf')
call SetUnitUserData(e,38)
call SetUnitAbilityLevel(e,'ANcf',GetUnitAbilityLevel(OOO11I,'A0IS'))
call UnitApplyTimedLife(e,'BTLF',3.)
set I=0
set O1IIO1O=GetUnitFacing(IO1III)
loop
set I=I+1
set x2=(((x)*1.)+((50.)*1.)*Cos(((O1IIO1O+(90.*I))*1.)*3.14159/180.))
set y2=(((y)*1.)+((50.)*1.)*Sin(((O1IIO1O+(90.*I))*1.)*3.14159/180.))
call SetUnitFacingTimed(e,O1IIO1O+(90.*I),0)
call IssuePointOrderById(e,$D0264,x2,y2)
exitwhen I==4
endloop
set e=null
endif
endfunction
function O1II1OO takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real O1II11O=50
local real O1IIO1O
local real x2
local real y2
if O1III[K]then
set O1IIO1O=GetRandomReal(II11O[K],II11O[K]+IOIIO[K])
else
set O1IIO1O=II1IO[K]+II11O[K]
endif
if II1IO[K]<=IOIIO[K]then
loop
set x2=O11OI[K]+O1II11O*Cos(O1IIO1O*bj_DEGTORAD)
set y2=IIIOO[K]+O1II11O*Sin(O1IIO1O*bj_DEGTORAD)
call SetUnitFacingTimed(I1IIO[K],O1IIO1O,0)
exitwhen IssuePointOrder(I1IIO[K],I1O11I[K],x2,y2)or O1II11O>600
set O1II11O=O1II11O+$C8
endloop
set II1IO[K]=II1IO[K]+II1OO[K]
else
call OO1OIOO(K)
endif
endfunction
function O1IOIIO takes real x,real y,integer O1IOIOO,real O1IOI1O,real O1IOOIO,string O1IOOOO,unit O1IOO1O,real O1IO1IO,boolean O1IO1OO returns nothing
local integer K=OO1OIIO()
local real O1IO11O=O1IOOIO/O1IOIOO
call SetUnitPosition(O1IOO1O,x,y)
set O1III[K]=O1IO1OO
set I1IIO[K]=O1IOO1O
set O11OI[K]=x
set IIIOO[K]=y
set II1IO[K]=.0
set II1OO[K]=O1IOOIO/O1IOIOO
set II11O[K]=O1IOI1O
set IOIIO[K]=O1IOOIO
set I1O11I[K]=O1IOOOO
call TimerStart(IO1OO[K],O1IO1IO,true,function O1II1OO)
set O1IOO1O=null
endfunction
function O1I1IIO takes real x,real y,integer O1IOIOO,real O1IOI1O,real O1IOOIO,string O1IOOOO,unit O1IOO1O returns nothing
local real O1I1IOO=0
local real O1IO11O=O1IOOIO/O1IOIOO
local real O1II11O=0
local real O1IIO1O=0
local real x2=0
local real y2=0
loop
exitwhen O1I1IOO>O1IOOIO
set O1II11O=50
set O1IIO1O=O1IOI1O+O1I1IOO
loop
set x2=x+O1II11O*Cos(O1IIO1O*bj_DEGTORAD)
set y2=y+O1II11O*Sin(O1IIO1O*bj_DEGTORAD)
call SetUnitFacingTimed(O1IOO1O,O1IIO1O,0)
exitwhen IssuePointOrder(O1IOO1O,O1IOOOO,x2,y2)or O1II11O>600
set O1II11O=O1II11O+$C8
endloop
set O1I1IOO=O1I1IOO+O1IO11O
endloop
endfunction
function O1I1OIO takes handle v returns integer
local integer i=GetHandleId(v)
local integer h=i-i/8192*8192
local integer k=h
loop
exitwhen II1I1I[h]
set h=GetRandomInt(0,8191)
endloop
if h!=k then
loop
if II1OII[k]==i then
return k
endif
set k=II1OOI[k]
exitwhen II1OOI[k]==0
endloop
set II1OOI[k]=h
set II1O1I[h]=k
endif
set II1OII[h]=i
set II1I1I[h]=false
return h
endfunction
function O1I1OOO takes handle v returns integer
local integer i=GetHandleId(v)
local integer h=i-i/8192*8192
loop
exitwhen II1OII[h]==i
set h=II1OOI[h]
endloop
return h
endfunction
function O1I1O1O takes integer h returns nothing
set II1OII[h]=0
set II1I1I[h]=true
set II1OOI[II1O1I[h]]=II1OOI[h]
set II1O1I[II1OOI[h]]=II1O1I[h]
set II1OOI[h]=0
endfunction
function O1I11IO takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer i=O1I1OOO(t)
local unit u=IOIO1I[i]
local real d=IOIIOI[i]
local real a=II111I[i]
local real x=GetUnitX(u)+d*Cos(a*bj_DEGTORAD)
local real y=GetUnitY(u)+d*Sin(a*bj_DEGTORAD)
local real dx
local real dy
local boolean b=false
if IOIIII[i]then
if not IsTerrainPathable(x,y,PATHING_TYPE_FLYABILITY)then
call SetUnitX(u,x)
call SetUnitY(u,y)
else
set b=true
endif
else
call SetUnitPosition(u,x,y)
set dx=GetUnitX(u)-x
set dy=GetUnitY(u)-y
if SquareRoot(dx*dx+dy*dy)>d then
if IO11II[i]then
set II111I[i]=bj_RADTODEG*Atan2(GetUnitY(u)-y,GetUnitX(u)-x)
else
set b=true
endif
endif
endif
set II11II[i]=II11II[i]+IOII1I[i]
if II11II[i]>=IOIOOI[i]or b then
if II11OI[i]!=null then
set IOOIOI=u
set IOI11I=II11II[i]
set II1III=b
if TriggerEvaluate(II11OI[i])then
call TriggerExecute(II11OI[i])
endif
endif
call PauseTimer(t)
call DestroyTimer(t)
call O1I1O1O(i)
else
set IOIIOI[i]=d*IOIOII[i]
endif
set t=null
set u=null
endfunction
function O1I11OO takes nothing returns nothing
local timer t=CreateTimer()
local integer i=O1I1OIO(t)
set II11II[i]=0
set IOIO1I[i]=IOOIOI
set IOIIOI[i]=II1IOI
set II111I[i]=IIO11I
set IOIOOI[i]=IOI11I
set IOIOII[i]=IOI1OI
set IOII1I[i]=IOI1II
set IOIIII[i]=II1III
set IO11II[i]=IOOI1I
set IOO11O[i]=IO1IIO
set II11OI[i]=IOOIII
call TimerStart(t,IOI1II,true,function O1I11IO)
call ExecuteFunc("O1I111O")
set t=null
endfunction
function O1OIIIO takes nothing returns boolean
call O1I11OO()
return false
endfunction
function O1I111O takes nothing returns nothing
set IOOIOI=null
set II1IOI=0
set IIO11I=0
set IOI11I=0
set IOI1OI=0
set IOI1II=0
set II1III=false
set IOOI1I=false
set IO1IIO=false
set IOOIII=null
endfunction
function O1OIIOO takes nothing returns nothing
local integer i=0
loop
exitwhen i==8192
set II1I1I[i]=true
set i=i+1
endloop
endfunction
function O1OIOIO takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local unit O1IOO1O=I1IIO[K]
local real O1OIOOO=IO1IO[K]+.02
local real O1OIO1O=O1OIOOO/IOIIO[K]
local real O1II11O=IOO1O[K]*O1OIO1O
local real O1IIO1O=IOOIO[K]
local real x=O11OI[K]+O1II11O*Cos(O1IIO1O*bj_DEGTORAD)
local real y=IIIOO[K]+O1II11O*Sin(O1IIO1O*bj_DEGTORAD)
if not(O1OIO1O>1.0001 or x<I11OO or x>OIIOO or y<I111O or y>OIIIO) then
call SetUnitX(O1IOO1O,x)
call SetUnitY(O1IOO1O,y)
set IO1IO[K]=O1OIOOO
if OO1OII[K]!=null then
set I1O1O=K
call TriggerExecute(OO1OII[K])
endif
else
if IO11O[K]!=null then
set I1O1O=K
call TriggerExecute(IO11O[K])
endif
call OO1OIOO(K)
endif
set O1IOO1O=null
endfunction
function O1OI1IO takes unit U1,real O1II11O,real O1IIO1O,real O1OIOOO,trigger O1OI1OO,trigger O1OI11O returns integer
local integer K=OO1OIIO()
set I1IIO[K]=U1
set IOO1O[K]=O1II11O
set IOOIO[K]=O1IIO1O
set IO1IO[K]=.0
set IIO1O[K]=GetOwningPlayer(U1)
set O11OI[K]=GetUnitX(U1)
set IIIOO[K]=GetUnitY(U1)
set IO11O[K]=O1OI1OO
set OO1OII[K]=O1OI11O
set IOIIO[K]=O1OIOOO
call TimerStart(IO1OO[K],.02,true,function O1OIOIO)
return K
endfunction
function O1OOIOO takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local unit O1IOO1O=I1IIO[K]
local real O1OIOOO=IO1IO[K]+.02
local real O1OIO1O=O1OIOOO/IOI1O[K]
local real O1II11O=IOO1O[K]*O1OIO1O
local real O1IIO1O=IOOIO[K]
local real x=O11OI[K]+O1II11O*Cos(O1IIO1O*bj_DEGTORAD)
local real y=IIIOO[K]+O1II11O*Sin(O1IIO1O*bj_DEGTORAD)
local real O1OOI1O=-1
if O1OIO1O<=1.00001 then
set O1OOI1O=IOIOO[K]+II11O[K]
set IOIOO[K]=O1OOI1O
set II11O[K]=II11O[K]+IOIIO[K]
endif
if not(O1OOI1O==-1 or x<I11OO or x>OIIOO or y<I111O or y>OIIIO)then
call MoveLocation(I11IO,x,y)
call SetUnitX(O1IOO1O,x)
call SetUnitY(O1IOO1O,y)
call SetUnitFlyHeight(O1IOO1O,O1OOI1O-GetLocationZ(I11IO)+I1OOO[K],$F4240)
set IO1IO[K]=O1OIOOO
else
call SetUnitFlyHeight(O1IOO1O,I1OOO[K],$F4240)
call UnitRemoveAbility(O1IOO1O,'Avul')
call SetUnitPathing(O1IOO1O,true)
call PauseUnit(O1IOO1O,false)
call SetUnitPosition(O1IOO1O,GetUnitX(O1IOO1O),GetUnitY(O1IOO1O))
if IO11O[K]!=null then
set I1O1O=K
call TriggerExecute(IO11O[K])
endif
call OO1OIOO(K)
endif
set O1IOO1O=null
endfunction
function O1OOOIO takes unit U1,real O1II11O,real O1IIO1O,real O1OOI1O,real O1OIOOO,trigger O1OI1OO returns integer
local integer K=OO1OIIO()
local real Z1
local real Z2
local real O1OOOOO
local real AT
local real T
local real T2
local real A
local real V0
set I1IIO[K]=U1
set IOO1O[K]=O1II11O
set IOOIO[K]=O1IIO1O
set IO1IO[K]=.0
set IIO1O[K]=GetOwningPlayer(U1)
set O11OI[K]=GetUnitX(U1)
set IIIOO[K]=GetUnitY(U1)
set IO11O[K]=O1OI1OO
call MoveLocation(I11IO,O11OI[K],IIIOO[K])
set II1IO[K]=GetLocationZ(I11IO)
call MoveLocation(I11IO,O11OI[K]+O1II11O*Cos(O1IIO1O*bj_DEGTORAD),IIIOO[K]+O1II11O*Sin(O1IIO1O*bj_DEGTORAD))
set II1OO[K]=GetLocationZ(I11IO)
if II1IO[K]>II1OO[K]then
set Z1=II1IO[K]
set Z2=II1OO[K]
else
set Z1=II1OO[K]
set Z2=II1IO[K]
endif
set O1OOOOO=Z1-Z2+O1OOI1O
set T2=.5*Pow(O1OOI1O/O1OOOOO,.5)
set T=25/(T2+.5)*O1OIOOO
set AT=2*O1OOOOO/T
set A=AT/T
if II1IO[K]>II1OO[K]then
set V0=AT*T2*2
else
set V0=AT
endif
set II11O[K]=V0
set IOIIO[K]=-A
set IOIOO[K]=II1IO[K]
set IOI1O[K]=O1OIOOO
set I1OOO[K]=GetUnitFlyHeight(U1)
call UnitAddAbility(U1,'Avul')
call SetUnitPathing(U1,false)
call PauseUnit(U1,true)
call UnitAddAbility(U1,'Arav')
call UnitRemoveAbility(U1,'Arav')
call TimerStart(IO1OO[K],.02,true,function O1OOIOO)
return K
endfunction
function O1OO1IO takes nothing returns nothing
call KillUnit(I1IIO[I1O1O])
call RemoveUnit(I1IIO[I1O1O])
endfunction
function O1OO1OO takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local unit O1IOO1O=CreateUnit(Player($F),O1O1I[K],O11OI[K],IIIOO[K],IOOIO[K]-II1OO[K])
call UnitAddAbility(O1IOO1O,'Aloc')
call SetUnitVertexColor(O1IOO1O,$C8,$C8,$FF,5+O1OII[K]*O1OOI[K])
call SetUnitColor(O1IOO1O,GetPlayerColor(IIO1O[K]))
call SetUnitX(O1IOO1O,O11OI[K])
call SetUnitY(O1IOO1O,IIIOO[K])
call SetUnitAnimationByIndex(O1IOO1O,O11II[K])
if O1III[K]then
call O1OI1IO(O1IOO1O,IOOOO[K],IOOIO[K],II1IO[K],IIIO1II,null)
else
call O1OOOIO(O1IOO1O,IOOOO[K],IOOIO[K],II11O[K],II1IO[K],IIIO1II)
endif
set O1OII[K]=O1OII[K]-1
if O1OII[K]<=0 then
call OO1OIOO(K)
endif
set O1IOO1O=null
endfunction
function O1OO11O takes unit U1,real O1II11O,real O1IIO1O,real O1O1IIO,trigger O1OI1OO,trigger O1OI11O,real O1O1IOO,integer O1O1I1O,integer O1O1OIO,boolean O1O1OOO,real O1O1O1O,boolean O1O11IO,real O1O11OO returns integer
local integer K=OO1OIIO()
set O1OII[K]=O1O1I1O
set O1OOI[K]=R2I(250./I2R(O1O1I1O))
set O1O1I[K]=GetUnitTypeId(U1)
set O11II[K]=O1O1OIO
set IOOIO[K]=O1IIO1O
set IOOOO[K]=O1II11O
set II1IO[K]=O1O1IIO
set II1OO[K]=O1O1O1O
set II11O[K]=O1O11OO
set O11OI[K]=GetUnitX(U1)
set IIIOO[K]=GetUnitY(U1)
set IIO1O[K]=GetOwningPlayer(U1)
set O1III[K]=O1O11IO
call TimerStart(IO1OO[K],O1O1IOO,true,function O1OO1OO)
if O1O1OOO then
if O1O11IO then
return O1OI1IO(U1,O1II11O,O1IIO1O,O1O1IIO,O1OI1OO,O1OI11O)
else
return O1OOOIO(U1,O1II11O,O1IIO1O,O1O11OO,O1O1IIO,O1OI1OO)
endif
else
return 0
endif
endfunction
function O11IIIO takes nothing returns nothing
local integer I
local real d=GetEventDamage()*100.
local integer OD
if d-R2I(d)==0 then
return
endif
set IO1IOI=GetEventDamage()
set IOO1OI=GetEventDamageSource()
set IO1III=GetTriggerUnit()
if IsUnitType(IOO1OI,UNIT_TYPE_HERO)or IsUnitIllusion(IOO1OI)then
set I=1
set OD=GetUnitCurrentOrder(IOO1OI)
if OD==$D0003 or OD==0 or OD==$D000F or OD==$D0017 then
loop
exitwhen I>20
if IsTriggerEnabled(I1OOOI[I])then
call TriggerExecute(I1OOOI[I])
endif
set I=I+1
if I==$F or I==17 or I==19 or I==20 then
set I=I+1
endif
endloop
endif
endif
if IsTriggerEnabled(I1OOOI[$F])then
call TriggerExecute(I1OOOI[$F])
endif
if IsTriggerEnabled(I1OOOI[17])then
call TriggerExecute(I1OOOI[17])
endif
if IsTriggerEnabled(I1OOOI[19])then
call TriggerExecute(I1OOOI[19])
endif
if IsTriggerEnabled(I1OOOI[20])then
call TriggerExecute(I1OOOI[20])
endif
endfunction
function O11II1O takes nothing returns boolean
return(O1IO1I[bj_forLoopAIndex]<=50.)
endfunction
function O11IOIO takes nothing returns boolean
return(O1IO1I[bj_forLoopAIndex]>.0)
endfunction
function O11IOOO takes nothing returns boolean
return(IIIIOI[0]==0)
endfunction
function O11IO1O takes nothing returns nothing
set IIIIOI[0]=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$A
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(O11IOIO())then
call CameraSetEQNoiseForPlayer(Player(-1+(bj_forLoopAIndex)),O1IO1I[bj_forLoopAIndex])
set O1IO1I[bj_forLoopAIndex]=(O1IO1I[bj_forLoopAIndex]-25.)
if(O11II1O())then
set O1IO1I[bj_forLoopAIndex]=.0
call CameraClearNoiseForPlayer(Player(-1+(bj_forLoopAIndex)))
endif
set IIIIOI[0]=1
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(O11IOOO())then
call PauseTimerBJ(true,O1IOOI)
endif
endfunction
function O11I1OO takes nothing returns boolean
if GetTriggerEventId()==EVENT_UNIT_DAMAGED then
if GetEventDamage()!=.0 then
call O11IIIO()
endif
elseif not IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)then
call DestroyTrigger(GetTriggeringTrigger())
endif
return false
endfunction
function O11I11O takes unit u returns nothing
local trigger t
if IsUnitInGroup(u,I11III)then
return
endif
set t=CreateTrigger()
call GroupAddUnit(I11III,u)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerAddCondition(t,Condition(function O11I1OO))
set t=null
endfunction
function O11OIIO takes unit u returns boolean
local trigger t
if IsUnitInGroup(u,I11III)==false and IsUnitType(u,UNIT_TYPE_STRUCTURE)==false and (GetUnitTypeId(GetAttacker())=='n00U' or GetUnitTypeId(GetAttacker())=='n00V' or GetUnitTypeId(GetAttacker())=='n00W' or GetUnitTypeId(GetAttacker())=='n00Y' or (IsUnitType(GetAttacker(),UNIT_TYPE_HERO))or IsUnitIllusion(GetAttacker())or IsUnitType(u,UNIT_TYPE_HERO))then
set t=CreateTrigger()
call GroupAddUnit(I11III,u)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DAMAGED)
if GetUnitTypeId(GetAttacker())=='O01A' then
call TriggerRegisterUnitStateEvent(t,u,UNIT_STATE_LIFE,LESS_THAN,.41)
else
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
endif
call TriggerAddCondition(t,Condition(function O11I1OO))
set t=null
endif
return false
endfunction
function O11OIOO takes nothing returns boolean
return O11OIIO(GetTriggerUnit())
endfunction
function O11OI1O takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function O11OIOO))
set t=null
endfunction
function InitTrig_AllDamage takes nothing returns nothing
call ExecuteFunc("O11OI1O")
endfunction
function O11OOIO takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitEnemy(F,IO11IOO)!=IO1O1OO or GetWidgetLife(F)<.41)then
set IO11IIO=IO11IIO+1
set IO1O11O[IO11IIO]=F
endif
set F=null
return false
endfunction
function O11OOOO takes nothing returns nothing
if GetUnitTypeId(IOO1OI)==I1OI1O and GetOwningPlayer(IOO1OI)==GetOwningPlayer(IO1OII)then
if IO1I1I then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",IOO1OI,"weapon"))
set I1OII[0]=GetUnitLoc(IOO1OI)
set I1OII[1]=GetUnitLoc(IO1III)
set IIO11I=AngleBetweenPoints(I1OII[0],I1OII[1])
set II1III=false
set IOOI1I=false
set II1IOI=12.
set IOI1II=.03
set IOI1OI=.96
set IOI11I=.5
set IOOIOI=GetTriggerUnit()
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call ConditionalTriggerExecute(IIIOO1I)
endif
endif
endfunction
function O11O1IO takes nothing returns nothing
local unit e
if IsUnitIllusion(IOO1OI)==false and GetUnitAbilityLevel(IOO1OI,'B04I')>0 then
if GetRandomInt(1,$A)<=(2+GetUnitAbilityLevel(IOO1OI,'A0EN'))then
set e=CreateUnit(GetOwningPlayer(IOO1OI),'e01Z',GetUnitX(IOO1OI),GetUnitY(IOO1OI),.0)
call SetUnitScale(e,.7,.7,.7)
call UnitApplyTimedLife(e,'BTLF',4)
call SetUnitUserData(e,1)
call UnitAddAbility(e,'ANst')
call SetUnitAbilityLevel(e,'ANst',GetUnitAbilityLevel(IOO1OI,'A0EN'))
call IssuePointOrderById(e,$D0271,GetUnitX(IO1III),GetUnitY(IO1III))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCaster.mdl",IOO1OI,"weapon"))
set e=null
endif
endif
endfunction
function O11O11O takes nothing returns nothing
if not(IsUnitIllusion(IOO1OI)or GetUnitTypeId(IOO1OI)!='O00C' or IO1III!=I1OI1I)then
call UnitApplyTimedLife(CreateUnit(Player($F),'n02F',GetUnitX(I1OI1I),GetUnitY(I1OI1I),GetRandomReal(0,360)),'BTLF',1.)
endif
endfunction
function O111IOO takes nothing returns nothing
if not(IsUnitIllusion(IOO1OI)or GetUnitAbilityLevel(IOO1OI,'B05C')==0)then
call DisableTrigger(III1OII)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl",IO1III,"chest"))
if GetUnitAbilityLevelSwapped('AOae',IOO1OI)>0 then
set OIO1O[0]=(I2R(GetHeroStatBJ(2,IOO1OI,true)+GetHeroStatBJ(1,IOO1OI,true)+GetHeroStatBJ(0,IOO1OI,true))*(.51*I2R(GetUnitAbilityLevelSwapped('AOae',IOO1OI))))
else
set OIO1O[0]=(I2R(GetHeroStatBJ(2,IOO1OI,true)+GetHeroStatBJ(1,IOO1OI,true)+GetHeroStatBJ(0,IOO1OI,true))*.51)
endif
call UnitDamageTargetBJ(IOO1OI,IO1III,OIO1O[0],ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN)
call SetUnitState(IO1III,UNIT_STATE_MANA,GetUnitState(IO1III,UNIT_STATE_MANA)-OIO1O[0])
call CreateTextTagUnitBJ(I2S(R2I(OIO1O[0])),IO1III,0,6.,45.,30.,90.,0)
call ShowTextTagForceBJ(false,bj_lastCreatedTextTag,bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true,bj_lastCreatedTextTag,OOOIIOO(GetOwningPlayer(IOO1OI)))
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,2.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call EnableTrigger(III1OII)                                
endif
endfunction
function O111OIO takes nothing returns nothing
local real OOO1O1O
if GetUnitAbilityLevel(IOO1OI,'B05Y')>0 and IsUnitType(IO1III,UNIT_TYPE_STRUCTURE)==false then
set OOO1O1O=GetWidgetLife(IO1III)
call DisableTrigger(III1OOI)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl",IO1III,"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",IO1III,"origin"))
call UnitDamageTarget(IOO1OI,IO1III,OOO1O1O*(.25+(.1*GetUnitAbilityLevel(IOO1OI,'B05Y'))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call EnableTrigger(III1OOI)
endif
endfunction
function O111O1O takes nothing returns nothing
local unit e
local real O1IIO1O
if not(IsUnitIllusion(IOO1OI)or GetUnitAbilityLevel(IOO1OI,'Amgr')==0)and GetRandomInt(1,2)<=OII1OI then
set O1IIO1O=OO1IIOO(GetUnitX(IOO1OI),GetUnitY(IOO1OI),GetUnitX(IO1III),GetUnitY(IO1III))
set e=CreateUnit(GetOwningPlayer(IOO1OI),'e02G',GetUnitX(IOO1OI),GetUnitY(IOO1OI),GetUnitFacing(IOO1OI))
call ShowUnit(e,false)
call UnitAddAbility(e,'A0AU')
call SetUnitAbilityLevel(e,'A0AU',GetUnitAbilityLevel(IOO1OI,'Amgr'))
call UnitApplyTimedLife(e,'BTLF',3.)
call SetUnitUserData(e,36)
call O1I1IIO(GetUnitX(IOO1OI),GetUnitY(IOO1OI),5,O1IIO1O-40,80.,"carrionswarm",e)
endif
endfunction
function O1111OO takes nothing returns boolean
local unit F=GetFilterUnit()
if not(GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE)or IsUnitAlly(F,IIO))then
call UnitDamageTarget(IOO1OI,F,OIOI1I[7],true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
set F=null
return false
endfunction
function O11111O takes nothing returns nothing
local unit e
if not(IsUnitIllusion(IOO1OI)or GetUnitAbilityLevel(IOO1OI,'Afbk')==0)then
set IIO=GetOwningPlayer(IOO1OI)
set e=CreateUnit(Player($F),'e00X',GetUnitX(IO1III),GetUnitY(IO1III),.0)
call UnitApplyTimedLife(e,'BTLF',1.5)
call SetUnitTimeScale(e,1.5)
call SetUnitState(IO1III,UNIT_STATE_MANA,(GetUnitState(IO1III,UNIT_STATE_MANA)-OIOOII[7]))
set e=null
call DisableTrigger(III11II)
call GroupEnumUnitsInRange(OII1O,GetUnitX(IO1III),GetUnitY(IO1III),$FA,Condition(function O1111OO))
call EnableTrigger(III11II)
endif
endfunction
function IIIIIIOI takes nothing returns nothing
if not(IsUnitIllusion(IOO1OI)or GetUnitAbilityLevel(IOO1OI,'A00Z')==0)then
call DisableTrigger(III11OI)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",IO1III,"chest"))
call UnitDamageTarget(IOO1OI,IO1III,OIOI1I[8],true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
if GetWidgetLife(IO1III)>=OIOOII[8]*2 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",IO1III,"chest"))
call UnitDamageTarget(IOO1OI,IO1III,(OIOI1I[8]*.5),true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
endif
call EnableTrigger(III11OI)
endif
endfunction
function IIIIIOII takes nothing returns boolean
local unit F=GetFilterUnit()
if not(GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE)or IsUnitAlly(F,IIO))then
call UnitDamageTarget(IOO1OI,F,OIO1O[0],true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ShadowyMissileofEvilDOOMV2.mdx",F,"chest"))
endif
set F=null
return false
endfunction
function IIIIIOOI takes nothing returns nothing
if not(IsUnitIllusion(IOO1OI)or GetUnitAbilityLevel(IOO1OI,'AUts')==0)then
call DisableTrigger(III111I)
set IIO=GetOwningPlayer(IOO1OI)
set OIO1O[0]=(IIIIIO+500)*(GetUnitAbilityLevel(IOO1OI,'AUts')+.01*GetHeroStatBJ(0,IOO1OI,true))
set IIIIIO=0
call GroupEnumUnitsInRange(OII1O,GetUnitX(IO1III),GetUnitY(IO1III),400,Condition(function IIIIIOII))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\OrbOfDeath\\AnnihilationMissile.mdl",IO1III,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl",IOO1OI,"weapon"))
call UnitRemoveAbility(IOO1OI,'AItc')
call UnitRemoveAbility(IOO1OI,'A036')
call EnableTrigger(II1I1IO)
endif
endfunction
function IIIII1II takes nothing returns nothing
local integer I
if not(IsUnitIllusion(IOO1OI)or GetUnitAbilityLevel(IOO1OI,'A07L')==0)then
call DisableTrigger(IIOIIII)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",IO1III,"origin"))
set OIO1O[0]=((I2R(GetPlayerState(GetOwningPlayer(IOO1OI),PLAYER_STATE_RESOURCE_GOLD))*(.1+.05*GetUnitAbilityLevel(IOO1OI,'A07L'))))
set I=5
if GetPlayerState(GetOwningPlayer(IO1III),PLAYER_STATE_RESOURCE_GOLD)<I then
set I=GetPlayerState(GetOwningPlayer(IO1III),PLAYER_STATE_RESOURCE_GOLD)
elseif GetPlayerController(GetOwningPlayer(IO1III))==MAP_CONTROL_COMPUTER then
set I=$A
endif
call SetPlayerState(GetOwningPlayer(IOO1OI),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetOwningPlayer(IOO1OI),PLAYER_STATE_RESOURCE_GOLD)+I)
call SetPlayerState(GetOwningPlayer(IO1III),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetOwningPlayer(IO1III),PLAYER_STATE_RESOURCE_GOLD)-I)
call UnitDamageTargetBJ(IOO1OI,IO1III,OIO1O[0],ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)
call CreateTextTagUnitBJ(I2S(R2I(OIO1O[0])),IO1III,0,6.,100.,'d',.0,0)
call ShowTextTagForceBJ(false,bj_lastCreatedTextTag,bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true,bj_lastCreatedTextTag,OOOIIOO(GetOwningPlayer(IOO1OI)))
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,2.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call EnableTrigger(IIOIIII)
endif
endfunction
function IIIII11I takes nothing returns boolean
local unit F=GetFilterUnit()
if not(GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE)or IsUnitAlly(F,GetOwningPlayer(IOO1OI)))then
call UnitDamageTarget(IOO1OI,F,OIO1O[0],true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endif
set F=null
return false
endfunction
function IIIIOIII takes nothing returns nothing
if not(IsUnitIllusion(IOO1OI))and(GetUnitTypeId(IOO1OI)=='H02W' or GetUnitTypeId(IOO1OI)=='H02N' or GetUnitTypeId(IOO1OI)=='H02M')and GetUnitAbilityLevel(IO1III,'B03Y')>0 then
set OIO1O[0]='d'+'d'*GetUnitAbilityLevel(IOO1OI,'A0CH')
call GroupEnumUnitsInRange(OII1O,GetUnitX(IO1III),GetUnitY(IO1III),356,Condition(function IIIII11I))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",IO1III,"chest"))
endif
endfunction
function IIIIOI1I takes nothing returns nothing
if GetUnitAbilityLevel(IO11I1O,'AIa6')>0 then
call SetPlayerAbilityAvailable(IO11OOO,'A07I',true)
else
call SetPlayerAbilityAvailable(IO11OOO,'A207',true)
endif
call UnitRemoveAbility(IO11I1O,'A0MY')
call EnableTrigger(IIOII1I)
endfunction
function IIIIOOII takes nothing returns nothing
call SetPlayerAbilityAvailable(IO11OOO,'A06Z',true)
call UnitShareVision(IO11I1O,Player($C),false)
endfunction
function IIIIOOOI takes nothing returns nothing
set IO11OOO=GetOwningPlayer(IOO1OI)
set IO111IO=true
if GetUnitAbilityLevel(IOO1OI,'A07I')==0 then
call UnitDamageTarget(IOO1OI,IO1III,GetHeroAgi(IOO1OI,true)*.5,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(IOO1OI,IO1III,GetHeroAgi(IOO1OI,true)*.5*GetUnitAbilityLevel(IOO1OI,'A07I'),true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endif
set IO111IO=false
call DisableTrigger(IIOII1I)
call UnitAddAbility(IO11I1O,'A0MY')
call SetUnitAbilityLevel(IO11I1O,'A0MY',GetUnitAbilityLevel(IO11I1O,'A07I'))
call SetUnitFacingTimed(OIOIIIO,OO1IIOO(-7000,-7800,GetUnitX(IOO1OI),GetUnitY(IOO1OI)),0)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",IO1III,"origin"))
call IssueTargetOrderById(OIOIIIO,$D0102,IOO1OI)
call TimerStart(IO11OIO,.01,false,function IIIIOOII)
call TimerStart(IO11OIO,.05,false,function IIIIOI1I)
endfunction
function IIIIOO1I takes nothing returns nothing
call DestroyTrigger(IO11O1O)
endfunction
function IIIIO1II takes nothing returns boolean
if GetSpellAbilityId()=='A06Z' or GetSpellAbilityId()=='A0DN' then
call IIIIOOOI()
endif
return false
endfunction
function IIIIO1OI takes nothing returns nothing
if not(IsUnitIllusion(IOO1OI)or GetUnitTypeId(IOO1OI)!='H019' or IO111IO)then
set IO11I1O=IOO1OI
if GetUnitAbilityLevel(IO1III,'B05R')>0 then
call IIIIOOOI()
call UnitRemoveAbility(IO1III,'B05R')
else
set IO11O1O=CreateTrigger()
call TriggerRegisterUnitEvent(IO11O1O,IO1III,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IO11O1O,Condition(function IIIIO1II))
call TimerStart(IO11OIO,.001,false,function IIIIOO1I)
endif
endif
endfunction
function IIII1III takes nothing returns boolean
return(IsPlayerAlly(IIO,Player($A)))
endfunction
function IIII1IOI takes nothing returns boolean
return(GetPlayerSlotState(IIO)==PLAYER_SLOT_STATE_PLAYING)
endfunction
function IIII1I1I takes nothing returns nothing
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|cFF00FF00(AR)全體隨機模式啟動|r")
call DestroyTrigger(GetTriggeringTrigger())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$A
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set IIO=Player(-1+(bj_forLoopAIndex))
if(IIII1IOI())then
if(IIII1III())then
call TriggerExecute(II1O1II)
else
call TriggerExecute(II1O1OI)
endif
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function IIII1OOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIII1O1I takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIII1OOI()))!=null
endfunction
function IIII11II takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIII11OI takes nothing returns nothing
if(IIII11II())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[16])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[1])
endif
endfunction
function IIIOIIII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIIOIIOI takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIIOIIII()))!=null
endfunction
function IIIOII1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIIOIOII takes nothing returns nothing
if(IIIOII1I())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[17])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[$F])
endif
endfunction
function IIIOIO1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIIOI1II takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIIOIO1I()))!=null
endfunction
function IIIOI1OI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIIOI11I takes nothing returns nothing
if(IIIOI1OI())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[18])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[16])
endif
endfunction
function IIIOOIOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIIOOI1I takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIIOOIOI()))!=null
endfunction
function IIIOOOII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIIOOOOI takes nothing returns nothing
if(IIIOOOII())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[19])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[17])
endif
endfunction
function IIIOO1II takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIIOO1OI takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIIOO1II()))!=null
endfunction
function IIIOO11I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIIO1III takes nothing returns nothing
if(IIIOO11I())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[20])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[18])
endif
endfunction
function IIIO1I1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIIO1OII takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIIO1I1I()))!=null
endfunction
function IIIO1OOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIIO1O1I takes nothing returns nothing
if(IIIO1OOI())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[21])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[19])
endif
endfunction
function IIIO11OI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIIO111I takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIIO11OI()))!=null
endfunction
function III1IIII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function III1IIOI takes nothing returns nothing
if(III1IIII())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[22])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[20])
endif
endfunction
function III1IOII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function III1IOOI takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(III1IOII()))!=null
endfunction
function III1IO1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function III1I1II takes nothing returns nothing
if(III1IO1I())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[23])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[21])
endif
endfunction
function III1I11I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function III1OIII takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(III1I11I()))!=null
endfunction
function III1OIOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function III1OI1I takes nothing returns nothing
if(III1OIOI())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[24])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[22])
endif
endfunction
function III1OOOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function III1OO1I takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(III1OOOI()))!=null
endfunction
function III1O1II takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function III1O1OI takes nothing returns nothing
if(III1O1II())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[25])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[23])
endif
endfunction
function III11III takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function III11IOI takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(III11III()))!=null
endfunction
function III11I1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function III11OII takes nothing returns nothing
if(III11I1I())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[26])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[24])
endif
endfunction
function III11O1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function III111II takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(III11O1I()))!=null
endfunction
function III111OI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function III1111I takes nothing returns nothing
if(III111OI())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[2])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[25])
endif
endfunction
function IIOIIIOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIOIII1I takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIOIIIOI()))!=null
endfunction
function IIOIIOII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIOIIOOI takes nothing returns nothing
if(IIOIIOII())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[28])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[1])
endif
endfunction
function IIOII1II takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIOII1OI takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIOII1II()))!=null
endfunction
function IIOII11I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIOIOIII takes nothing returns nothing
if(IIOII11I())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[29])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[27])
endif
endfunction
function IIOIOI1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIOIOOII takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIOIOI1I()))!=null
endfunction
function IIOIOOOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIOIOO1I takes nothing returns nothing
if(IIOIOOOI())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[30])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[28])
endif
endfunction
function IIOIO1OI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIOIO11I takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIOIO1OI()))!=null
endfunction
function IIOI1III takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIOI1IOI takes nothing returns nothing
if(IIOI1III())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[31])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[29])
endif
endfunction
function IIOI1OII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIOI1OOI takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIOI1OII()))!=null
endfunction
function IIOI1O1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIOI11II takes nothing returns nothing
if(IIOI1O1I())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[32])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[30])
endif
endfunction
function IIOI111I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIOOIIII takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIOI111I()))!=null
endfunction
function IIOOIIOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIOOII1I takes nothing returns nothing
if(IIOOIIOI())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[33])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[31])
endif
endfunction
function IIOOIOOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIOOIO1I takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIOOIOOI()))!=null
endfunction
function IIOOI1II takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIOOI1OI takes nothing returns nothing
if(IIOOI1II())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[34])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[32])
endif
endfunction
function IIOOOIII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIOOOIOI takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIOOOIII()))!=null
endfunction
function IIOOOI1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIOOOOII takes nothing returns nothing
if(IIOOOI1I())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[35])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[33])
endif
endfunction
function IIOOOO1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIOOO1II takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIOOOO1I()))!=null
endfunction
function IIOOO1OI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIOOO11I takes nothing returns nothing
if(IIOOO1OI())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[36])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[34])
endif
endfunction
function IIOO1IOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIOO1I1I takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIOO1IOI()))!=null
endfunction
function IIOO1OII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIOO1OOI takes nothing returns nothing
if(IIOO1OII())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[37])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[35])
endif
endfunction
function IIOO11II takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIOO11OI takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIOO11II()))!=null
endfunction
function IIOO111I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIO1IIII takes nothing returns nothing
if(IIOO111I())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[2])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[36])
endif
endfunction
function IIO1II1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIO1IOII takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIO1II1I()))!=null
endfunction
function IIO1IOOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIO1IO1I takes nothing returns nothing
if(IIO1IOOI())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[39])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[1])
endif
endfunction
function IIO1I1OI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIO1I11I takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIO1I1OI()))!=null
endfunction
function IIO1OIII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIO1OIOI takes nothing returns nothing
if(IIO1OIII())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[40])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[38])
endif
endfunction
function IIO1OOII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIO1OOOI takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIO1OOII()))!=null
endfunction
function IIO1OO1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIO1O1II takes nothing returns nothing
if(IIO1OO1I())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[41])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[39])
endif
endfunction
function IIO1O11I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIO11III takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIO1O11I()))!=null
endfunction
function IIO11IOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIO11I1I takes nothing returns nothing
if(IIO11IOI())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[42])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[40])
endif
endfunction
function IIO11OOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IIO11O1I takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(IIO11OOI()))!=null
endfunction
function IIO111II takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IIO111OI takes nothing returns nothing
if(IIO111II())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[43])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[41])
endif
endfunction
function II1IIIII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function II1IIIOI takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(II1IIIII()))!=null
endfunction
function II1III1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function II1IIOII takes nothing returns nothing
if(II1III1I())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[44])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[42])
endif
endfunction
function II1IIO1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function II1II1II takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(II1IIO1I()))!=null
endfunction
function II1II1OI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function II1II11I takes nothing returns nothing
if(II1II1OI())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[45])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[43])
endif
endfunction
function II1IOIOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function II1IOI1I takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(II1IOIOI()))!=null
endfunction
function II1IOOII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function II1IOOOI takes nothing returns nothing
if(II1IOOII())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[46])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[44])
endif
endfunction
function II1IO1II takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function II1IO1OI takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(II1IO1II()))!=null
endfunction
function II1IO11I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function II1I1III takes nothing returns nothing
if(II1IO11I())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[47])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[45])
endif
endfunction
function II1I1I1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function II1I1OII takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(II1I1I1I()))!=null
endfunction
function II1I1OOI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function II1I1O1I takes nothing returns nothing
if(II1I1OOI())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[48])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[46])
endif
endfunction
function II1I11OI takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function II1I111I takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(II1I11OI()))!=null
endfunction
function II1OIIII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function II1OIIOI takes nothing returns nothing
if(II1OIIII())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[49])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[47])
endif
endfunction
function II1OIOII takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function II1OIOOI takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)!=true)and(II1OIOII()))!=null
endfunction
function II1OIO1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function II1OI1II takes nothing returns nothing
if(II1OIO1I())then
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[2])
else
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[48])
endif
endfunction
function II1OI11I takes nothing returns nothing
set I1IOIO[0]=300
set IOO[1]='Obla'
set I1IO1O[0]='A0L9'
set IO11OO[1]='F001'
set IO111O[1]='F002'
set I1IIIO[1]='F003'
set I1IIOO[1]='F004'
set IOO[2]='Ofar'
set I1IO1O[2]='A0YN'
set IO11OO[2]='A0NL'
set IO111O[2]='A0NM'
set I1IIIO[2]='A0NN'
set I1IIOO[2]='A0NO'
set IOO[3]='Otch'
set I1IO1O[3]='A0CJ'
set IO11OO[3]='A0NV'
set IO111O[3]='A0NP'
set I1IIIO[3]='A0NQ'
set I1IIOO[3]='A0NR'
set IOO[4]='Oshd'
set IO11OO[4]='A0NZ'
set IO111O[4]='A0NX'
set I1IIIO[4]='A0NY'
set I1IIOO[4]='A0O0'
set IOO[5]='Udre'
set IO11OO[5]='A0NW'
set IO111O[5]='A0NT'
set I1IIIO[5]='A0NU'
set I1IIOO[5]='A0NS'
set IOO[6]='Orkn'
set IO11OO[6]='A0O4'
set IO111O[6]='A0O1'
set I1IIIO[6]='A0O2'
set I1IIOO[6]='A0O3'
set IOO[7]='Hjai'
set IO11OO[7]='A0O7'
set IO111O[7]='A0O6'
set I1IIIO[7]='A0O5'
set I1IIOO[7]='A0O8'
set IOO[8]='O00R'
set IO11OO[8]='A0OC'
set IO111O[8]='A0OA'
set I1IIIO[8]='A0OB'
set I1IIOO[8]='A0O9'
set IOO[9]='O006'
set I1IO1O[9]='A0BF'
set I1I1IO[9]='A0K3'
set I1I11O[9]='A0K4'
set I1I1OO[9]='A05T'
set I1OIIO[9]='A0BI'
set IO11OO[9]='A0OD'
set IO111O[9]='A0OE'
set I1IIIO[9]='A0OF'
set I1IIOO[9]='A0OG'
set IOO[$A]='O00B'
set IO11OO[$A]='A0OH'
set IO111O[$A]='A0OI'
set I1IIIO[$A]='A0OJ'
set I1IIOO[$A]='A0OK'
set IOO[$B]='O00J'
set I1IO1O[$B]='A0YO'
set IO11OO[$B]='A0OL'
set IO111O[$B]='A0OM'
set I1IIIO[$B]='A0ON'
set I1IIOO[$B]='A0OO'
set IOO[$C]='O00N'
set I1IO1O[$C]='A09C'
set IO11OO[$C]='A0OP'
set IO111O[$C]='A0OQ'
set I1IIIO[$C]='A0OR'
set I1IIOO[$C]='A0OS'
set IOO[$D]='O003'
set I1IO1O[$D]='ACav'
set I1I1IO[$D]='AIat'
set IO11OO[$D]='A0OT'
set IO111O[$D]='A0OU'
set I1IIIO[$D]='A0OV'
set I1IIOO[$D]='A0OW'
set IOO[$E]='O00D'
set I1IO1O[$E]='A09M'
set IO11OO[$E]='A0OX'
set IO111O[$E]='A0OY'
set I1IIIO[$E]='A0OZ'
set I1IIOO[$E]='A0P0'
set IOO[$F]='O016'
set I1IO1O[$F]='A0C9'
set IO11OO[$F]='A0P1'
set IO111O[$F]='A0P2'
set I1IIIO[$F]='A0P3'
set I1IIOO[$F]='A0P4'
set IOO[16]='O009'
set IO11OO[16]='A0QR'
set IO111O[16]='A0QS'
set I1IIIO[16]='A0QT'
set I1IIOO[16]='A0QU'
set IOO[17]='O00G'
set IO11OO[17]='A0Q9'
set IO111O[17]='A0QA'
set I1IIIO[17]='A0QB'
set I1IIOO[17]='A0QC'
set IOO[18]='O002'
set IO11OO[18]='A0UD'
set IO111O[18]='A0UE'
set I1IIIO[18]='A0UF'
set I1IIOO[18]='A0UG'
set IOO[19]='O00I'
set IO11OO[19]='A0XX'
set IO111O[19]='A0XY'
set I1IIIO[19]='A0XZ'
set I1IIOO[19]='A0Y0'
set IOO[20]='O00A'
set I1IO1O[20]='A01V'
set IO11OO[20]='A0PP'
set IO111O[20]='A0PQ'
set I1IIIO[20]='A0PR'
set I1IIOO[20]='A0PS'
set IOO[21]='O00F'
set I1IO1O[21]='A0GI'
set I1I1IO[21]='A0KT'
set IO11OO[21]='A0PL'
set IO111O[21]='A0PM'
set I1IIIO[21]='A0PN'
set I1IIOO[21]='A0PO'
set IOO[22]='O00H'
set I1IO1O[22]='ANth'
set IO11OO[22]='A0X9'
set IO111O[22]='A0XA'
set I1IIIO[22]='A0XB'
set I1IIOO[22]='A0XC'
set IOO[23]='O00M'
set IO11OO[23]='A0QH'
set IO111O[23]='A0QI'
set I1IIIO[23]='A0QJ'
set I1IIOO[23]='A0QK'
set IOO[24]='O00L'
set I1IO1O[24]='AUfa'
set IO11OO[24]='A0PH'
set IO111O[24]='A0PI'
set I1IIIO[24]='A0PJ'
set I1IIOO[24]='A0PK'
set IOO[25]='O00Y'
set IO11OO[25]='A0XT'
set IO111O[25]='A0XU'
set I1IIIO[25]='A0XV'
set I1IIOO[25]='A0XW'
set IOO[26]='H02M'
set I1IO1O[26]='ACs9'
set IO11OO[26]='A0XP'
set IO111O[26]='A0XQ'
set I1IIIO[26]='A0XR'
set I1IIOO[26]='A0XS'
set IOO[27]='O01D'
set IO11OO[27]='A0XD'
set IO111O[27]='A0XE'
set I1IIIO[27]='A0XF'
set I1IIOO[27]='A0XG'
set IOO[28]='O01W'
set IO11OO[28]='A0X5'
set IO111O[28]='A0X6'
set I1IIIO[28]='A0X7'
set I1IIOO[28]='A0X8'
set IOO[29]='O01A'
set I1IO1O[29]='A0DB'
set IO11OO[29]='A0QD'
set IO111O[29]='A0QE'
set I1IIIO[29]='A0QF'
set I1IIOO[29]='A0QG'
set IOO[30]='O01F'
set IO11OO[30]='A0QV'
set IO111O[30]='A0QW'
set I1IIIO[30]='A0QX'
set I1IIOO[30]='A0QY'
set IOO[31]='O01H'
set I1IO1O[31]='ANmr'
set IO11OO[31]='A0XH'
set IO111O[31]='A0XI'
set I1IIIO[31]='A0XJ'
set I1IIOO[31]='A0XK'
set IOO[32]='O01I'
set I1IO1O[32]='Atau'
set IO11OO[32]='A0QZ'
set IO111O[32]='A0R0'
set I1IIIO[32]='A0R1'
set I1IIOO[32]='A0R2'
set IOO[33]='O021'
set IO11OO[33]='A0XL'
set IO111O[33]='A0XM'
set I1IIIO[33]='A0XN'
set I1IIOO[33]='A0XO'
set IOO[34]='O028'
set I1IO1O[34]='A0N7'
set I1I1IO[34]='AChw'
set IO11OO[34]='A0PE'
set IO111O[34]='A0PF'
set I1IIIO[34]='A0PG'
set I1IIOO[34]='A0PD'
set IOO[35]='O026'
set IO11OO[35]='A0PA'
set IO111O[35]='A0PB'
set I1IIIO[35]='A0P9'
set I1IIOO[35]='A0PC'
set IOO[36]='O012'
set I1IO1O[36]='A0Z7'
set IO11OO[36]='A0P6'
set IO111O[36]='A0P7'
set I1IIIO[36]='A0P8'
set I1IIOO[36]='A0P5'
endfunction
function II1OOIOI takes nothing returns nothing
set IOO['e']='O019'
set I1IO1O['e']='ANfb'
set IO11OO['e']='A0VX'
set IO111O['e']='A0VY'
set I1IIIO['e']='A0VZ'
set I1IIOO['e']='A0W0'
set IOO['f']='H025'
set I1IO1O['f']='A0ZH'
set IO11OO['f']='A0VP'
set IO111O['f']='A0VQ'
set I1IIIO['f']='A0VR'
set I1IIOO['f']='A0VS'
set IOO['g']='H03B'
set I1IO1O['g']='A0ED'
set IO11OO['g']='A0W1'
set IO111O['g']='A0W2'
set I1IIIO['g']='A0W3'
set I1IIOO['g']='A0W4'
set IOO['h']='Hapm'
set I1IO1O['h']='Awfb'
set IO11OO['h']='A0VL'
set IO111O['h']='A0VM'
set I1IIIO['h']='A0VN'
set I1IIOO['h']='A0VO'
set IOO['i']='Othr'
set IO11OO['i']='A0RJ'
set IO111O['i']='A0RK'
set I1IIIO['i']='A0RL'
set I1IIOO['i']='A0RM'
set IOO['j']='O000'
set IO11OO['j']='A0X1'
set IO111O['j']='A0X2'
set I1IIIO['j']='A0X3'
set I1IIOO['j']='A0X4'
set IOO['k']='O008'
set IO11OO['k']='A0RB'
set IO111O['k']='A0RC'
set I1IIIO['k']='A0RD'
set I1IIOO['k']='A0RE'
set IOO['l']='H018'
set I1IO1O['l']='A050'
set IO11OO['l']='A0W9'
set IO111O['l']='A0WA'
set I1IIIO['l']='A0WB'
set I1IIOO['l']='A0WC'
set IOO['m']='Udea'
set I1IO1O['m']='A0HQ'
set IO11OO['m']='A0RN'
set IO111O['m']='A0RO'
set I1IIIO['m']='A0RP'
set I1IIOO['m']='A0RQ'
set IOO['n']='Opgh'
set I1IO1O['n']='ACst'
set IO11OO['n']='A0RF'
set IO111O['n']='A0RG'
set I1IIIO['n']='A0RH'
set I1IIOO['n']='A0RI'
set IOO['o']='H036'
set I1IO1O['o']='A0FU'
set I1I1IO['o']='A0JR'
set IO11OO['o']='A0QL'
set IO111O['o']='A0QM'
set I1IIIO['o']='A0QN'
set I1IIOO['o']='A0QO'
set IOO['p']='O017'
set IO11OO['p']='A0WH'
set IO111O['p']='A0WI'
set I1IIIO['p']='A0WJ'
set I1IIOO['p']='A0WK'
set IOO['q']='H02F'
set I1IO1O['q']='ACfb'
set IO11OO['q']='A0WD'
set IO111O['q']='A0WE'
set I1IIIO['q']='A0WF'
set I1IIOO['q']='A0WG'
set IOO['r']='O018'
set IO11OO['r']='A0VT'
set IO111O['r']='A0VU'
set I1IIIO['r']='A0VV'
set I1IIOO['r']='A0VW'
set IOO['s']='O01C'
set I1IO1O['s']='A0HX'
set IO11OO['s']='A0WT'
set IO111O['s']='A0WU'
set I1IIIO['s']='A0WV'
set I1IIOO['s']='A0WW'
set IOO['t']='U005'
set I1IO1O['t']='A0I5'
set I1I1IO['t']='A0I7'
set IO11OO['t']='A0WL'
set IO111O['t']='A0WM'
set I1IIIO['t']='A0WN'
set I1IIOO['t']='A0WO'
set IOO['u']='O00P'
set I1IO1O['u']='ANfd'
set IO11OO['u']='A0VD'
set IO111O['u']='A0VE'
set I1IIIO['u']='A0VF'
set I1IIOO['u']='A0VG'
set IOO['v']='O023'
set IO11OO['v']='A0R3'
set IO111O['v']='A0R4'
set I1IIIO['v']='A0R5'
set I1IIOO['v']='A0R6'
set IOO['w']='O01N'
set I1IO1O['w']='A0Y9'
set IO11OO['w']='A0WP'
set IO111O['w']='A0WQ'
set I1IIIO['w']='A0WR'
set I1IIOO['w']='A0WS'
set IOO['x']='O01O'
set IO11OO['x']='A0W5'
set IO111O['x']='A0W6'
set I1IIIO['x']='A0W7'
set I1IIOO['x']='A0W8'
set IOO['y']='O01T'
set I1IO1O['y']='Aphx'
set IO11OO['y']='A0WX'
set IO111O['y']='A0WY'
set I1IIIO['y']='A0WZ'
set I1IIOO['y']='A0X0'
set IOO['z']='O01Y'
set I1IO1O['z']='A0BU'
set IO11OO['z']='A0R7'
set IO111O['z']='A0R8'
set I1IIIO['z']='A0R9'
set I1IIOO['z']='A0RA'
set IOO['{']='O00S'
set I1IO1O['{']='ACcl'
set IO11OO['{']='A0V9'
set IO111O['{']='A0VA'
set I1IIIO['{']='A0VB'
set I1IIOO['{']='A0VC'
endfunction
function II1OOOII takes nothing returns nothing
set IOO[$C9]='Hpal'
set IO11OO[$C9]='A0UH'
set IO111O[$C9]='A0UI'
set I1IIIO[$C9]='A0UJ'
set I1IIOO[$C9]='A0UK'
set IOO[$CA]='Hmkg'
set I1IO1O[$CA]='AHab'
set IO11OO[$CA]='A0UX'
set IO111O[$CA]='A0UY'
set I1IIIO[$CA]='A0UZ'
set I1IIOO[$CA]='A0V0'
set IOO[$CB]='Nbbc'
set IO11OO[$CB]='A0UL'
set IO111O[$CB]='A0UM'
set I1IIIO[$CB]='A0UN'
set I1IIOO[$CB]='A0UO'
set IOO[$CC]='Ulic'
set IO11OO[$CC]='A0PT'
set IO111O[$CC]='A0PU'
set I1IIIO[$CC]='A0PV'
set I1IIOO[$CC]='A0PW'
set IOO[$CD]='Ucrl'
set I1IO1O[$CD]='A0HV'
set IO11OO[$CD]='A0UT'
set IO111O[$CD]='A0UU'
set I1IIIO[$CD]='A0UV'
set I1IIOO[$CD]='A0UW'
set IOO[$CE]='Hart'
set IO11OO[$CE]='A0T1'
set IO111O[$CE]='A0T2'
set I1IIIO[$CE]='A0T3'
set I1IIOO[$CE]='A0T4'
set IOO[$CF]='Hant'
set I1IO1O[$CF]='A0KQ'
set IO11OO[$CF]='A0T5'
set IO111O[$CF]='A0T6'
set I1IIIO[$CF]='A0T7'
set I1IIOO[$CF]='A0T8'
set IOO[$D0]='Hpb2'
set I1IO1O[$D0]='A0M5'
set I1I1IO[$D0]='A0ME'
set IO11OO[$D0]='A0UP'
set IO111O[$D0]='A0UQ'
set I1IIIO[$D0]='A0UR'
set I1IIOO[$D0]='A0US'
set IOO[$D1]='Hkal'
set I1IO1O[$D1]='AEfk'
set IO11OO[$D1]='A0QP'
set IO111O[$D1]='A0QQ'
set I1IIIO[$D1]='A0SV'
set I1IIOO[$D1]='A0SW'
set IOO[$D2]='Hdgo'
set I1IO1O[$D2]='Aspo'
set I1I1IO[$D2]='A0KU'
set IO11OO[$D2]='A0Y1'
set IO111O[$D2]='A0Y2'
set I1IIIO[$D2]='A0Y3'
set I1IIOO[$D2]='A0Y4'
set IOO[$D3]='Hlgr'
set IO11OO[$D3]='A0SX'
set IO111O[$D3]='A0SY'
set I1IIIO[$D3]='A0SZ'
set I1IIOO[$D3]='A0T0'
set IOO[$D4]='H014'
set I1IO1O[$D4]='A0BN'
set IO11OO[$D4]='A0TP'
set IO111O[$D4]='A0TQ'
set I1IIIO[$D4]='A0TR'
set I1IIOO[$D4]='A0TS'
set IOO[$D5]='H02X'
set IO11OO[$D5]='A0SB'
set IO111O[$D5]='A0SC'
set I1IIIO[$D5]='A0SD'
set I1IIOO[$D5]='A0SE'
set IOO[$D6]='O00T'
set I1IO1O[$D6]='A0AT'
set IO11OO[$D6]='A0SF'
set IO111O[$D6]='A0SG'
set I1IIIO[$D6]='A0SH'
set I1IIOO[$D6]='A0SI'
set IOO[$D7]='U003'
set IO11OO[$D7]='A0SJ'
set IO111O[$D7]='A0SK'
set I1IIIO[$D7]='A0SL'
set I1IIOO[$D7]='A0SM'
set IOO[$D8]='H016'
set I1IO1O[$D8]='Aimp'
set IO11OO[$D8]='A0TD'
set IO111O[$D8]='A0TE'
set I1IIIO[$D8]='A0TF'
set I1IIOO[$D8]='A0TG'
set IOO[$D9]='H01B'
set I1IO1O[$D9]='A0MW'
set IO11OO[$D9]='A0U5'
set IO111O[$D9]='A0U6'
set I1IIIO[$D9]='A0U7'
set I1IIOO[$D9]='A0U8'
set IOO[$DA]='H00X'
set I1IO1O[$DA]='A0MJ'
set IO11OO[$DA]='A0U9'
set IO111O[$DA]='A0UA'
set I1IIIO[$DA]='A0UB'
set I1IIOO[$DA]='A0UC'
set IOO[$DB]='H00O'
set I1I1IO[$DB]='A014'
set IO11OO[$DB]='A0S3'
set IO111O[$DB]='A0S4'
set I1IIIO[$DB]='A0S5'
set I1IIOO[$DB]='A0S6'
set IOO[$DC]='H019'
set I1I1IO[$DC]='A0K8'
set IO11OO[$DC]='A0Q1'
set IO111O[$DC]='A0Q2'
set I1IIIO[$DC]='A0Q3'
set I1IIOO[$DC]='A0Q4'
set IOO[$DD]='H00P'
set IO11OO[$DD]='A0TT'
set IO111O[$DD]='A0TU'
set I1IIIO[$DD]='A0TV'
set I1IIOO[$DD]='A0TW'
set IOO[$DE]='H01F'
set I1I1IO[$DE]='A0IH'
set IO11OO[$DE]='A0SN'
set IO111O[$DE]='A0SO'
set I1IIIO[$DE]='A0SP'
set I1IIOO[$DE]='A0SQ'
set IOO[$DF]='H010'
set I1IO1O[$DF]='AIbt'
set IO11OO[$DF]='A0TL'
set IO111O[$DF]='A0TM'
set I1IIIO[$DF]='A0TN'
set I1IIOO[$DF]='A0TO'
set IOO[$E0]='H00S'
set IO11OO[$E0]='A0TH'
set IO111O[$E0]='A0TI'
set I1IIIO[$E0]='A0TJ'
set I1IIOO[$E0]='A0TK'
set IOO[$E1]='Edem'
set I1IO1O[$E1]='A0G6'
set IO11OO[$E1]='A0PX'
set IO111O[$E1]='A0PY'
set I1IIIO[$E1]='A0PZ'
set I1IIOO[$E1]='A0Q0'
set IOO[$E2]='H03J'
set I1IO1O[$E2]='ACf3'
set I1I1IO[$E2]='Aeye'
set IO11OO[$E2]='A0TX'
set IO111O[$E2]='A0TY'
set I1IIIO[$E2]='A0TZ'
set I1IIOO[$E2]='A0U0'
set IOO[$E3]='O01B'
set IO11OO[$E3]='A0Q5'
set IO111O[$E3]='A0Q6'
set I1IIIO[$E3]='A0Q7'
set I1IIOO[$E3]='A0Q8'
set IOO[$E4]='H034'
set IO11OO[$E4]='A0S7'
set IO111O[$E4]='A0S8'
set I1IIIO[$E4]='A0S9'
set I1IIOO[$E4]='A0SA'
set IOO[$E5]='H039'
set I1I1IO[$E5]='A0LA'
set IO11OO[$E5]='A0RR'
set IO111O[$E5]='A0RS'
set I1IIIO[$E5]='A0RT'
set I1IIOO[$E5]='A0RU'
set IOO[$E6]='O01E'
set IO11OO[$E6]='A0S0'
set IO111O[$E6]='A0S1'
set I1IIIO[$E6]='A0S2'
set I1IIOO[$E6]='A0RZ'
set IOO[$E7]='O01G'
set IO11OO[$E7]='A0TA'
set IO111O[$E7]='A0T9'
set I1IIIO[$E7]='A0TB'
set I1IIOO[$E7]='A0TC'
set IOO[$E8]='H00N'
set I1IO1O[$E8]='A0Z7'
set IO11OO[$E8]='A0VH'
set IO111O[$E8]='A0VI'
set I1IIIO[$E8]='A0VJ'
set I1IIOO[$E8]='A0VK'
set IOO[$E9]='H00R'
set IO11OO[$E9]='A0RV'
set IO111O[$E9]='A0RW'
set I1IIIO[$E9]='A0RX'
set I1IIOO[$E9]='A0RY'
set IOO[$EA]='O020'
set I1IO1O[$EA]='A0MI'
set IO11OO[$EA]='A0SR'
set IO111O[$EA]='A0SS'
set I1IIIO[$EA]='A0ST'
set I1IIOO[$EA]='A0SU'
set IOO[$EB]='H01X'
set IO11OO[$EB]='A0V1'
set IO111O[$EB]='A0V2'
set I1IIIO[$EB]='A0V3'
set I1IIOO[$EB]='A0V4'
set IOO[$EC]='H01Y'
set IO11OO[$EC]='A0U1'
set IO111O[$EC]='A0U2'
set I1IIIO[$EC]='A0U3'
set I1IIOO[$EC]='A0U4'
set IOO[$ED]='Eill'
set I1IO1O[$ED]='A0YM'
set IO11OO[$ED]='A0V5'
set IO111O[$ED]='A0V6'
set I1IIIO[$ED]='A0V7'
set I1IIOO[$ED]='A0V8'
endfunction
function Trig_RandomHeroSpawn_Func009002 takes nothing returns nothing
call SetPlayerTechMaxAllowedSwap(IOO[IIIIOI[0]],0,GetEnumPlayer())
endfunction
function II1OOO1I takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function II1OO1II takes nothing returns nothing
local integer OO1OI1O=1
local unit e
local integer II1OO1OI=0
local integer II1OO11I=0
loop
exitwhen OO1OI1O>$C8
if IOO[OO1OI1O]!=0 then
set II1OO1OI=(II1OO1OI+1)
if GetRandomInt(1,II1OO1OI)==1 and chosenhero[0]!=IOO[OO1OI1O] and chosenhero[1]!=IOO[OO1OI1O] and chosenhero[2]!=IOO[OO1OI1O] and chosenhero[3]!=IOO[OO1OI1O] and chosenhero[4]!=IOO[OO1OI1O] and chosenhero[5]!=IOO[OO1OI1O] and chosenhero[6]!=IOO[OO1OI1O] and chosenhero[7]!=IOO[OO1OI1O] and chosenhero[8]!=IOO[OO1OI1O] and chosenhero[9]!=IOO[OO1OI1O] then
set II1OO11I=OO1OI1O
endif
endif
set OO1OI1O=OO1OI1O+1
endloop
set chosenhero[GetPlayerId(IIO)]=IOO[II1OO11I]
set e=CreateUnit(IIO,IOO[II1OO11I],GetLocationX(OIOII[65]),GetLocationY(OIOII[65]),270.)
call GroupAddUnit(OOI1OI,e)
set O11IO=e
set OOO1I[GetPlayerId(IIO)+1]=e
set IIIIOI[0]=II1OO11I
call TriggerExecute(II11I1I)
set bj_wantDestroyGroup=true
call ForGroupBJ(OOI11IO(IIO,'h01C'),function II1OOO1I)
set e=null
endfunction
function II1O1IOI takes nothing returns nothing
call SetPlayerTechMaxAllowedSwap(IOO[IIIIOI[0]],0,GetEnumPlayer())
endfunction
function II1O1I1I takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function repick3 takes nothing returns boolean
return (IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)
endfunction
function repick2 takes nothing returns nothing
local integer R=0
local item I=null
if herolevel[GetPlayerId(GetOwningPlayer(GetEnumUnit()))+1]<GetHeroLevel(GetEnumUnit()) then
set herolevel[GetPlayerId(GetOwningPlayer(GetEnumUnit()))+1]=GetHeroLevel(GetEnumUnit())
endif
if repickitem then
loop
exitwhen R>6
set I=UnitItemInSlot(GetEnumUnit(),R)
if GetItemTypeId(I)!='lhst' then
if (IsUnitAlly(GetEnumUnit(),Player(0))) then
call CreateItem(GetItemTypeId(I),6816+100*GetPlayerId(GetOwningPlayer(GetEnumUnit())),-7680+150*GetPlayerId(GetOwningPlayer(GetEnumUnit())))
else
call CreateItem(GetItemTypeId(I),-7352+100*(GetPlayerId(GetOwningPlayer(GetEnumUnit()))-5),6700+150*(GetPlayerId(GetOwningPlayer(GetEnumUnit()))-5))
endif                                                                  
endif
set R=R+1
endloop
set repickitem=false
endif
set I=null
if not(GetUnitAbilityLevel(GetEnumUnit(),'AIsb')==0 and GetUnitAbilityLevel(GetEnumUnit(),'A0N4')==0) then
call DisableTrigger(I1OOOI[$F])
endif
if GetUnitTypeId(GetEnumUnit())=='H010' then
set towerreset=true
endif
call RemoveUnit(GetEnumUnit())
endfunction
function repickhero takes nothing returns nothing
if rpcontrol[GetPlayerId(GetTriggerPlayer())] then
if GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_CAP)==2 then
call ForGroupBJ(GetRandomSubGroup(1, GetUnitsOfPlayerMatching(GetTriggerPlayer(), Condition(function repick3))), function repick2)
else
if IsPlayerAlly(GetTriggerPlayer(),Player(0)) then
call CreateNUnitsAtLoc(1,'h00M',GetTriggerPlayer(),GetRectCenter(O1OI1O),bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,'h00M',GetTriggerPlayer(),GetRectCenter(O1OOIO),bj_UNIT_FACING)
endif
call CreateNUnitsAtLoc(1,'h00M',GetTriggerPlayer(),GetRectCenter(O1OOOO),bj_UNIT_FACING)
call SetPlayerStateBJ(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_FOOD_CAP,2)
set repickitem=true
call ForGroupBJ(GetRandomSubGroup(1, GetUnitsOfPlayerMatching(GetTriggerPlayer(), Condition(function repick3))), function repick2)
endif
call SetPlayerAbilityAvailable(GetTriggerPlayer(),'A0YA',true)
call SetPlayerAbilityAvailable(GetTriggerPlayer(),'A0M9',true)
if GetPlayerId(GetTriggerPlayer())==killaddagi then
set killaddagi=100
endif
if GetPlayerId(GetTriggerPlayer())==killaddstr then
set killaddstr=100
endif
if GetPlayerId(GetTriggerPlayer())==tiebigplayer then
set tiebigplayer=100
endif
if GetPlayerId(GetTriggerPlayer())==teateathreeplayer then 
set teateathreeplayer=100
endif
if GetPlayerId(GetTriggerPlayer())==jiabigplayer then 
set jiabigplayer=100
endif
if GetPlayerId(GetTriggerPlayer())==fengxuplayer then 
set fengxuplayer=100
endif
if GetTriggerPlayer()==GetOwningPlayer(shi1u) then
call PauseTimer(shi1timer)
endif
if GetTriggerPlayer()==GetOwningPlayer(baidi3u) then
call PauseTimer(baidi3timer)
endif
if GetTriggerPlayer()==GetOwningPlayer(xin1u) then
call PauseTimer(xin1timer)
endif
if GetTriggerPlayer()==GetOwningPlayer(zongmao0u) then
call PauseTimer(zongmao0timer)
endif
if GetTriggerPlayer()==GetOwningPlayer(benyuan1u) then
call PauseTimer(benyuan1timer)
endif
else
call TriggerSleepAction(5.)
set rpcontrol[GetPlayerId(GetTriggerPlayer())]=true
endif
endfunction
function II1O1OII takes nothing returns nothing
local integer OO1OI1O=300
local unit e
local integer II1OO1OI=0
local integer II1OO11I=0
loop
exitwhen OO1OI1O<'d'
if IOO[OO1OI1O]!=0 then
set II1OO1OI=(II1OO1OI+1)
if GetRandomInt(1,II1OO1OI)==1 and chosenhero[0]!=IOO[OO1OI1O] and chosenhero[1]!=IOO[OO1OI1O] and chosenhero[2]!=IOO[OO1OI1O] and chosenhero[3]!=IOO[OO1OI1O] and chosenhero[4]!=IOO[OO1OI1O] and chosenhero[5]!=IOO[OO1OI1O] and chosenhero[6]!=IOO[OO1OI1O] and chosenhero[7]!=IOO[OO1OI1O] and chosenhero[8]!=IOO[OO1OI1O] and chosenhero[9]!=IOO[OO1OI1O] then
set II1OO11I=OO1OI1O
endif
endif
set OO1OI1O=OO1OI1O-1
endloop
set chosenhero[GetPlayerId(IIO)]=IOO[II1OO11I]
set e=CreateUnit(IIO,IOO[II1OO11I],GetLocationX(OIOII[66]),GetLocationY(OIOII[66]),270.)
call GroupAddUnit(OOI1OI,e)
set O11IO=e
set OOO1I[GetPlayerId(IIO)+1]=e
set IIIIOI[0]=II1OO11I
call ForForce(bj_FORCE_ALL_PLAYERS,function II1O1IOI)
call TriggerExecute(II11I1I)
set bj_wantDestroyGroup=true
call ForGroupBJ(OOI11IO(IIO,'h01C'),function II1O1I1I)
set e=null
endfunction
function II1O11II takes nothing returns boolean
return(IsPlayerAlly(IIO,Player(0)))
endfunction
function II1O11OI takes nothing returns nothing
call SetPlayerTechMaxAllowedSwap(IOO[IIIIOI[0]],0,GetEnumPlayer())
endfunction
function II1O111I takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function II11II1I takes nothing returns nothing
call SetPlayerTechMaxAllowedSwap(GetUnitTypeId(GetSoldUnit()),0,GetEnumPlayer())
endfunction
function II11IOII takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function II11IOOI takes nothing returns boolean
return(IsUnitAlly(GetSoldUnit(),Player(0)))
endfunction
function II11IO1I takes nothing returns boolean
return(IsUnitAlly(GetSoldUnit(),Player(0)))
endfunction
function II11I1II takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='h01C')
endfunction
function II11I1OI takes nothing returns nothing
call SetPlayerTechMaxAllowedSwap('h01C',0,GetOwningPlayer(GetBuyingUnit()))
if(II11I1II())then
set IIO=GetOwningPlayer(GetSoldUnit())
if(II11IO1I())then
call TriggerExecute(II1O1II)
else
call TriggerExecute(II1O1OI)
endif
call RemoveUnit(GetSoldUnit())
else
set O11IO=GetSoldUnit()
set IIO=GetOwningPlayer(GetBuyingUnit())
call GroupAddUnit(OOI1OI,GetSoldUnit())
call ForForce(bj_FORCE_ALL_PLAYERS,function II11II1I)
set bj_wantDestroyGroup=true
call ForGroupBJ(OOI11IO(GetOwningPlayer(GetSoldUnit()),'h01C'),function II11IOII)
call TriggerExecute(II11I1I)
if(II11IOOI())then
set I1O=GetRectCenter(O1O1IO)
else
set I1O=GetRectCenter(OIOOOO)
endif
call SetUnitPositionLoc(GetSoldUnit(),I1O)
set chosenhero[GetPlayerId(IIO)]=GetUnitTypeId(GetSoldUnit())
set OOO1I[(1+GetPlayerId(GetOwningPlayer(GetBuyingUnit())))]=GetSoldUnit()
call RemoveLocation(I1O)
endif
endfunction
function II11OIII takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitInGroup(GetTriggerUnit(),OOI1OI)))!=null
endfunction
function II11OIOI takes nothing returns nothing
call GroupRemoveUnit(OOI1OI,GetTriggerUnit())
endfunction
function II11OOII takes nothing returns nothing
call SetPlayerTechMaxAllowedSwap(IOO[IIIIOI[0]],0,GetEnumPlayer())
endfunction
function II11OOOI takes nothing returns boolean
return(GetUnitTypeId(O11IO)==IOO[IIIIOI[0]])
endfunction
function II11OO1I takes nothing returns boolean
return(IO11OO[IIIIOI[1]]=='A0OP')or(IO11OO[IIIIOI[1]]=='A0SF')or(IO11OO[IIIIOI[1]]=='A0XX')or(IO11OO[IIIIOI[1]]=='A0TH')or(IO11OO[IIIIOI[1]]=='A0X1')
endfunction
function II11O1II takes nothing returns boolean
return(II11OO1I())
endfunction
function II11O1OI takes nothing returns boolean
return(IIIIOI[1]==9)or(IIIIOI[1]==$A)or(IIIIOI[1]==$B)or(IIIIOI[1]==$D)or(IIIIOI[1]==16)
endfunction
function II11O11I takes nothing returns boolean
return(I1IOOO[(1+GetPlayerId(IIO))])and(II11O1OI())
endfunction
function II111III takes nothing returns boolean
return(I1II1O)
endfunction
function II111IOI takes nothing returns nothing
call KillUnit(GetEnumUnit())
call RemoveUnit(GetEnumUnit())
endfunction
function II111I1I takes nothing returns boolean
return(IIOO1O)
endfunction
function II111OII takes nothing returns boolean
return(GetUnitTypeId(O11IO)=='Opgh')
endfunction
function II111OOI takes nothing returns boolean
return(GetUnitTypeId(O11IO)=='Hdgo')
endfunction
function II111O1I takes nothing returns boolean
return(GetUnitTypeId(O11IO)=='Udea')
endfunction
function II1111II takes nothing returns boolean
return(GetUnitTypeId(O11IO)=='H018')
endfunction
function II1111OI takes nothing returns boolean
return(GetUnitTypeId(O11IO)=='O01T')
endfunction
function IOIIIIII takes nothing returns boolean
return(GetUnitTypeId(O11IO)=='H010')
endfunction
function IOIIIIOI takes nothing returns boolean
return(GetUnitTypeId(O11IO)=='H016')
endfunction
function IOIIII1I takes nothing returns boolean
return(GetUnitTypeId(O11IO)=='Obla')
endfunction
function skillcontroladd0 takes nothing returns nothing
if GetUnitTypeId(O11IO)=='Ucrl' then
set skillcontrol[0]=true
elseif (GetUnitTypeId(O11IO)=='H00O' or GetUnitTypeId(O11IO)=='O01T') then
set skillcontrol[1]=true
elseif (GetUnitTypeId(O11IO)=='Hpb2' or GetUnitTypeId(O11IO)=='O020' or GetUnitTypeId(O11IO)=='H00X') then
set skillcontrol[5]=true
elseif (GetUnitTypeId(O11IO)=='O00P') then
set skillcontrol[12]=true
elseif (GetUnitTypeId(O11IO)=='Opgh') then
set skillcontrol[13]=true
endif
if GetUnitTypeId(O11IO)=='Ofar' then
set skillcontrol[1]=true
endif
endfunction
function skillcontrolcheck1 takes nothing returns boolean
local boolean returnboolean=true
if (IIIIOI[1]==$A or IIIIOI[1]=='x' or IIIIOI[1]=='v' or IIIIOI[1]=='m' or IIIIOI[1]==$CE or IIIIOI[1]=='n') and skillcontrol[0] then
set returnboolean=false
elseif (IIIIOI[1]==$C or IIIIOI[1]==19 or IIIIOI[1]=='j' or IIIIOI[1]==$D6 or IIIIOI[1]==$E0) and skillcontrol[1] then
set returnboolean=false
elseif (IIIIOI[1]==32 or IIIIOI[1]==5 or IIIIOI[1]==$E9 or IIIIOI[1]==2 or IIIIOI[1]==16 or IIIIOI[1]==$EB or IIIIOI[1]==24 or IIIIOI[1]==$E4) and skillcontrol[5] then
set returnboolean=false
elseif (IIIIOI[1]==33 or IIIIOI[1]=='o' or IIIIOI[1]==$EC) and skillcontrol[12] then
set returnboolean=false
elseif (IIIIOI[1]==$DA) and skillcontrol[13] then
set returnboolean=false
endif
return returnboolean
endfunction
function skillcontroladd1 takes nothing returns nothing
if (IIIIOI[1]==$A or IIIIOI[1]=='x' or IIIIOI[1]=='v' or IIIIOI[1]=='m' or IIIIOI[1]==$CE or IIIIOI[1]=='n') then
set skillcontrol[0]=true
elseif (IIIIOI[1]==$C or IIIIOI[1]==19 or IIIIOI[1]=='j' or IIIIOI[1]==$D6 or IIIIOI[1]==$E0) then
set skillcontrol[1]=true
elseif (IIIIOI[1]==22 or IIIIOI[1]=='k' or IIIIOI[1]==$DC or IIIIOI[1]==$D1 or IIIIOI[1]==$F or IIIIOI[1]==1) then
set skillcontrol[2]=true
elseif (IIIIOI[1]==$E6 or IIIIOI[1]==30 or IIIIOI[1]==$E2 or IIIIOI[1]==17) then
set skillcontrol[3]=true
elseif (IIIIOI[1]=='u') then
set skillcontrol[4]=true
elseif (IIIIOI[1]==32 or IIIIOI[1]==5 or IIIIOI[1]==$E9 or IIIIOI[1]==2 or IIIIOI[1]==16 or IIIIOI[1]==$EB or IIIIOI[1]==24 or IIIIOI[1]==$E4) then
set skillcontrol[5]=true
elseif (IIIIOI[1]=='p' or IIIIOI[1]==$E5 or IIIIOI[1]==$DB) then
set skillcontrol[6]=true
elseif (IIIIOI[1]==$E7 or IIIIOI[1]==$EA or IIIIOI[1]==31 or IIIIOI[1]==25) then
set skillcontrol[7]=true
elseif (IIIIOI[1]==9) then
set skillcontrol[8]=true
elseif (IIIIOI[1]==21 or IIIIOI[1]==$DF or IIIIOI[1]==$D7 or IIIIOI[1]=='s') then
set skillcontrol[9]=true
elseif (IIIIOI[1]==$CA or IIIIOI[1]==36 or IIIIOI[1]==$D or IIIIOI[1]=='r' or IIIIOI[1]==7 or IIIIOI[1]==$D5) then
set skillcontrol[10]=true
elseif (IIIIOI[1]=='{') then
set skillcontrol[11]=true
elseif (IIIIOI[1]==33 or IIIIOI[1]=='o' or IIIIOI[1]==$EC) then
set skillcontrol[12]=true
elseif (IIIIOI[1]==$DA) then
set skillcontrol[13]=true
endif
endfunction
function skillcontrolcheck2 takes nothing returns boolean
local boolean returnboolean=true
if (IIIIOI[1]==$E4 or IIIIOI[1]==26 or IIIIOI[1]==32 or IIIIOI[1]==$EC) and skillcontrol[0] then
set returnboolean=false
elseif (IIIIOI[1]==$E8 or IIIIOI[1]==36 or IIIIOI[1]=='s') and skillcontrol[2] then
set returnboolean=false
elseif (IIIIOI[1]==1 or IIIIOI[1]==$E5) and skillcontrol[3] then
set returnboolean=false
elseif (IIIIOI[1]==$E1 or IIIIOI[1]==8 or IIIIOI[1]==$F or IIIIOI[1]==33 or IIIIOI[1]=='w' or IIIIOI[1]==$CC or IIIIOI[1]==34) and skillcontrol[5] then
set returnboolean=false
elseif (IIIIOI[1]==$D or IIIIOI[1]==28) and skillcontrol[6] then
set returnboolean=false
elseif (IIIIOI[1]==$CF) and skillcontrol[7] then
set returnboolean=false
elseif (IIIIOI[1]==$EA or IIIIOI[1]=='m') and skillcontrol[8] then
set returnboolean=false
elseif (IIIIOI[1]==$D8) and skillcontrol[9] then
set returnboolean=false
elseif (IIIIOI[1]==$A or IIIIOI[1]==$C or IIIIOI[1]=='{' or IIIIOI[1]==$D9 or IIIIOI[1]==$DD or IIIIOI[1]==27 or IIIIOI[1]=='p' or IIIIOI[1]==$E7 or IIIIOI[1]=='y' or IIIIOI[1]==$CE) and skillcontrol[10] then
set returnboolean=false
elseif (IIIIOI[1]=='u' or IIIIOI[1]=='g') and skillcontrol[11] then
set returnboolean=false
elseif (IIIIOI[1]=='z' or IIIIOI[1]==$DC or IIIIOI[1]==35) and skillcontrol[12] then
set returnboolean=false
elseif (IIIIOI[1]=='r') and skillcontrol[13] then
set returnboolean=false
endif
return returnboolean
endfunction
function skillcontroladd2 takes nothing returns nothing
if (IIIIOI[1]==$E4 or IIIIOI[1]==26 or IIIIOI[1]==32 or IIIIOI[1]==$EC) then
set skillcontrol[0]=true
elseif (IIIIOI[1]==$E8 or IIIIOI[1]==36 or IIIIOI[1]=='s') then
set skillcontrol[2]=true
elseif (IIIIOI[1]==1 or IIIIOI[1]==$E5) then
set skillcontrol[3]=true
elseif (IIIIOI[1]==$E1 or IIIIOI[1]==8 or IIIIOI[1]==$F or IIIIOI[1]==33 or IIIIOI[1]=='w' or IIIIOI[1]==$CC or IIIIOI[1]==34) then
set skillcontrol[5]=true
elseif (IIIIOI[1]==$D or IIIIOI[1]==28) then
set skillcontrol[6]=true
elseif (IIIIOI[1]==$CF) then
set skillcontrol[7]=true
elseif (IIIIOI[1]==$EA or IIIIOI[1]=='m') then
set skillcontrol[8]=true
elseif (IIIIOI[1]==$D8) then
set skillcontrol[9]=true
elseif (IIIIOI[1]==$A or IIIIOI[1]==$C or IIIIOI[1]=='{' or IIIIOI[1]==$D9 or IIIIOI[1]==$DD or IIIIOI[1]==27 or IIIIOI[1]=='p' or IIIIOI[1]==$E7 or IIIIOI[1]=='y' or IIIIOI[1]==$CE) then
set skillcontrol[10]=true
elseif (IIIIOI[1]=='u' or IIIIOI[1]=='g') then
set skillcontrol[11]=true
elseif (IIIIOI[1]=='z' or IIIIOI[1]==$DC or IIIIOI[1]==35) then
set skillcontrol[12]=true
elseif (IIIIOI[1]=='r') then
set skillcontrol[13]=true
endif
endfunction
function skillcontrolcheck3 takes nothing returns boolean
local boolean returnboolean=true
if (IIIIOI[1]==$D1) and skillcontrol[0] then
set returnboolean=false
elseif (IIIIOI[1]=='y' or IIIIOI[1]==$E3) and skillcontrol[2] then
set returnboolean=false
elseif (IIIIOI[1]==$D0 or IIIIOI[1]=='f') and skillcontrol[3] then
set returnboolean=false
elseif (IIIIOI[1]==35) and skillcontrol[5] then
set returnboolean=false
elseif (IIIIOI[1]=='l' or IIIIOI[1]==33 or IIIIOI[1]==$DF) and skillcontrol[8] then
set returnboolean=false
elseif (IIIIOI[1]=='n' or IIIIOI[1]==17 or IIIIOI[1]==$CF or IIIIOI[1]==$E1) and skillcontrol[10] then
set returnboolean=false
elseif (IIIIOI[1]=='v') and skillcontrol[13] then
set returnboolean=false
endif
return returnboolean
endfunction
function skillcontroladd3 takes nothing returns nothing
if (IIIIOI[1]==$D1) then
set skillcontrol[0]=true
elseif (IIIIOI[1]==$D0 or IIIIOI[1]=='f') then
set skillcontrol[3]=true
elseif (IIIIOI[1]==35) then
set skillcontrol[5]=true
elseif (IIIIOI[1]=='l' or IIIIOI[1]==33 or IIIIOI[1]==$DF) then
set skillcontrol[8]=true
elseif (IIIIOI[1]=='n' or IIIIOI[1]==17 or IIIIOI[1]==$CF or IIIIOI[1]==$E1) then
set skillcontrol[10]=true
elseif (IIIIOI[1]=='v') then
set skillcontrol[13]=true
endif
endfunction
function skillcontrolcheck4 takes nothing returns boolean
local boolean returnboolean=true
if (IIIIOI[1]==30 or IIIIOI[1]==35 or IIIIOI[1]==$E9 or IIIIOI[1]==$E6 or IIIIOI[1]==$ED or IIIIOI[1]==$D9) and skillcontrol[0] then
set returnboolean=false
elseif (IIIIOI[1]==9 or IIIIOI[1]==$A or IIIIOI[1]==$B or IIIIOI[1]==$D or IIIIOI[1]==16 or IIIIOI[1]==20 or IIIIOI[1]==23 or IIIIOI[1]==25 or IIIIOI[1]==26 or IIIIOI[1]==32 or IIIIOI[1]=='t' or IIIIOI[1]=='x' or IIIIOI[1]==$D2 or IIIIOI[1]==$D5 or IIIIOI[1]==$DA or IIIIOI[1]==$DD or IIIIOI[1]==$E1 or IIIIOI[1]==$EC) and skillcontrol[1] then
set returnboolean=false
elseif (IIIIOI[1]==21 or IIIIOI[1]=='{') and skillcontrol[3] then
set returnboolean=false
elseif (IIIIOI[1]==1) and skillcontrol[4] then
set returnboolean=false
elseif (IIIIOI[1]=='z' or IIIIOI[1]==$D3 or IIIIOI[1]==34) and skillcontrol[5] then
set returnboolean=false
elseif (IIIIOI[1]==36) and skillcontrol[6] then
set returnboolean=false
elseif (IIIIOI[1]==6 or IIIIOI[1]==$D6 or IIIIOI[1]==22) and skillcontrol[7] then
set returnboolean=false
elseif (IIIIOI[1]==$CF or IIIIOI[1]==2) and skillcontrol[8] then
set returnboolean=false
elseif (IIIIOI[1]==4 or IIIIOI[1]==19 or IIIIOI[1]==$E4) and skillcontrol[9] then
set returnboolean=false
elseif (IIIIOI[1]=='h' or IIIIOI[1]==31) and skillcontrol[10] then
set returnboolean=false
elseif (IIIIOI[1]=='r') and skillcontrol[11] then
set returnboolean=false
elseif (IIIIOI[1]==$D8 or IIIIOI[1]==27) and skillcontrol[12] then
set returnboolean=false
elseif (IIIIOI[1]=='j' or IIIIOI[1]==$DC or IIIIOI[1]==$D1 or IIIIOI[1]==29) and skillcontrol[13] then
set returnboolean=false
endif
return returnboolean
endfunction
function IOIIIOII takes nothing returns nothing
local boolean rpskill=false
local integer loopindex=0
local integer resetskillcontrol=0
call TriggerRegisterUnitEvent(OIOOOII,O11IO,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(I111OII,O11IO,EVENT_UNIT_SPELL_EFFECT)
call TriggerRegisterUnitEvent(I1I1OOI,O11IO,EVENT_UNIT_SPELL_EFFECT)
set IIIIOI[0]=0
if herolevel[GetPlayerId(GetOwningPlayer(O11IO))+1]>1 then
call SetHeroLevel(O11IO,herolevel[GetPlayerId(GetOwningPlayer(O11IO))+1],false)
endif
loop
exitwhen IIIIOI[0]>300
if(II11OOOI())then
call UnitMakeAbilityPermanent(O11IO,true,I1IO1O[IIIIOI[0]])
call UnitMakeAbilityPermanent(O11IO,true,I1I1IO[IIIIOI[0]])
call UnitMakeAbilityPermanent(O11IO,true,I1I11O[IIIIOI[0]])
call UnitMakeAbilityPermanent(O11IO,true,I1I1OO[IIIIOI[0]])
call UnitMakeAbilityPermanent(O11IO,true,I1OIIO[IIIIOI[0]])
call ForForce(bj_FORCE_ALL_PLAYERS,function II11OOII)
exitwhen true
endif
set IIIIOI[0]=IIIIOI[0]+1
endloop
if(II111III())then
loop
set skillcontrol[resetskillcontrol]=false
set resetskillcontrol=resetskillcontrol+1
exitwhen resetskillcontrol>13
endloop
call skillcontroladd0()
loop
set IIIIOI[1]=GetRandomInt(1,I1IOIO[0])
set rpskill=false
loop
if learnedskill[loopindex*4+1]==IIIIOI[1] then
set rpskill=true
endif
set loopindex=loopindex+1
exitwhen loopindex>12
endloop
set loopindex=0
exitwhen (skillcontrolcheck1() and IO11OO[IIIIOI[1]]!=0 and not(rpskill))
endloop
if(II11O1II())then
set I1IOOO[(1+GetPlayerId(IIO))]=true
endif
call UnitAddAbility(O11IO,IO11OO[IIIIOI[1]])
call SetPlayerAbilityAvailableBJ(false,IO11OO[IIIIOI[1]],IIO)
call UnitMakeAbilityPermanent(O11IO,true,IO11OO[IIIIOI[1]])
set learnedskill[GetPlayerId(IIO)*4+1]=IIIIOI[1]
call skillcontroladd1()
loop
set IIIIOI[1]=GetRandomInt(1,I1IOIO[0])
set rpskill=false
loop
if learnedskill[loopindex*4+2]==IIIIOI[1] then
set rpskill=true
endif
set loopindex=loopindex+1
exitwhen loopindex>9
endloop
set loopindex=0
exitwhen (skillcontrolcheck2() and IO111O[IIIIOI[1]]!=0 and not(rpskill))
endloop
call UnitAddAbility(O11IO,IO111O[IIIIOI[1]])
call SetPlayerAbilityAvailableBJ(false,IO111O[IIIIOI[1]],IIO)
call UnitMakeAbilityPermanent(O11IO,true,IO111O[IIIIOI[1]])
set learnedskill[GetPlayerId(IIO)*4+2]=IIIIOI[1]
call skillcontroladd2()
loop
set IIIIOI[1]=GetRandomInt(1,I1IOIO[0])
set rpskill=false
loop
if learnedskill[loopindex*4+3]==IIIIOI[1] then
set rpskill=true
endif
set loopindex=loopindex+1
exitwhen loopindex>9
endloop
set loopindex=0
exitwhen (skillcontrolcheck3() and I1IIIO[IIIIOI[1]]!=0 and not(rpskill))
endloop
call UnitAddAbility(O11IO,I1IIIO[IIIIOI[1]])
call SetPlayerAbilityAvailableBJ(false,I1IIIO[IIIIOI[1]],IIO)
call UnitMakeAbilityPermanent(O11IO,true,I1IIIO[IIIIOI[1]])
set learnedskill[GetPlayerId(IIO)*4+3]=IIIIOI[1]
call skillcontroladd3()
loop
set IIIIOI[1]=GetRandomInt(1,I1IOIO[0])
set rpskill=false
if GetUnitTypeId(O11IO)=='Hpb2' and IIIIOI[1]==31 then
set rpskill=true
endif
loop
if learnedskill[loopindex*4+4]==IIIIOI[1] then
set rpskill=true
endif
set loopindex=loopindex+1
exitwhen loopindex>9
endloop
set loopindex=0
if(II11O11I())then
else
exitwhen (skillcontrolcheck4() and I1IIOO[IIIIOI[1]]!=0 and not(rpskill))
endif
endloop
call UnitAddAbility(O11IO,I1IIOO[IIIIOI[1]])
call SetPlayerAbilityAvailableBJ(false,I1IIOO[IIIIOI[1]],IIO)
call UnitMakeAbilityPermanent(O11IO,true,I1IIOO[IIIIOI[1]])
set learnedskill[GetPlayerId(IIO)*4+4]=IIIIOI[1]
else
call UnitAddAbility(O11IO,IO11OO[IIIIOI[0]])
call UnitAddAbility(O11IO,IO111O[IIIIOI[0]])
call UnitAddAbility(O11IO,I1IIIO[IIIIOI[0]])
call UnitAddAbility(O11IO,I1IIOO[IIIIOI[0]])
call SetPlayerAbilityAvailableBJ(false,IO11OO[IIIIOI[0]],IIO)
call SetPlayerAbilityAvailableBJ(false,I1IIOO[IIIIOI[0]],IIO)
call SetPlayerAbilityAvailableBJ(false,I1IIIO[IIIIOI[0]],IIO)
call SetPlayerAbilityAvailableBJ(false,IO111O[IIIIOI[0]],IIO)
call UnitMakeAbilityPermanent(O11IO,true,IO11OO[IIIIOI[0]])
call UnitMakeAbilityPermanent(O11IO,true,IO111O[IIIIOI[0]])
call UnitMakeAbilityPermanent(O11IO,true,I1IIIO[IIIIOI[0]])
call UnitMakeAbilityPermanent(O11IO,true,I1IIOO[IIIIOI[0]])
set learnedskill[GetPlayerId(IIO)*4+1]=IIIIOI[0]
set learnedskill[GetPlayerId(IIO)*4+2]=IIIIOI[0]
set learnedskill[GetPlayerId(IIO)*4+3]=IIIIOI[0]
set learnedskill[GetPlayerId(IIO)*4+4]=IIIIOI[0]
endif
if(II111I1I())then
call UnitAddItemByIdSwapped('I02N',O11IO)
call SetPlayerStateBJ(IIO,PLAYER_STATE_RESOURCE_FOOD_USED,0)
call SetPlayerStateBJ(IIO,PLAYER_STATE_RESOURCE_FOOD_CAP,300)
call SetPlayerStateBJ(IIO,PLAYER_STATE_FOOD_CAP_CEILING,300)
else
set OO1II=OOI11IO(GetOwningPlayer(O11IO),'h00M')
call ForGroupBJ(OO1II,function II111IOI)
endif
call DestroyGroup(OO1II)
if(IOIIII1I())then
set OOI11I=IIO
call EnableTrigger(I11I1OI)
elseif(IOIIIIOI())then
call TriggerRegisterUnitEvent(OOOOI1I,O11IO,EVENT_UNIT_DEATH)
elseif(IOIIIIII())then
call TriggerRegisterUnitEvent(O1IO11I,O11IO,EVENT_UNIT_HERO_LEVEL)
call CreateNUnitsAtLoc(1,'efdr',IIO,OIOII[$96],bj_UNIT_FACING)
set O1OOII=bj_lastCreatedUnit
elseif(II1111OI())then
call TriggerRegisterUnitEvent(IIO1OOO,O11IO,EVENT_UNIT_DAMAGED)
elseif(II1111II())then
call TriggerRegisterUnitEvent(IOIO1IO,O11IO,EVENT_UNIT_HERO_LEVEL)
elseif(II111O1I())then
call TriggerRegisterUnitEvent(II1OIOO,O11IO,EVENT_UNIT_HERO_LEVEL)
elseif(II111OOI())then
set IOOIOO=IIO
elseif(II111OII())then
call TriggerRegisterPlayerChatEvent(IIOO11O,IIO,"-c",true)
endif
endfunction
function IOIIIO1I takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())=='n020' or GetUnitTypeId(GetTriggerUnit())=='osw1' or GetUnitTypeId(GetTriggerUnit())=='hwtw'
endfunction
function IOIII1II takes nothing returns nothing
call KillUnit(GetTriggerUnit())
call RemoveUnit(GetTriggerUnit())
endfunction
function IOIII11I takes nothing returns boolean
return(OIIOII[3]<$A)
endfunction
function IOIIOIII takes nothing returns boolean
return(OIIOII[2]==60)
endfunction
function IOIIOIOI takes nothing returns boolean
return(OIIOII[2]<$A)
endfunction
function IOIIOI1I takes nothing returns boolean
return(OIIOII[1]==60)
endfunction
function IOIIOOII takes nothing returns boolean
return(OIIOII[1]<$A)
endfunction
function IOIIOOOI takes nothing returns nothing
set OIIOII[1]=(OIIOII[1]+1)
if(IOIIOOII())then
set OIIOOI[1]=("0"+I2S(OIIOII[1]))
else
set OIIOOI[1]=I2S(OIIOII[1])
if(IOIIOI1I())then
set OIIOII[1]=0
set OIIOOI[1]="00"
set OIIOII[2]=(OIIOII[2]+1)
if(IOIIOIOI())then
set OIIOOI[2]=("0"+I2S(OIIOII[2]))
else
set OIIOOI[2]=I2S(OIIOII[2])
if(IOIIOIII())then
set OIIOII[2]=0
set OIIOOI[2]=I2S(OIIOII[2])
set OIIOOI[2]="00"
set OIIOII[3]=(OIIOII[3]+1)
if(IOIII11I())then
set OIIOOI[3]=("0"+I2S(OIIOII[3]))
else
set OIIOOI[3]=I2S(OIIOII[3])
endif
endif
endif
endif
endif
set OIIOOI[4]=("　"+(OIIOOI[3]+("："+(OIIOOI[2]+("："+OIIOOI[1])))))
call MultiboardSetTitleText(bj_lastCreatedMultiboard,("信長之絕望"+OIIOOI[4]))
endfunction
function IOIIO1II takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00S',GetTriggerUnit())>0)
endfunction
function IOIIO1OI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0IB',GetTriggerUnit())>0)
endfunction
function IOIIO11I takes nothing returns boolean
return(GetTriggerPlayer()==IOOIOO)and(GetPlayerTechCountSimple('R001',GetTriggerPlayer())==0)
endfunction
function IOII1III takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=20)
endfunction
function IOII1IOI takes nothing returns boolean
return(GetPlayerTechCountSimple('R00K',GetTriggerPlayer())==0)and(GetUnitTypeId(GetTriggerUnit())=='Otch')
endfunction
function IOII1I1I takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=$F)
endfunction
function IOII1OII takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Hmkg')and(IsTriggerEnabled(O1I11OI)!=true)
endfunction
function IOII1OOI takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=6)
endfunction
function IOII1O1I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='O00I')
endfunction
function IOII11II takes nothing returns nothing
call SetPlayerTechResearchedSwap('Rhss',GetHeroLevel(GetTriggerUnit()),GetTriggerPlayer())
if(IOII1III())then
if(IOIIO11I())then
call EnableTrigger(OO1OIOI)
call SetPlayerTechResearchedSwap('R001',1,GetOwningPlayer(GetTriggerUnit()))
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),OIOII[$96],bj_UNIT_FACING)
set OIO11I=bj_lastCreatedUnit
if(IOIIO1II())then
call UnitAddAbility(bj_lastCreatedUnit,'AUau')
call SetUnitAbilityLevelSwapped('AUau',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A00S',GetTriggerUnit()))
endif
if(IOIIO1OI())then
call UnitAddAbility(bj_lastCreatedUnit,'ACac')
call SetUnitAbilityLevelSwapped('ACac',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0IB',GetTriggerUnit()))
endif
call UnitAddAbility(GetTriggerUnit(),'A0M4')
call UnitRemoveAbility(GetTriggerUnit(),'A0M4')
call UnitAddAbility(GetTriggerUnit(),'A087')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A087')
endif
endif
if(IOII1I1I())then
if(IOII1IOI())then
call SetPlayerTechResearchedSwap('R00K',1,GetTriggerPlayer())
call UnitAddAbility(GetTriggerUnit(),'AIl2')
call SetUnitMoveSpeed(GetTriggerUnit(),(GetUnitDefaultMoveSpeed(GetTriggerUnit())+100.))
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'AIl2')
endif
endif
if(IOII1OOI())then
if(IOII1OII())then
call EnableTrigger(O1I11OI)
call TriggerRegisterUnitEvent(O1I11OI,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
endif
endif
if(IOII1O1I())then
call SetPlayerTechResearchedSwap('R00N',GetHeroLevel(GetTriggerUnit()),GetTriggerPlayer())
endif
endfunction
function IOII111I takes nothing returns nothing
set OIIIOI[1]='d'
set OIIIOI[2]='x'
set OIIIOI[3]=$A0
set OIIIOI[4]=$DC
set OIIIOI[5]=300
set OIII1I[1]=25
endfunction
function IOIOIIOI takes nothing returns boolean
return(IsUnitInGroup(GetKillingUnit(),OIIIII))
endfunction
function IOIOII1I takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>1)
endfunction
function IOIOIOII takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>5)
endfunction
function IOIOIOOI takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function IOIOIO1I takes nothing returns boolean
return(DistanceBetweenPoints(I1OII[0],I1OII[1])>1200.)
endfunction
function IOIOI1II takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetUnitLoc(GetKillingUnit())
if(IOIOIO1I())then
if(IOIOIOOI())then
if(IOIOIOII())then
call AddHeroXPSwapped(400,GetKillingUnit(),true)
else
call AddHeroXPSwapped(OIIIOI[GetUnitLevel(GetTriggerUnit())],GetKillingUnit(),true)
endif
else
if(IOIOII1I())then
call AddHeroXPSwapped((25+((5*GetUnitLevel(GetTriggerUnit()))+5)),GetKillingUnit(),true)
else
call AddHeroXPSwapped(OIII1I[GetUnitLevel(GetTriggerUnit())],GetKillingUnit(),true)
endif
endif
endif
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function IOIOI11I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())!=Player($F))and(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))
endfunction
function IOIOOIII takes nothing returns nothing
call IssueImmediateOrderById(GetAttacker(),$D0004)
endfunction
function IOIOOI1I takes nothing returns boolean
return(IIIIOI[0]==1)
endfunction
function IOIOOOII takes nothing returns boolean
return(IIIIOI[0]==2)
endfunction
function IOIOOOOI takes nothing returns boolean
return(IIIIOI[0]==3)
endfunction
function IOIOOO1I takes nothing returns boolean
return(IIIIOI[0]==4)
endfunction
function IOIOO1II takes nothing returns boolean
return(IIIIOI[0]==5)
endfunction
function IOIOO1OI takes nothing returns nothing
set IIIIOI[0]=GetRandomInt(1,5)
if(IOIOOI1I())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CBBEE9944國人武士企圖奪取實權!!開始暴動!!!|R")
set bj_forLoopAIndex=77
set bj_forLoopAIndexEnd=79
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(16,'n01P',Player($C),OIOII[bj_forLoopAIndex],bj_UNIT_FACING)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IOIOOOII())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CBBEE9944百姓不滿課稅過量，為求減免年貢，佔領了各個商店!!|R")
set bj_forLoopAIndex='e'
set bj_forLoopAIndexEnd='o'
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(6,'n02G',Player($C),OIOII[bj_forLoopAIndex],bj_UNIT_FACING)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IOIOOOOI())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CCCDD6677百姓不滿課稅過量，但因人數不足，已經被鎮壓!!|R")
endif
if(IOIOOO1I())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CCCAA8822國人武士企圖奪取實權，但因軍力不足，已經被鎮壓!!|R")
endif
if(IOIOO1II())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|c00A020F0國人以及百姓生活和諧，沒有任何騷動發生...|R")
endif
endfunction
function IOIO1III takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e013')
endfunction
function IOIO1IOI takes nothing returns nothing
set bj_forLoopAIndex=6
set bj_forLoopAIndexEnd=$A
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AdjustPlayerStateBJ(1000,Player(-1+(bj_forLoopAIndex)),PLAYER_STATE_RESOURCE_GOLD)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CAA226699聯合軍將士獲得額外犒賞，全軍大興奮!!士氣大增!!!!|R")
endfunction
function IOIO1OII takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e013')
endfunction
function IOIO1OOI takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AdjustPlayerStateBJ(1000,Player(-1+(bj_forLoopAIndex)),PLAYER_STATE_RESOURCE_GOLD)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CAA226699織田軍將士獲得額外犒賞，全軍大興奮!!士氣大增!!!!|R")
endfunction
function IOIO11II takes nothing returns boolean
return GetUnitTypeId(GetSoldUnit())=='e029'
endfunction
function IOIO11OI takes nothing returns nothing
local integer ID=GetPlayerId(GetOwningPlayer(GetSoldUnit()))+1
call AdjustPlayerStateBJ(85,GetOwningPlayer(GetSoldUnit()),PLAYER_STATE_RESOURCE_LUMBER)
if GetRandomInt(1,'d')<=$A then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,(OOI1II[ID]+GetPlayerName(GetOwningPlayer(GetSoldUnit()))+"|r 真是慘情，招募了叛軍，叛軍加入了敵對勢力！"))
if IsPlayerAlly(GetOwningPlayer(GetSoldUnit()),Player(0)) then
call AdjustPlayerStateBJ(50,Player(5),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(50,Player(6),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(50,Player(7),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(50,Player(8),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(50,Player(9),PLAYER_STATE_RESOURCE_LUMBER)
else
call AdjustPlayerStateBJ(50,Player(0),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(50,Player(1),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(50,Player(2),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(50,Player(3),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(50,Player(4),PLAYER_STATE_RESOURCE_LUMBER)
endif
call CreateTextTagUnitBJ("叛軍",GetSellingUnit(),0,12.,'d',0,0,0)
else
set IOIOIO[ID]=(IOIOIO[ID]+GetRandomInt(1,2))
call CreateTextTagUnitBJ("+85",GetSellingUnit(),0,12.,0,78,31,0)
endif
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,2.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call RemoveUnit(GetSoldUnit())
endfunction
function IOIO111I takes nothing returns nothing
call TriggerExecute(IOIIO1I)
endfunction
function IOI1IIOI takes nothing returns nothing
call RemoveItem(GetEnumItem())
endfunction
function IOI1II1I takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IO1I1IO)>.41)
endfunction
function IOI1IOII takes nothing returns nothing
call RemoveItem(GetEnumItem())
endfunction
function IOI1IOOI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IO1I1OO)>.41)
endfunction
function IOI1IO1I takes nothing returns nothing
if(IOI1II1I())then
call EnumItemsInRectBJ(OOI1IO,function IOI1IIOI)
set I1OII[0]=GetRectCenter(OOI1IO)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$A
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateItemLoc('I029',I1OII[0])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
endif
if(IOI1IOOI())then
call EnumItemsInRectBJ(OO11IO,function IOI1IOII)
set I1OII[1]=GetRectCenter(OO11IO)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$A
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateItemLoc('I029',I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[1])
endif
endfunction
function IOI1I1OI takes nothing returns boolean
return(IIIIOI[0]==6)
endfunction
function IOI1I11I takes nothing returns boolean
return(IIIIOI[0]==5)
endfunction
function IOI1OIII takes nothing returns boolean
return(IIIIOI[0]==4)
endfunction
function IOI1OIOI takes nothing returns boolean
return(IIIIOI[0]==3)
endfunction
function IOI1OI1I takes nothing returns boolean
return(IIIIOI[0]==2)
endfunction
function IOI1OOII takes nothing returns boolean
return(IIIIOI[0]==1)
endfunction
function IOI1OOOI takes nothing returns nothing
set IIIIOI[0]=GetRandomInt(1,6)
if(IOI1OOII())then
set I1O1I[0]='n02S'
set I11II[0]=OO11OO
set I111I=O111IO
else
if(IOI1OI1I())then
set I1O1I[0]='n02R'
set I11II[0]=OO11OO
set I111I=O11O1O
else
if(IOI1OIOI())then
set I1O1I[0]='n02T'
set I11II[0]=OO11OO
set I111I=O111IO
else
if(IOI1OIII())then
set I1O1I[0]='n02S'
set I11II[0]=OI1OOO
set I111I=O111IO
else
if(IOI1I11I())then
set I1O1I[0]='n02T'
set I11II[0]=OI1OOO
set I111I=O111IO
else
if(IOI1I1OI())then
set I1O1I[0]='n02R'
set I11II[0]=OI1OOO
set I111I=O11O1O
endif
endif
endif
endif
endif
endif
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[0]=GetRandomLocInRect(I11II[0])
call CreateNUnitsAtLoc(1,I1O1I[0],Player($C),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(220.,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OII[0])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call StartTimerBJ(I1OOI,true,20.)
call StartTimerBJ(OO1OOI,false,440.)
endfunction
function IOI1O1II takes nothing returns boolean
return(I11OI>=$B)
endfunction
function IOI1O1OI takes nothing returns nothing
set I11OI=(I11OI+1)
call PlaySoundAtPointBJ(I111I,'d',GetRectCenter(I11II[0]),.0)
if(IOI1O1II())then
set I11OI=0
call PauseTimerBJ(true,I1OOI)
endif
endfunction
function IOI11III takes nothing returns boolean
local unit u=GetFilterUnit()
local integer n=OIIOI*4
set OII1I[n]=GetUnitTypeId(u)
set OII1I[n+1]=R2I(GetUnitX(u))
set OII1I[n+2]=R2I(GetUnitY(u))
set OII1I[n+3]=R2I(GetUnitFacing(u))
set OIIOI=OIIOI+1
call SetUnitUserData(u,n)
set u=null
return false
endfunction
function IOI11IOI takes nothing returns boolean
local unit u=GetTriggerUnit()
local integer OO1OI1O=GetUnitUserData(GetTriggerUnit())
local real t
if(GetUnitTypeId(GetTriggerUnit())=='ewsp')then
call SetUnitUserData(CreateUnit(Player($C),OII1I[OO1OI1O],OII1I[OO1OI1O+1],OII1I[OO1OI1O+2],OII1I[OO1OI1O+3]),OO1OI1O)
else
if GetUnitTypeId(u)=='nwwd' then
set t=170.
elseif GetUnitTypeId(u)=='nskg' then
set t=320.
elseif GetUnitTypeId(u)=='nftk' or GetUnitTypeId(u)=='nwzd' or GetUnitTypeId(u)=='nwlg' or GetUnitTypeId(u)=='nass' or GetUnitTypeId(u)=='nrog' or GetUnitTypeId(u)=='njgb' or GetUnitTypeId(u)=='njgb' or GetUnitTypeId(u)=='nenf' or GetUnitTypeId(u)=='n017' then
set t=160.
elseif GetUnitTypeId(u)=='n016' then
set t=170.
elseif GetUnitTypeId(u)=='nsqo' then
set t=162.
elseif GetUnitTypeId(u)=='n01C' then
set t=175.
endif
set u=null
set u=CreateUnit(Player($C),'ewsp',-7000.,-7800.,.0)
call UnitApplyTimedLife(u,'BTLF',t)
call SetUnitUserData(u,OO1OI1O)
endif
set u=null
return false
endfunction
function IOI11OII takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nban')
endfunction
function IOI11OOI takes nothing returns nothing
call OOIOI1O(255.)
set I1OII[0]=GetRandomLocInRect(OOIOIO)
call CreateNUnitsAtLoc(1,'nban',Player($C),I1OII[0],bj_UNIT_FACING)
call RemoveLocation(I1OII[0])
endfunction
function IOI111II takes nothing returns nothing
call TriggerSleepAction(3.)
call AdjustPlayerStateBJ(800,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(8),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(9),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("聯合軍將士獲得犒賞800黃金"))
endfunction
function IOI1111I takes nothing returns nothing
call TriggerSleepAction(3.)
call AdjustPlayerStateBJ(800,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(800,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("織田軍將士獲得犒賞800黃金"))
endfunction
function IOOIIIOI takes nothing returns nothing
set I1OII[0]=GetRectCenter(I11IOO)
call CreateNUnitsAtLoc(1,'h020',Player($A),I1OII[0],bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped('A0BS',bj_lastCreatedUnit,2)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,OIOII[57])
call TriggerRegisterUnitEvent(IOIOOOI,bj_lastCreatedUnit,EVENT_UNIT_DEATH)
call RemoveLocation(I1OII[0])
set I1OII[0]=GetRectCenter(I11O1O)
call CreateNUnitsAtLoc(1,'h026',Player($B),I1OII[0],bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped('A0BS',bj_lastCreatedUnit,2)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D000F,OIOII[61])
call TriggerRegisterUnitEvent(IOIOOOI,bj_lastCreatedUnit,EVENT_UNIT_DEATH)
call RemoveLocation(I1OII[0])
endfunction
function IOOIIOII takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetUnitName(GetTriggerUnit())+"隊已經被殲滅!"))
endfunction
function IOOIIO1I takes nothing returns boolean
return((GetOwningPlayer(GetTriggerUnit())!=Player($F))and(GetOwningPlayer(GetTriggerUnit())!=Player($C))and(GetOwningPlayer(GetTriggerUnit())!=Player($D))and(GetOwningPlayer(GetTriggerUnit())!=Player($E))and(GetUnitAbilityLevelSwapped('Avul',GetTriggerUnit())==0)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function IOOII1II takes nothing returns boolean
return(IsUnitAlly(GetTriggerUnit(),Player($A)))
endfunction
function IOOII1OI takes nothing returns nothing
call PauseUnit(GetTriggerUnit(),false)
if(IOOII1II())then
set bj_forLoopAIndex=6
set bj_forLoopAIndexEnd=$A
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitShareVisionBJ(false,GetTriggerUnit(),Player(-1+(bj_forLoopAIndex)))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitShareVisionBJ(false,GetTriggerUnit(),Player(-1+(bj_forLoopAIndex)))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
endfunction
function IOOIOIII takes nothing returns nothing
call AdjustPlayerStateBJ(35,Player(0),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(35,Player(1),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(35,Player(2),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(35,Player(3),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(35,Player(4),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(35,Player(5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(35,Player(6),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(35,Player(7),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(35,Player(8),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(35,Player(9),PLAYER_STATE_RESOURCE_GOLD)
endfunction
function IOOIOI1I takes nothing returns boolean
return(GetPlayerSlotState(Player(-1+(bj_forLoopAIndex)))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function IOOIOOII takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$A
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(IOOIOI1I())then
call AdjustPlayerStateBJ(350,Player(-1+(bj_forLoopAIndex)),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(5,Player(-1+(bj_forLoopAIndex)),PLAYER_STATE_RESOURCE_LUMBER)
endif
if bj_forLoopAIndex<6 then
call AdjustPlayerStateBJ(teamdie1*50,Player(-1+(bj_forLoopAIndex)),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(teamdie1*2,Player(-1+(bj_forLoopAIndex)),PLAYER_STATE_RESOURCE_LUMBER)
elseif bj_forLoopAIndex>5 then
call AdjustPlayerStateBJ(teamdie2*50,Player(-1+(bj_forLoopAIndex)),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(teamdie2*2,Player(-1+(bj_forLoopAIndex)),PLAYER_STATE_RESOURCE_LUMBER)
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set teamdie1=0
set teamdie2=0
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFFCC00獲得零用錢|r")) 
endfunction
function IOOIOO1I takes nothing returns nothing
call AdjustPlayerStateBJ(1,Player(0),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(1,Player(1),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(1,Player(2),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(1,Player(3),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(1,Player(4),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(1,Player(5),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(1,Player(6),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(1,Player(7),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(1,Player(8),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(1,Player(9),PLAYER_STATE_RESOURCE_LUMBER)
endfunction
function IOOIO1OI takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitInGroup(GetTriggerUnit(),OOI1OI)==false))!=null
endfunction
function IOOIO11I takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),OIOII[65])
endfunction
function IOOI1IOI takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitInGroup(GetTriggerUnit(),OOI1OI)==false))!=null
endfunction
function IOOI1I1I takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),OIOII[66])
endfunction
function IOOI1OOI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h020')
endfunction
function IOOI1O1I takes nothing returns nothing
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[58])
endfunction
function IOOI11OI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h020')
endfunction
function IOOI111I takes nothing returns nothing
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[59])
endfunction
function IOOOIIOI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h020')
endfunction
function IOOOII1I takes nothing returns nothing
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[60])
endfunction
function IOOOIOOI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h020')
endfunction
function IOOOIO1I takes nothing returns nothing
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[57])
endfunction
function IOOOI1OI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h026')
endfunction
function IOOOI11I takes nothing returns nothing
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[61])
endfunction
function IOOOOIOI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h026')
endfunction
function IOOOOI1I takes nothing returns nothing
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[62])
endfunction
function IOOOOOOI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h026')
endfunction
function IOOOOO1I takes nothing returns nothing
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[63])
endfunction
function IOOOO1OI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h026')
endfunction
function IOOOO11I takes nothing returns nothing
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,OIOII[64])
endfunction
function IOOO1IOI takes nothing returns boolean
return(IsUnitDeadBJ(GetTriggerUnit()))
endfunction
function IOOO1I1I takes nothing returns nothing
call CustomDefeatBJ(GetEnumPlayer(),"織田信長天下布武!!")
endfunction
function IOOO1OII takes nothing returns nothing
call CustomDefeatBJ(GetEnumPlayer(),"切腹吧!!")
endfunction
function IOOO1OOI takes nothing returns nothing
call DisableTrigger(IOOII1I)
call DisableTrigger(IOIOO1I)
call DisableTrigger(I1OI1OI)
call SetUnitInvulnerable(IOOIIIO,true)
call EndThematicMusicBJ()
call TriggerSleepAction(.0)
call PlayMusicBJ(O11IOO)
call ForForce(OOOIIOO(Player($A)),function IOOO1I1I)
call ForForce(OOOIIOO(Player($B)),function IOOO1OII)
call TriggerSleepAction(2.)
call PauseAllUnitsBJ(true)
endfunction
function IOOO11II takes nothing returns boolean
return(IsUnitDeadBJ(GetTriggerUnit()))
endfunction
function IOOO11OI takes nothing returns nothing
call CustomDefeatBJ(GetEnumPlayer(),"切腹吧!!")
endfunction
function IOOO111I takes nothing returns nothing
call CustomDefeatBJ(GetEnumPlayer(),"聯合軍天下布武!!")
endfunction
function IOO1IIII takes nothing returns nothing
call DisableTrigger(IOOIIOI)
call DisableTrigger(IOIOO1I)
call DisableTrigger(I1OI1OI)
call SetUnitInvulnerable(IOOI11O,true)
call EndThematicMusicBJ()
call TriggerSleepAction(.0)
call PlayMusicBJ(O11IOO)
call ForForce(OOOIIOO(Player($A)),function IOOO11OI)
call ForForce(OOOIIOO(Player($B)),function IOOO111I)
call TriggerSleepAction(2.)
call PauseAllUnitsBJ(true)
endfunction
function IOO1II1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))
endfunction
function IOO1IOII takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),OIOII[2])
endfunction
function IOO1IO1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($B))
endfunction
function IOO1I1II takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),OIOII[1])
endfunction
function IOO1I11I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h01N')
endfunction
function IOO1OIII takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),OIOII[69])
endfunction
function IOO1OI1I takes nothing returns nothing
set OOIOII=(OOIOII+1)
set bj_forLoopAIndex=$B
set bj_forLoopAIndexEnd=$C
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SetPlayerTechResearchedSwap('Rhri',OOIOII,Player(-1+(bj_forLoopAIndex)))
call SetPlayerTechResearchedSwap('Rhan',OOIOII,Player(-1+(bj_forLoopAIndex)))
call SetPlayerTechResearchedSwap('R007',OOIOII,Player(-1+(bj_forLoopAIndex)))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetPlayerTechResearchedSwap('Rhde',OOIOII,Player($C))
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|Cff00ff00兩軍士兵軍備初階提升")
call TriggerSleepAction(700.)
set OOIOII=(OOIOII+1)
set bj_forLoopAIndex=$B
set bj_forLoopAIndexEnd=$C
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SetPlayerTechResearchedSwap('Rhri',OOIOII,Player(-1+(bj_forLoopAIndex)))
call SetPlayerTechResearchedSwap('Rhan',OOIOII,Player(-1+(bj_forLoopAIndex)))
call SetPlayerTechResearchedSwap('R007',OOIOII,Player(-1+(bj_forLoopAIndex)))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetPlayerTechResearchedSwap('Rhde',OOIOII,Player($C))
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|Cff00ff00兩軍士兵軍備中階提升")
call TriggerSleepAction(800.)
set OOIOII=(OOIOII+1)
set bj_forLoopAIndex=$B
set bj_forLoopAIndexEnd=$C
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SetPlayerTechResearchedSwap('Rhri',OOIOII,Player(-1+(bj_forLoopAIndex)))
call SetPlayerTechResearchedSwap('Rhan',OOIOII,Player(-1+(bj_forLoopAIndex)))
call SetPlayerTechResearchedSwap('R007',OOIOII,Player(-1+(bj_forLoopAIndex)))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetPlayerTechResearchedSwap('Rhde',OOIOII,Player($C))
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|Cff00ff00兩軍士兵軍備提升至絕望級別")
endfunction
function IOO1OOOI takes nothing returns nothing
call SetPlayerTechResearchedSwap('R000',1,Player($A))
call SetPlayerTechResearchedSwap('Rorb',1,Player($A))
call SetPlayerTechResearchedSwap('Rorb',1,Player($B))
call SetPlayerTechResearchedSwap('R000',1,Player($B))
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|Cff00ff00兩軍引進南蠻建築技術使建築物更加堅固|r")
call TriggerSleepAction(1000.)
call SetPlayerTechResearchedSwap('Rorb',2,Player($A))
call SetPlayerTechResearchedSwap('R000',2,Player($A))
call SetPlayerTechResearchedSwap('Rorb',2,Player($B))
call SetPlayerTechResearchedSwap('R000',2,Player($B))
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|Cff00ff00兩軍引進中國建築技術使建築物更加堅固|r")
call TriggerSleepAction(1200.)
call SetPlayerTechResearchedSwap('Rorb',3,Player($A))
call SetPlayerTechResearchedSwap('R000',3,Player($A))
call SetPlayerTechResearchedSwap('Rorb',3,Player($B))
call SetPlayerTechResearchedSwap('R000',3,Player($B))
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|Cff00ff00兩軍引進美國高科技建築技術使建築物更加堅固|r")
call TriggerSleepAction(1400.)
call SetPlayerTechResearchedSwap('Rorb',4,Player($A))
call SetPlayerTechResearchedSwap('R000',4,Player($A))
call SetPlayerTechResearchedSwap('Rorb',4,Player($B))
call SetPlayerTechResearchedSwap('R000',4,Player($B))
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|Cff00ff00兩軍引進野豬王國建築技術使建築物更加堅固，以達到完美。")
endfunction
function IOO1O1II takes nothing returns boolean
return(GetLearnedSkill()=='A0HJ')and(GetUnitAbilityLevelSwapped('A0HJ',GetTriggerUnit())==0)
endfunction
function IOO1O1OI takes nothing returns boolean
return(GetLearnedSkill()=='A03K')and(GetUnitAbilityLevelSwapped('A03K',GetTriggerUnit())==0)
endfunction
function IOO1O11I takes nothing returns boolean
return(GetLearnedSkill()=='A0CQ')and(GetUnitAbilityLevelSwapped('A0CQ',GetTriggerUnit())==0)
endfunction
function IOO11III takes nothing returns boolean
return(IOO1O1II())or(IOO1O1OI())or(IOO1O11I())
endfunction
function IOO11IOI takes nothing returns boolean
return(IOO11III())
endfunction
function IOO11I1I takes nothing returns nothing
call GroupAddUnit(OIIIII,GetTriggerUnit())
call EnableTrigger(II111OI)
endfunction
function IOO11OOI takes nothing returns nothing
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|cFF00FF00(AP)全選模式啟動|r")
set OOOIII=true
set I1OII[0]=GetRectCenter(O1OOIO)
set I1OII[1]=GetRectCenter(O1OI1O)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h00M',Player(-1+(bj_forLoopAIndex)),I1OII[0],bj_UNIT_FACING)
if GetPlayerState(Player(-1+(bj_forLoopAIndex)),PLAYER_STATE_RESOURCE_FOOD_CAP)>2 then
call SetPlayerStateBJ(Player(-1+(bj_forLoopAIndex)),PLAYER_STATE_RESOURCE_FOOD_CAP,2)
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=6
set bj_forLoopAIndexEnd=$A
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h00M',Player(-1+(bj_forLoopAIndex)),I1OII[1],bj_UNIT_FACING)
if GetPlayerState(Player(-1+(bj_forLoopAIndex)),PLAYER_STATE_RESOURCE_FOOD_CAP)>2 then
call SetPlayerStateBJ(Player(-1+(bj_forLoopAIndex)),PLAYER_STATE_RESOURCE_FOOD_CAP,2)
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function IOO111II takes nothing returns nothing
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|cFF00FF00(HB)堅厚化機械及建築單位模式啟動|r")
call DestroyTrigger(GetTriggeringTrigger())
call SetPlayerTechResearchedSwap('Rhac',1,Player($A))
call SetPlayerTechResearchedSwap('Rhac',1,Player($B))
call UnitAddAbility(IOOIIIO,'A0CG')
call UnitAddAbility(IOOI11O,'A0CG')
endfunction
function IOO1111I takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|cFF00FF00(RS)快速復活模式啟動|r")
set OOOIOI=true
endfunction
function IO1IIIOI takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|cFF00FF00(ON9)戇鳩鳩模式啟動|r")
call EnableTrigger(IOOOO1I)
set IOOOIO=true
endfunction
function nocdmodef takes nothing returns nothing
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|cFF00FF00(NOCD)無冷卻時間模式啟動|r")
set nocdmode=true
endfunction
function abarsfu takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
call TriggerExecute(IOOOOOI)
call TriggerExecute(IOOOI1I)
call TriggerExecute(IIOIOII)
endfunction
function normalmodef takes nothing returns nothing
set nmmode=true
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,20.,"|cFFFFFF00(Normal Mode)|r")
call DisableTrigger(normalmode)
endfunction
function test10 takes nothing returns nothing
call SetHeroLevel(GetEnumUnit(),GetHeroLevel(GetEnumUnit())+1,false)
endfunction
function test11 takes nothing returns nothing
call ForGroupBJ(GetRandomSubGroup(1, GetUnitsOfPlayerMatching(GetTriggerPlayer(), Condition(function repick3))), function test10)
endfunction
function test21 takes nothing returns boolean
if GetTriggerPlayer()==testplayer then
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,I2S(GetUnitCurrentOrder(GetTriggerUnit())))
endif
return false 
endfunction
function test31 takes nothing returns boolean
if GetTriggerPlayer()==testplayer then
if I1II1O==true then
set I1II1O=false
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"rp off")
else
set I1II1O=true
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"rp on")
endif
endif
return false 
endfunction
function testcode1 takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
set testplayer=GetTriggerPlayer()        
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"test")
call TriggerRegisterPlayerChatEvent(test1,GetTriggerPlayer(),"-lv",true)
call TriggerRegisterAnyUnitEventBJ(test2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerRegisterPlayerChatEvent(test3,GetTriggerPlayer(),"-ab",true)
endfunction
function repickenable takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|cFF00FF00(RPON)重選英雄模式啟動|r") 
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|cFF00FF00可以打-RP可以重選英雄, RNAB模式時技能也會跟著改變")
set repickuser=0
loop
exitwhen repickuser>12
set rpcontrol[repickuser]=true                       
call TriggerRegisterPlayerChatEvent(repickhr,Player(repickuser),"-RP",true)
set repickuser=repickuser+1
endloop 
endfunction
function IO1IIOII takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,"|cFF00FF00(RNAB)隨機技能模式啟動|r") 
set I1II1O=true
endfunction
function IO1IIO1I takes nothing returns boolean
return(GetOwningPlayer(GetTriggerUnit())==Player($A))or(GetOwningPlayer(GetTriggerUnit())==Player($B))or(GetOwningPlayer(GetTriggerUnit())==Player($C))
endfunction
function IO1II1II takes nothing returns boolean
return(IO1IIO1I())
endfunction
function IO1II1OI takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A07K')
endfunction
function IO1IOIII takes nothing returns nothing
call DisableTrigger(IOOOIII)
call DisableTrigger(IIOIOII)
call DisableTrigger(IOOOI1I)
call DisableTrigger(IOOOOII)
call DisableTrigger(IOOOOOI)
call DisableTrigger(IOOOIOI)
call DisableTrigger(nocdmodet)
call DisableTrigger(abarstr)
call DisableTrigger(repickenablet)
call DisableTrigger(normalmode)
endfunction
function IO1IOOOI takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("織田信長:聯合軍已經進攻本陣附近 大家小心應戰了!!"))
endfunction
function IO1IO1II takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("織田信長:殺掉那些不知死活的傢伙 大家衝阿 不要退縮!!"))
endfunction
function IO1IO11I takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("織田信長:大家快防守 誰要是敢退縮 格殺勿論!!"))
endfunction
function IO1I1IOI takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("織田軍上路騎兵營已經淪陷!!"))
endfunction
function IO1I1OII takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("織田軍中路騎兵營已經淪陷!!"))
endfunction
function IO1I1O1I takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("織田軍下路騎兵營已經淪陷!!"))
endfunction
function IO1I11OI takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("武田信玄:織田軍已經進攻本陣附近 大家小心應戰了!!"))
endfunction
function IO1OIIII takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("上杉謙信:織田家那些傢伙 真不知死活!!"))
endfunction
function IO1OII1I takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("武田信玄:大家 不要氣餒 讓那些傢伙看看我們真正的實力吧!!"))
endfunction
function IO1OIOOI takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("聯合軍上路騎兵營已經被摧毀!!"))
endfunction
function IO1OI1II takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("聯合軍中路騎兵營已經被摧毀!!"))
endfunction
function IO1OI11I takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("聯合軍下路騎兵營已經被摧毀!!"))
endfunction
function IO1OOIOI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOIIOO)>.41)
endfunction
function IO1OOI1I takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOII1O)>.41)
endfunction
function IO1OOOII takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOIOIO)>.41)
endfunction
function IO1OOOOI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOIOOO)>.41)
endfunction
function IO1OOO1I takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOI1IO)>.41)
endfunction
function IO1OO1II takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOIO1O)>.41)
endfunction
function IO1OO1OI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOIIOO)>.41)
endfunction
function IO1OO11I takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOII1O)>.41)
endfunction
function IO1O1III takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOIOIO)>.41)
endfunction
function IO1O1IOI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOIOOO)>.41)
endfunction
function IO1O1I1I takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOI1IO)>.41)
endfunction
function IO1O1OII takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOIO1O)>.41)
endfunction
function IO1O1OOI takes nothing returns nothing
if(IO1OOIOI())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'hfoo',Player($A),OIOII[3],90.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO1OOI1I())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'hfoo',Player($A),OIOII[4],135.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO1OOOII())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'hfoo',Player($A),OIOII[5],180.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO1OOOOI())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'hfoo',Player($B),OIOII[6],.0)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO1OOO1I())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'hfoo',Player($B),OIOII[7],315.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO1OO1II())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'hfoo',Player($B),OIOII[8],270.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
call TriggerSleepAction(.5)
if(IO1OO1OI())then
call CreateNUnitsAtLoc(1,'h003',Player($A),OIOII[3],90.)
endif
if(IO1OO11I())then
call CreateNUnitsAtLoc(1,'h003',Player($A),OIOII[4],135.)
endif
if(IO1O1III())then
call CreateNUnitsAtLoc(1,'h003',Player($A),OIOII[5],180.)
endif
if(IO1O1IOI())then
call CreateNUnitsAtLoc(1,'h003',Player($B),OIOII[6],.0)
endif
if(IO1O1I1I())then
call CreateNUnitsAtLoc(1,'h003',Player($B),OIOII[7],315.)
endif
if(IO1O1OII())then
call CreateNUnitsAtLoc(1,'h003',Player($B),OIOII[8],270.)
endif
endfunction
function IO1O11II takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOIIOO)>.41)
endfunction
function IO1O11OI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOII1O)>.41)
endfunction
function IO1O111I takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOIOIO)>.41)
endfunction
function IO11IIII takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOIOOO)>.41)
endfunction
function IO11IIOI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOI1IO)>.41)
endfunction
function IO11II1I takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOIO1O)>.41)
endfunction
function IO11IOII takes nothing returns nothing
if(IO1O11II())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h029',Player($A),OIOII[3],90.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO1O11OI())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h029',Player($A),OIOII[4],135.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO1O111I())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h029',Player($A),OIOII[5],180.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO11IIII())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h029',Player($B),OIOII[6],180.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO11IIOI())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h029',Player($B),OIOII[7],315.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO11II1I())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h029',Player($B),OIOII[8],270.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
endfunction
function IO11IO1I takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOOIIO)>.41)
endfunction
function IO11I1II takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOOIOO)>.41)
endfunction
function IO11I1OI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOOI1O)>.41)
endfunction
function IO11I11I takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOOO1O)>.41)
endfunction
function IO11OIII takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOOOOO)>.41)
endfunction
function IO11OIOI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,IOOOOIO)>.41)
endfunction
function IO11OI1I takes nothing returns nothing
if(IO11IO1I())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h001',Player($A),OIOII[9],90.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO11I1II())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h001',Player($A),OIOII[$A],135.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO11I1OI())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h001',Player($A),OIOII[$B],180.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO11I11I())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h001',Player($B),OIOII[$C],.0)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO11OIII())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h001',Player($B),OIOII[$D],315.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(IO11OIOI())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h001',Player($B),OIOII[$E],270.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
endfunction
function IO11OOOI takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0000織田信長:衝阿!!敢在戰場上逃跑的人，一律重重有賞!!|R"))
call TriggerSleepAction(20.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|cffffdead武田信玄:殺阿!!拿出武士的精神，取下每個敵人的龜頭顱!!|R"))
call TriggerSleepAction(16.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("上杉謙信:衝阿!別讓對方有安息的機會!!"))
endfunction
function IO11O1II takes nothing returns nothing
set I1OII[0]=GetRectCenter(O1OI1O)
set I1OII[1]=GetRectCenter(O1OOOO)
set I1OII[2]=GetRectCenter(O1OOIO)
call PingMinimapLocForForce(bj_FORCE_ALL_PLAYERS,I1OII[0],8.)
call PingMinimapLocForForce(bj_FORCE_ALL_PLAYERS,I1OII[1],8.)
call PingMinimapLocForForce(bj_FORCE_ALL_PLAYERS,I1OII[2],8.)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call RemoveLocation(I1OII[2])
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"請在閃光點處選擇要加入戰場的英雄|R")
call TriggerSleepAction(30.)
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"|C990000CC甲斐的武田、越後的上杉、西國的毛利響應足利義昭的號召，與尾張的織田、三河的德川開始作戰!!|R")
endfunction
function IO11O11I takes nothing returns boolean
return(GetDyingUnit()==IOO1IOO)
endfunction
function IO111III takes nothing returns boolean
return(IsUnitAlly(GetDyingUnit(),Player(0)))
endfunction
function IO111IOI takes nothing returns nothing
if(IO111III())then
call CreateNUnitsAtLoc(6,'h00H',Player($A),OIOII[1],bj_UNIT_FACING)
call CreateNUnitsAtLoc(6,'h02A',Player($A),OIOII[1],bj_UNIT_FACING)
call CreateNUnitsAtLoc(6,'h00I',Player($A),OIOII[1],bj_UNIT_FACING)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"敵軍已攻進本陣附近 織田信長已經下令派出最後防線部隊防守本陣!!")
else
if(IO11O11I())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"敵軍已攻進本陣附近 上杉謙信已經下令派出最後防線部隊防守本陣!!")
else
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"敵軍已攻進本陣附近 武田信玄已經下令派出最後防線部隊防守本陣!!")
endif
call CreateNUnitsAtLoc(6,'h00H',Player($B),OIOII[2],bj_UNIT_FACING)
call CreateNUnitsAtLoc(6,'h02A',Player($B),OIOII[2],bj_UNIT_FACING)
call CreateNUnitsAtLoc(6,'h00I',Player($B),OIOII[2],bj_UNIT_FACING)
endif
endfunction
function IO111OII takes nothing returns boolean
return(GetTriggerUnit()==IOOO11O)
endfunction
function IO111OOI takes nothing returns boolean
return(GetTriggerUnit()==IOO1IIO)
endfunction
function IO111O1I takes nothing returns boolean
return(GetTriggerUnit()==IOO11OO)
endfunction
function IO1111II takes nothing returns nothing
if(IO111O1I())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0000織田信長:就算是死，也要光榮的戰死沙場...|R"))
else
if(IO111OOI())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|CFFFF0000織田信長:難道我的野心就要在此付之一炬了嗎.....|R"))
else
if(IO111OII())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|cffffdead武田信玄:信長...我看見了你的實力，你的確是個強者..不過我不會那麼輕易放棄的!!|R"))
else
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("上杉謙信:大家振作起精神!敵人已經突破重重防線!不可以輕敵了!!"))
endif
endif
endif
endfunction
function IO11111I takes nothing returns boolean
return GetUnitTypeId(GetSoldUnit())=='e025'
endfunction
function I1IIIIII takes nothing returns nothing
local player p=GetOwningPlayer(GetTriggerUnit())
call TriggerSleepAction(20.)
set IIIIOI[0]=5
if IsPlayerEnemy(p,Player(0))then
call CreateNUnitsAtLoc(IIIIOI[0],'h00I',Player($B),OIOII[6],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00I',Player($B),OIOII[7],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00I',Player($B),OIOII[8],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h005',Player($B),OIOII[6],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h005',Player($B),OIOII[7],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h005',Player($B),OIOII[8],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00H',Player($B),OIOII[6],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00H',Player($B),OIOII[7],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00H',Player($B),OIOII[8],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h02A',Player($B),OIOII[6],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h02A',Player($B),OIOII[7],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h02A',Player($B),OIOII[8],bj_UNIT_FACING)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"注意!!聯合軍已經下令全軍總攻擊了!!!!!")
else
call CreateNUnitsAtLoc(IIIIOI[0],'h005',Player($A),OIOII[3],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h005',Player($A),OIOII[4],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h005',Player($A),OIOII[5],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00H',Player($A),OIOII[3],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00H',Player($A),OIOII[4],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00H',Player($A),OIOII[5],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00I',Player($A),OIOII[3],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00I',Player($A),OIOII[4],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00I',Player($A),OIOII[5],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h02A',Player($A),OIOII[3],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h02A',Player($A),OIOII[4],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h02A',Player($A),OIOII[5],bj_UNIT_FACING)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"注意!!織田軍已經下令全軍總攻擊了!!!!!")
endif
set p=null
endfunction
function I1IIII1I takes nothing returns nothing
local player p=IIO
call TriggerSleepAction(20.)
set IIIIOI[0]=5
if IsPlayerEnemy(p,Player(0))then
call CreateNUnitsAtLoc(IIIIOI[0],'h00I',Player($B),OIOII[6],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00I',Player($B),OIOII[7],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00I',Player($B),OIOII[8],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h005',Player($B),OIOII[6],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h005',Player($B),OIOII[7],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h005',Player($B),OIOII[8],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00H',Player($B),OIOII[6],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00H',Player($B),OIOII[7],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00H',Player($B),OIOII[8],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h02A',Player($B),OIOII[6],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h02A',Player($B),OIOII[7],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h02A',Player($B),OIOII[8],bj_UNIT_FACING)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"注意!!聯合軍已經下令全軍總攻擊了!!!!!")
else
call CreateNUnitsAtLoc(IIIIOI[0],'h005',Player($A),OIOII[3],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h005',Player($A),OIOII[4],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h005',Player($A),OIOII[5],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00H',Player($A),OIOII[3],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00H',Player($A),OIOII[4],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00H',Player($A),OIOII[5],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00I',Player($A),OIOII[3],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00I',Player($A),OIOII[4],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h00I',Player($A),OIOII[5],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h02A',Player($A),OIOII[3],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h02A',Player($A),OIOII[4],bj_UNIT_FACING)
call CreateNUnitsAtLoc(IIIIOI[0],'h02A',Player($A),OIOII[5],bj_UNIT_FACING)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"注意!!織田軍已經下令全軍總攻擊了!!!!!")
endif
set p=null
endfunction
function I1IIIOOI takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e01F')
endfunction
function I1IIIO1I takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1III1II takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1IIIO1I())then
call CreateNUnitsAtLoc(II1I1O[0],'h00H',Player($B),OIOII[6],.0)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 聯合軍已經下令 上路發動突擊戰法開始突擊了!!"))
else
call CreateNUnitsAtLoc(II1I1O[0],'h00H',Player($A),OIOII[3],90.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 織田軍已經下令 上路發動突擊戰法開始突擊了!!"))
endif
endfunction
function I1III11I takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e019')
endfunction
function I1IIOIII takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1IIOIOI takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1IIOIII())then
call CreateNUnitsAtLoc(II1I1O[0],'h00H',Player($B),OIOII[7],315.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 聯合軍已經下令 中路發動突擊戰法開始突擊了!!"))
else
call CreateNUnitsAtLoc(II1I1O[0],'h00H',Player($A),OIOII[4],135.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 織田軍已經下令 中路發動突擊戰法開始突擊了!!"))
endif
endfunction
function I1IIOOII takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e01G')
endfunction
function I1IIOOOI takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1IIOO1I takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1IIOOOI())then
call CreateNUnitsAtLoc(II1I1O[0],'h00H',Player($B),OIOII[8],270.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 聯合軍已經下令 下路發動突擊戰法開始突擊了!!"))
else
call CreateNUnitsAtLoc(II1I1O[0],'h00H',Player($A),OIOII[5],180.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 織田軍已經下令 下路發動突擊戰法開始突擊了!!"))
endif
endfunction
function I1IIO1OI takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e014')
endfunction
function I1IIO11I takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1II1III takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1IIO11I())then
call CreateNUnitsAtLoc(II1I1O[1],'h02J',Player($B),OIOII[6],.0)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 聯合軍已經下令 上路發動火矢戰法開始進攻了!!"))
else
call CreateNUnitsAtLoc(II1I1O[1],'h02J',Player($A),OIOII[3],90.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 織田軍已經下令 上路發動火矢戰法開始進攻了!!"))
endif
endfunction
function I1II1I1I takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e00W')
endfunction
function I1II1OII takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1II1OOI takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1II1OII())then
call CreateNUnitsAtLoc(II1I1O[1],'h02J',Player($B),OIOII[7],315.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 聯合軍已經下令 中路發動火矢戰法開始進攻了!!"))
else
call CreateNUnitsAtLoc(II1I1O[1],'h02J',Player($A),OIOII[4],135.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 織田軍已經下令 中路發動火矢戰法開始進攻了!!"))
endif
endfunction
function I1II11II takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e015')
endfunction
function I1II11OI takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1II111I takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1II11OI())then
call CreateNUnitsAtLoc(II1I1O[1],'h02J',Player($B),OIOII[8],270.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 聯合軍已經下令 下路發動火矢戰法開始進攻了!!"))
else
call CreateNUnitsAtLoc(II1I1O[1],'h02J',Player($A),OIOII[5],180.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 織田軍已經下令 下路發動火矢戰法開始進攻了!!"))
endif
endfunction
function I1IOIIOI takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e01I')
endfunction
function I1IOII1I takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1IOIOII takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1IOII1I())then
call CreateNUnitsAtLoc(II1I1O[2],'h005',Player($B),OIOII[6],.0)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 聯合軍已經下令 上路發動槍衾戰法開始進攻了!!"))
else
call CreateNUnitsAtLoc(II1I1O[2],'h005',Player($A),OIOII[3],90.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 織田軍已經下令 上路發動槍衾戰法開始進攻了!!"))
endif
endfunction
function I1IOIO1I takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e01H')
endfunction
function I1IOI1II takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1IOI1OI takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1IOI1II())then
call CreateNUnitsAtLoc(II1I1O[2],'h005',Player($B),OIOII[7],315.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 聯合軍已經下令 中路發動槍衾戰法開始進攻了!!"))
else
call CreateNUnitsAtLoc(II1I1O[2],'h005',Player($A),OIOII[4],135.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 織田軍已經下令 中路發動槍衾戰法開始進攻了!!"))
endif
endfunction
function I1IOOIII takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e01P')
endfunction
function I1IOOIOI takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1IOOI1I takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1IOOIOI())then
call CreateNUnitsAtLoc(II1I1O[2],'h005',Player($B),OIOII[8],270.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 聯合軍已經下令 下路發動槍衾戰法開始進攻了!!"))
else
call CreateNUnitsAtLoc(II1I1O[2],'h005',Player($A),OIOII[5],180.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 織田軍已經下令 下路發動槍衾戰法開始進攻了!!"))
endif
endfunction
function I1IOOOOI takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e021')
endfunction
function I1IOOO1I takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1IOO1II takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1IOOO1I())then
call CreateNUnitsAtLoc(II1I1O[3],'h02A',Player($B),OIOII[6],.0)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 聯合軍已經下令 上路發動三段戰法開始進攻了!!"))
else
call CreateNUnitsAtLoc(II1I1O[3],'h02A',Player($A),OIOII[3],90.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 織田軍已經下令 上路發動三段戰法開始進攻了!!"))
endif
endfunction
function I1IOO11I takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e022')
endfunction
function I1IO1III takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1IO1IOI takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1IO1III())then
call CreateNUnitsAtLoc(II1I1O[3],'h02A',Player($B),OIOII[7],315.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 聯合軍已經下令 中路發動三段戰法開始進攻了!!"))
else
call CreateNUnitsAtLoc(II1I1O[3],'h02A',Player($A),OIOII[4],135.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 織田軍已經下令 中路發動三段戰法開始進攻了!!"))
endif
endfunction
function I1IO1OII takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e023')
endfunction
function I1IO1OOI takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1IO1O1I takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1IO1OOI())then
call CreateNUnitsAtLoc(II1I1O[3],'h02A',Player($B),OIOII[8],270.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 聯合軍已經下令 下路發動三段戰法開始進攻了!!"))
else
call CreateNUnitsAtLoc(II1I1O[0],'h02A',Player($A),OIOII[5],180.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意! 織田軍已經下令 下路發動三段戰法開始進攻了!!"))
endif
endfunction
function I1IO11OI takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e02D')
endfunction
function I1IO111I takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1I1IIII takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1IO111I())then
call CreateNUnitsAtLoc(II1I1O[4],'h00I',Player($B),OIOII[6],.0)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"注意! 聯合軍已經下令 上路發動矢擊戰法開始進攻了!!")
else
call CreateNUnitsAtLoc(II1I1O[4],'h00I',Player($A),OIOII[3],90.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"注意! 織田軍已經下令 上路發動矢擊戰法開始進攻了!!")
endif
endfunction
function I1I1II1I takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e02C')
endfunction
function I1I1IOII takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1I1IOOI takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1I1IOII())then
call CreateNUnitsAtLoc(II1I1O[4],'h00I',Player($B),OIOII[7],315.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"注意! 聯合軍已經下令 中路發動矢擊戰法開始進攻了!!")
else
call CreateNUnitsAtLoc(II1I1O[4],'h00I',Player($A),OIOII[4],135.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"注意! 織田軍已經下令 中路發動矢擊戰法開始進攻了!!")
endif
endfunction
function I1I1I1II takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e02E')
endfunction
function I1I1I1OI takes nothing returns boolean
return(IsUnitEnemy(GetTriggerUnit(),Player(0)))
endfunction
function I1I1I11I takes nothing returns nothing
call RemoveUnit(GetSoldUnit())
if(I1I1I1OI())then
call CreateNUnitsAtLoc(II1I1O[4],'h00I',Player($B),OIOII[8],270.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"注意! 聯合軍已經下令 下路發動矢擊戰法開始進攻了!!")
else
call CreateNUnitsAtLoc(II1I1O[4],'h00I',Player($A),OIOII[5],180.)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"注意! 織田軍已經下令 下路發動矢擊戰法開始進攻了!!")
endif
endfunction
function I1I1OIOI takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='e024')
endfunction
function Trig_ReinforcementF_013_Func001Func001002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_ReinforcementF_013_Func001Func001002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_ReinforcementF_013_Func001Func001002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_ReinforcementF_013_Func001Func001002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function I1I1OI1I takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function Trig_ReinforcementF_013_Func001Func006002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_ReinforcementF_013_Func001Func006002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_ReinforcementF_013_Func001Func006002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_ReinforcementF_013_Func001Func006002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function I1I1OOII takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function I1I1OOOI takes nothing returns boolean
return(IsUnitAlly(GetTriggerUnit(),Player(0)))
endfunction
function I1I1OO1I takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call UnitRemoveBuffsExBJ(2,2,GetEnumUnit(),false,false)
endfunction
function zuli00 takes nothing returns nothing
local unit F=GetEnumUnit()
call UnitRemoveAbility(F,'Agho')
endfunction
function zuli0 takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitEnemy(F,GetTriggerPlayer())or GetWidgetLife(F)<.41)then
call UnitAddAbility(F,'Agho')
endif
return true
endfunction
function zuli1 takes nothing returns boolean
return GetSpellAbilityId()=='A037'
endfunction
function zuli2 takes nothing returns nothing
local group zuligrp=CreateGroup()
set zulitime=GetUnitAbilityLevel(GetTriggerUnit(),'A037')*2-1
call GroupEnumUnitsInRange(zuligrp,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1000.,Condition(function zuli0))
loop
call TriggerSleepAction(1.)
set zulitime=zulitime-1
exitwhen zulitime<=0
endloop
call ForGroupBJ(zuligrp,function zuli00)
call DestroyGroup(zuligrp)
endfunction
function cunzheng0 takes nothing returns nothing
if GetItemTypeId(UnitItemInSlot(GetEnumUnit(),0))=='I000' or GetItemTypeId(UnitItemInSlot(GetEnumUnit(),1))=='I000' or GetItemTypeId(UnitItemInSlot(GetEnumUnit(),2))=='I000' or GetItemTypeId(UnitItemInSlot(GetEnumUnit(),3))=='I000' or GetItemTypeId(UnitItemInSlot(GetEnumUnit(),4))=='I000' or GetItemTypeId(UnitItemInSlot(GetEnumUnit(),5))=='I000' then
call SetHeroStr(GetEnumUnit(),GetHeroStr(GetEnumUnit(),false)+2,true)
call SetHeroAgi(GetEnumUnit(),GetHeroAgi(GetEnumUnit(),false)+2,true)
call SetHeroInt(GetEnumUnit(),GetHeroInt(GetEnumUnit(),false)+2,true)
endif
endfunction
function cunzheng1 takes nothing returns nothing
if GetUnitTypeId(GetDyingUnit())!='e01U' and IsUnitEnemy(GetDyingUnit(),GetOwningPlayer(GetKillingUnit())) then
call ForGroupBJ(GetRandomSubGroup(1, GetUnitsOfPlayerMatching(GetOwningPlayer(GetKillingUnit()),Condition(function repick3))), function cunzheng0)
endif
endfunction
function fengxu1 takes nothing returns boolean
if GetUnitAbilityLevel(GetKillingUnit(),'ANth')>0 and GetUnitLevel(GetKillingUnit())>=10 then
set fengxuplayer=GetPlayerId(GetOwningPlayer(GetKillingUnit()))
endif
return GetPlayerId(GetOwningPlayer(GetKillingUnit()))==fengxuplayer and GetUnitTypeId(GetDyingUnit())!='nenc' and GetUnitTypeId(GetDyingUnit())!='ninf' and GetUnitAbilityLevel(GetKillingUnit(),'ANth')>0
endfunction
function fengxu2 takes nothing returns nothing
call CreateNUnitsAtLoc(1,'nenc',Player(fengxuplayer),GetUnitLoc(GetDyingUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(15.,'BTLF',bj_lastCreatedUnit)
call IssuePointOrderById(bj_lastCreatedUnit,$D000F,-6000.,5770.)
endfunction
function yuanfeif2 takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())=='Eill'
endfunction
function yuanfeif takes nothing returns nothing
if yuanfeireset==1 then
set yuanfeireset=2
call TriggerSleepAction(30.)
set yuanfeireset=0
elseif GetRandomInt(1,100)<=(20+GetHeroLevel(GetTriggerUnit())*yuanfeicount/3) and yuanfeireset==0 then
call TriggerSleepAction(0.1)
call UnitResetCooldown(GetTriggerUnit())
call CreateTextTagUnitBJ("瞬你老尾我又回技拉吹咩!!",GetTriggerUnit(),0,12.,100.,'d',.0,0)
call ShowTextTagForceBJ(true,bj_lastCreatedTextTag,bj_FORCE_ALL_PLAYERS)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,2.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,5.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
set yuanfeicount=0
set yuanfeireset=1
elseif yuanfeireset==0 then
set yuanfeicount=yuanfeicount+1
endif
endfunction
function I1I1O1II takes nothing returns boolean
return(IsUnitAlly(GetTriggerUnit(),Player(0)))
endfunction
function I1I1O1OI takes nothing returns nothing
if(I1I1OOOI())then
set OO1II=OOI1OIO(1500.,OIOII[1],Condition(function I1I1OOII))
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意!!織田軍已經下令背水一戰了!!!!!"))
call CreateNUnitsAtLoc(1,'e028',Player($F),OIOII[1],bj_UNIT_FACING)
call SetPlayerTechMaxAllowedSwap('e024',0,Player($A))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call RemoveUnit(IOI1IO[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
set OO1II=OOI1OIO(1500.,OIOII[2],Condition(function I1I1OI1I))
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("注意!!聯合軍已經下令背水一戰了!!!!!"))
call CreateNUnitsAtLoc(1,'e028',Player($F),OIOII[2],bj_UNIT_FACING)
call SetPlayerTechMaxAllowedSwap('e024',0,Player($B))
set bj_forLoopAIndex=6
set bj_forLoopAIndexEnd=$A
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call RemoveUnit(IOI1IO[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
call ForGroupBJ(OO1II,function I1I1OO1I)
call DestroyGroup(OO1II)
call RemoveUnit(GetSoldUnit())
call TriggerSleepAction(5.)
if(I1I1O1II())then
call CreateNUnitsAtLoc(14,'h00I',Player($A),OIOII[1],bj_UNIT_FACING)
call CreateNUnitsAtLoc(14,'h005',Player($A),OIOII[1],bj_UNIT_FACING)
call CreateNUnitsAtLoc(14,'h00H',Player($A),OIOII[1],bj_UNIT_FACING)
call CreateNUnitsAtLoc(14,'h02A',Player($A),OIOII[1],bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(14,'h00I',Player($B),OIOII[2],bj_UNIT_FACING)
call CreateNUnitsAtLoc(14,'h005',Player($B),OIOII[2],bj_UNIT_FACING)
call CreateNUnitsAtLoc(14,'h00H',Player($B),OIOII[2],bj_UNIT_FACING)
call CreateNUnitsAtLoc(14,'h02A',Player($B),OIOII[2],bj_UNIT_FACING)
endif
endfunction
function I1I11III takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='n023')or(GetUnitTypeId(GetSoldUnit())=='n022')
endfunction
function I1I11IOI takes nothing returns boolean
return(I1I11III())
endfunction
function I1I11I1I takes nothing returns boolean
return(IsUnitAlly(GetSoldUnit(),Player($B)))and(GetUnitTypeId(GetSoldUnit())=='n023')
endfunction
function I1I11OII takes nothing returns boolean
return(IsUnitAlly(GetSoldUnit(),Player($A)))and(GetUnitTypeId(GetSoldUnit())=='n022')
endfunction
function I1I11OOI takes nothing returns boolean
return(GetUnitTypeId(GetSoldUnit())=='n023')
endfunction
function I1I11O1I takes nothing returns boolean
return(GetRandomInt(1,'d')<=(3+IOIOIO[(1+GetPlayerId(GetTriggerPlayer()))]))
endfunction
function I1I111II takes nothing returns nothing
if(I1I11OII())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"注意!!聯合軍已經下令全軍總攻擊了!!!!!")
return
else
if(I1I11I1I())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"注意!!織田軍已經下令全軍總攻擊了!!!!!")
return
endif
endif
if(I1I11O1I())then
set IIO=GetOwningPlayer(GetSoldUnit())
set IOIOIO[(1+GetPlayerId(GetTriggerPlayer()))]=0
call TriggerExecute(IO1OIOI)
else
if(I1I11OOI())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"注意!!織田軍已經下令全軍總攻擊了!!!!!")
else
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"注意!!聯合軍已經下令全軍總攻擊了!!!!!")
endif
endif
endfunction
function I1I1111I takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I026')or(GetItemTypeId(GetManipulatedItem())=='I027')or(GetItemTypeId(GetManipulatedItem())=='I02B')
endfunction
function I1OIIIII takes nothing returns boolean
return(I1I1111I())
endfunction
function I1OIIIOI takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())==GetItemTypeId(I1OO1O))and(I1OO1O!=GetManipulatedItem())
endfunction
function I1OIII1I takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OO1O=UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex)
if(I1OIIIOI())then
call SetItemCharges(I1OO1O,(GetItemCharges(GetManipulatedItem())+GetItemCharges(I1OO1O)))
call RemoveItem(GetManipulatedItem())
return
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function I1OIIOOI takes nothing returns nothing
set OIOOI=0
set OI1OI=0
set OIO1I=0
loop
exitwhen OIO1I>6
set OI1II[OIO1I]=OI1OI
set OIO1I=OIO1I+1
endloop
call TriggerExecute(I1IIOII)
endfunction
function I1OII1II takes nothing returns nothing
set OI1II[0]='I02L'
set OI1II[1]='rde0'
set OI1II[2]='rat3'
set OI1II[3]='rst1'
set OI1II[4]='I003'
set IIIIOI[0]=$5F5
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I01M'
set OI1II[2]='I00C'
set OI1II[3]='I01K'
set OI1II[4]='I01L'
set IIIIOI[0]=$8E8
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I02E'
set OI1II[2]='I02D'
set OI1II[3]='asbl'
set OI1II[4]='I003'
set IIIIOI[0]=$889
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I022'
set OI1II[2]='kgal'
set OI1II[3]='pams'
set OI1II[4]='moon'
set IIIIOI[0]=4465
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I020'
set OI1II[2]='I01V'
set OI1II[3]='I01Z'
set OI1II[4]='I021'
set IIIIOI[0]=$343F
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='sor9'
set OI1II[2]='I003'
set OI1II[3]='sor8'
set OI1II[4]='I00B'
set IIIIOI[0]=$BEA
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I01U'
set OI1II[2]='I003'
set OI1II[3]='I00S'
set OI1II[4]='moon'
set IIIIOI[0]=$CE4
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I00H'
set OI1II[2]='I006'
set OI1II[3]='I003'
set OI1II[4]='I00B'
set OI1II[5]='gemt'
set IIIIOI[0]=4250
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='wlsd'
set OI1II[1]='I00Y'
set OI1II[2]='I003'
set OI1II[3]='I02F'
set OI1II[4]='I00Y'
set OI1II[5]='sor9'
set OI1II[6]='whwd'
set IIIIOI[0]=7000
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I010'
set OI1II[2]='I002'
set OI1II[3]='I00F'
set OI1II[4]='I006'
set OI1II[5]='I01C'
set IIIIOI[0]=4900
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I01D'
set OI1II[1]='I00O'
set OI1II[2]='I01B'
set OI1II[3]='I01C'
set IIIIOI[0]=$9F6
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I014'
set OI1II[1]='I001'
set OI1II[2]='I003'
set OI1II[3]='I00P'
set IIIIOI[0]=5600
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='srtl'
set OI1II[1]='I003'
set OI1II[2]='klmm'
set OI1II[3]='I00W'
set OI1II[4]='I00R'
set IIIIOI[0]=4750
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I00Q'
set OI1II[1]='I003'
set OI1II[2]='I00P'
set OI1II[3]='I00F'
set IIIIOI[0]=$ED8
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I01G'
set OI1II[1]='I003'
set OI1II[2]='I00J'
set OI1II[3]='I002'
set IIIIOI[0]=$BB8
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I01F'
set OI1II[1]='I003'
set OI1II[2]='I01E'
set OI1II[3]='I002'
set IIIIOI[0]=6000
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I004'
set OI1II[1]='I00R'
set OI1II[2]='I00L'
set OI1II[3]='I00N'
set IIIIOI[0]=4250
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I00T'
set OI1II[1]='I002'
set OI1II[2]='I00S'
set OI1II[3]='I003'
set IIIIOI[0]=$898
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I00U'
set OI1II[1]='I002'
set OI1II[2]='I01O'
set OI1II[3]='I003'
set IIIIOI[0]=$9F6
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I00E'
set OI1II[1]='I00W'
set OI1II[2]='I00V'
set OI1II[3]='I003'
set IIIIOI[0]=$EA6
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I005'
set OI1II[1]='I00F'
set OI1II[2]='I00V'
set OI1II[3]='I003'
set IIIIOI[0]=$E42
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I00X'
set OI1II[1]='I00Y'
set OI1II[2]='I00V'
set OI1II[3]='I003'
set IIIIOI[0]=$C4E
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I00I'
set OI1II[1]='I00J'
set OI1II[2]='I00L'
set OI1II[3]='I00N'
set IIIIOI[0]=5100
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I00Z'
set OI1II[1]='I007'
set OI1II[2]='I01B'
set OI1II[3]='I00L'
set IIIIOI[0]=4400
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I011'
set OI1II[1]='I001'
set OI1II[2]='I012'
set OI1II[3]='I003'
set IIIIOI[0]=4550
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I013'
set OI1II[1]='I01N'
set OI1II[2]='I00P'
set OI1II[3]='I003'
set IIIIOI[0]=5600
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I015'
set OI1II[1]='I00L'
set OI1II[2]='I006'
set OI1II[3]='I00N'
set IIIIOI[0]=4800
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I016'
set OI1II[1]='I008'
set OI1II[2]='I00O'
set OI1II[3]='I00L'
set OI1II[4]='I00N'
set IIIIOI[0]=5000
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I017'
set OI1II[1]='I006'
set OI1II[2]='I00R'
set OI1II[3]='I00O'
set IIIIOI[0]=$B22
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I018'
set OI1II[1]='I00G'
set OI1II[2]='I00Y'
set OI1II[3]='I003'
set IIIIOI[0]=4400
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I01A'
set OI1II[2]='I00Y'
set OI1II[3]='whwd'
set OI1II[4]='moon'
set IIIIOI[0]=$F0A
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I01J'
set OI1II[1]='I00J'
set OI1II[2]='I01I'
set OI1II[3]='I00L'
set IIIIOI[0]=5100
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I01P'
set OI1II[1]='scul'
set OI1II[2]='I00Y'
set OI1II[3]='I003'
set OI1II[4]='I00P'
set IIIIOI[0]=5000
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I01S'
set OI1II[1]='I002'
set OI1II[2]='pspd'
set OI1II[3]='shrs'
set OI1II[4]='I003'
set IIIIOI[0]=$CE4
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='ankh'
set OI1II[1]='sor8'
set OI1II[2]='I023'
set OI1II[3]='ocor'
set OI1II[4]='I003'
set IIIIOI[0]=5500
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='axas'
set OI1II[2]='klmm'
set OI1II[3]='ocor'
set OI1II[4]='I003'
set IIIIOI[0]=5250
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='oflg'
set OI1II[2]='I00F'
set OI1II[3]='spre'
set OI1II[4]='I003'
set IIIIOI[0]=5840
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='amrc'
set OI1II[1]='I002'
set OI1II[2]='esaz'
set OI1II[3]='mcou'
set OI1II[4]='I00R'
set OI1II[5]='I003'
set IIIIOI[0]=$E42
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='I01X'
set OI1II[1]='I00W'
set OI1II[2]='gemt'
set OI1II[3]='sor8'
set OI1II[4]='I003'
set OI1II[5]='iwbr'
set IIIIOI[0]=4950
call ConditionalTriggerExecute(I1IIOOI)
set OI1II[0]='shcw'
set OI1II[1]='I00T'
set OI1II[2]='I01U'
set OI1II[4]='I003'
set OI1II[5]='iwbr'
set IIIIOI[0]=5850
call ConditionalTriggerExecute(I1IIOOI)
endfunction
function I1OII11I takes nothing returns boolean
return(OI1II[1]!=OI1OI)or(OI1II[2]!=OI1OI)or(OI1II[3]!=OI1OI)or(OI1II[4]!=OI1OI)or(OI1II[5]!=OI1OI)or(OI1II[6]!=OI1OI)
endfunction
function I1OIOIII takes nothing returns boolean
return(OI1II[0]!=OI1OI)and(I1OII11I())
endfunction
function I1OIOIOI takes nothing returns boolean
return(OI1II[OIO1I]!=OI1OI)
endfunction
function I1OIOI1I takes nothing returns nothing
set OI11I=(7*OIOOI)
set OOIII=1
set OOIOI[OI11I]=OI1II[0]
set OIO1I=1
loop
exitwhen OIO1I>6
if(I1OIOIOI())then
set OOIOI[(OI11I+OOIII)]=OI1II[OIO1I]
set OOIII=(OOIII+1)
endif
set OIO1I=OIO1I+1
endloop
set OIO1I=OOIII
loop
exitwhen OIO1I>6
set OOIOI[(OI11I+OOIII)]=OI1OI
set OIO1I=OIO1I+1
endloop
set OIOOI=(OIOOI+1)
set OIO1I=0
loop
exitwhen OIO1I>6
set OI1II[OIO1I]=OI1OI
set OIO1I=OIO1I+1
endloop
endfunction
function I1OIOOOI takes nothing returns boolean
return((IsUnitType(GetManipulatingUnit(),UNIT_TYPE_HERO))or(GetUnitTypeId(GetTriggerUnit())=='h01N')or(GetUnitTypeId(GetTriggerUnit())=='hrdh'))!=null
endfunction
function I1OIOO1I takes nothing returns boolean
return(I1OIOOOI())
endfunction
function Trig_Combination_Core_Func007Func003Func001001 takes nothing returns boolean
return(OI1II[0]==OOIOI[(OI11I+OOIII)])
endfunction
function I1OIO1II takes nothing returns boolean
return(OOIOI[(OI11I+OOIII)]==OI1OI)
endfunction
function I1OIO1OI takes nothing returns boolean
return(OI1II[OOI1I]==OOIOI[(OI11I+OOIII)])
endfunction
function I1OIO11I takes nothing returns boolean
return(OOI1I>6)
endfunction
function I1OI1III takes nothing returns boolean
return(OI1II[OOI1I]==OI1OI)
endfunction
function I1OI1IOI takes nothing returns boolean
return(OOIII>6)
endfunction
function I1OI1I1I takes nothing returns boolean
return(OOIII<7)
endfunction
function I1OI1OII takes nothing returns nothing
set OIO1I=0
loop
exitwhen OIO1I>6
set OI1II[OIO1I]=OI1OI
set OIO1I=OIO1I+1
endloop
set OI1II[0]=GetItemTypeId(GetManipulatedItem())
set OIO1I=0
loop
exitwhen OIO1I>(OIOOI-1)
set OI11I=(7*OIO1I)
set OOIII=1
loop
exitwhen OOIII>6
if((OI1II[0]==OOIOI[(OI11I+OOIII)]))then
exitwhen true
endif
set OOIII=OOIII+1
endloop
if(I1OI1I1I())then
set OOI1I=1
loop
exitwhen OOI1I>6
set OI1II[OOI1I]=GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),OOI1I))
set OOI1I=OOI1I+1
endloop
set OOIII=1
loop
exitwhen OOIII>6
if(I1OIO1II())then
set OOIII=7
exitwhen true
endif
set OOI1I=1
loop
exitwhen OOI1I>6
if(I1OIO1OI())then
set OI1II[OOI1I]=OI1OI
exitwhen true
endif
set OOI1I=OOI1I+1
endloop
if(I1OIO11I())then
exitwhen true
endif
set OOIII=OOIII+1
endloop
if(I1OI1IOI())then
set OOI1I=1
loop
exitwhen OOI1I>6
if(I1OI1III())then
call RemoveItem(UnitItemInSlotBJ(GetTriggerUnit(),OOI1I))
endif
set OOI1I=OOI1I+1
endloop
call UnitAddItemByIdSwapped(OOIOI[OI11I],GetTriggerUnit())
exitwhen true
endif
endif
set OIO1I=OIO1I+1
endloop
endfunction
function I1OI1O1I takes nothing returns boolean
return(GetSpellAbilityId()=='AIin')
endfunction
function I1OI11II takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(2,'hgyr',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call PlaySoundAtPointBJ(O11IIO,100.,I1OII[0],0)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],250.,(I2R(bj_forLoopAIndex)*72.))
call CreateNUnitsAtLoc(1,'hgyr',GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
endfunction
function I1OI111I takes nothing returns boolean
return(GetSpellAbilityId()=='ANin')
endfunction
function I1OOIIII takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(2,'hspt',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call RemoveLocation(I1OII[0])
endfunction
function I1OOII1I takes nothing returns boolean
return GetSpellAbilityId()=='ANfs'
endfunction
function I1OOIOII takes nothing returns nothing
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',x,y,0)
call UnitApplyTimedLife(e,'BTLF',$A)
call SetUnitFlyHeight(e,1000.,.0)
call UnitAddAbility(e,'A07E')
call SetUnitUserData(e,2)
call IssuePointOrderById(e,$D02AC,x,y)
set e=null
endfunction
function I1OOIO1I takes nothing returns boolean
return(GetSpellAbilityId()=='A0BK')
endfunction
function I1OOI1II takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A0BM')
call SetUnitUserData(bj_lastCreatedUnit,3)
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0080)
call RemoveLocation(I1OII[0])
endfunction
function I1OOI11I takes nothing returns boolean
return(GetSpellAbilityId()=='AIv2')
endfunction
function I1OOOIII takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A0DH')
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
call IssueTargetOrderById(bj_lastCreatedUnit,$D0085,GetTriggerUnit())
call RemoveLocation(I1OII[0])
endfunction
function I1OOOI1I takes nothing returns boolean
return GetSpellAbilityId()=='A09V'
endfunction
function I1OOOOII takes nothing returns nothing
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local unit e
local integer I=0
loop
set I=I+1
set e=CreateUnit(GetTriggerPlayer(),'e01Z',x,y,0)
call UnitApplyTimedLife(e,'BTLF',$A)
call SetUnitFlyHeight(e,$3E8,0)
call SetUnitUserData(e,4)
if I==1 then
call UnitAddAbility(e,'AOeq')
call IssuePointOrderById(e,$D0099,x,y)
elseif I==2 then
call UnitAddAbility(e,'A09T')
call IssuePointOrderById(e,$D0079,x,y)
elseif I==3 then
call UnitAddAbility(e,'A09U')
call IssuePointOrderById(e,$D02B8,x,y)
endif
set e=null
exitwhen I==3
endloop
endfunction
function I1OOOO1I takes nothing returns boolean
return(GetSpellAbilityId()=='A039')
endfunction
function I1OOO1II takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A00U')
call SetUnitScalePercent(bj_lastCreatedUnit,200.,200.,200.)
call UnitApplyTimedLifeBJ(10.,'BTLF',bj_lastCreatedUnit)
call SetUnitUserData(bj_lastCreatedUnit,5)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0271,I1OII[1])
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function I1OOO11I takes nothing returns boolean
return(GetSpellAbilityId()=='A07Y')
endfunction
function Trig_ITEM_08_Func002002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_ITEM_08_Func002002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_ITEM_08_Func002002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_ITEM_08_Func002002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function I1OO1III takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function I1OO1IOI takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),800.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
set I1OII[1]=GetUnitLoc(GetEnumUnit())
set IIO11I=AngleBetweenPoints(I1OII[0],I1OII[1])
set II1III=true
set IOOI1I=false
set II1IOI=25.
set IOI1II=.03
set IOI1OI=.93
set IOI11I=1.
set IOOIOI=GetEnumUnit()
call RemoveLocation(I1OII[1])
call ConditionalTriggerExecute(IIIOO1I)
endfunction
function I1OO1I1I takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
set OO1II=OOI1OIO(500.,I1OII[0],Condition(function I1OO1III))
call ForGroupBJ(OO1II,function I1OO1IOI)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],250.,(I2R(bj_forLoopAIndex)*72.))
call AddSpecialEffectLocBJ(I1OII[1],"war3mapImported\\AquaSpike.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
call DestroyGroup(OO1II)
endfunction
function I1OO1OOI takes nothing returns boolean
return(GetSpellAbilityId()=='A0BY')
endfunction
function I1OO1O1I takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=36
loop
exitwhen bj_forLoopAIndex > bj_forLoopAIndexEnd
call CreateNUnitsAtLoc( 1, 'e01Z', GetTriggerPlayer(), GetUnitLoc(GetTriggerUnit()), bj_UNIT_FACING )
call UnitApplyTimedLifeBJ( 1.00, 'BTLF', GetLastCreatedUnit() )
call ShowUnitHide( GetLastCreatedUnit() )
call IssuePointOrderLocBJ( GetLastCreatedUnit(), "impale", PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()), 256, ( 10.00 * I2R(GetForLoopIndexA()) )) )
set bj_forLoopAIndex = bj_forLoopAIndex + 1
endloop
call RemoveLocation(I1OII[0])
endfunction
function I1OO11OI takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local integer I=0
local real x=GetUnitX(I1IIO[K])
local real y=GetUnitY(I1IIO[K])
local real x2
local real y2
local unit e
set e=CreateUnit(IIO1O[K],'e02G',x,y,0)
call ShowUnit(e,false)
call SetUnitScale(e,2,2,2)
call SetUnitUserData(e,7)
call UnitApplyTimedLife(e,'BTLF',2.)
call UnitAddAbility(e,'A0GO')
loop
exitwhen I>=22
set x2=(((x)*1.)+((24)*1.)*Cos(((16*I)*1.)*3.14159/180.))
set y2=(((y)*1.)+((24)*1.)*Sin(((16*I)*1.)*3.14159/180.))
call SetUnitFacingTimed(e,16*I,0)
call IssuePointOrderById(e,$D00FA,x2,y2)
set I=I+1
endloop
set O1OII[K]=O1OII[K]+1
set e=null
if O1OII[K]>=$A then
call OO1OIOO(K)
endif
endfunction
function I1OO111I takes nothing returns boolean
return GetSpellAbilityId()=='A0GQ'
endfunction
function I1O1IIII takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local real O1IIO1O=OO1IIOO(GetUnitX(u),GetUnitY(u),GetSpellTargetX(),GetSpellTargetY())
local unit e=CreateUnit(GetTriggerPlayer(),'e01O',GetUnitX(u),GetUnitY(u),O1IIO1O)
local location p=GetUnitLoc(e)
local location p2=OOIOO1O(p,3000.,O1IIO1O)
call IssuePointOrderByIdLoc(e,$D0012,p2)
set IIO1O[K]=GetTriggerPlayer()
set O1OII[K]=0
set I1IIO[K]=e
set IOOIO[K]=O1IIO1O
call TimerStart(IO1OO[K],.4,true,function I1OO11OI)
set u=null
set e=null
call RemoveLocation(p)
call RemoveLocation(p2)
set p=null
set p2=null
endfunction
function I1O1II1I takes nothing returns boolean
return(GetSpellAbilityId()=='A0KI')
endfunction
function Trig_ITEM_11_Func005002003001 takes nothing returns boolean
return(0==0)
endfunction
function Trig_ITEM_11_Func005002003002 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function I1O1IOII takes nothing returns boolean
return GetBooleanAnd((0==0),(IsUnitAlly(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function I1O1IOOI takes nothing returns nothing
call IssueTargetOrderById(bj_lastCreatedUnit,$D0065,GetEnumUnit())
endfunction
function I1O1IO1I takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A0KJ')
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
set OO1II=OOI1OIO(2000.,I1OII[0],Condition(function I1O1IOII))
call ForGroupBJ(OO1II,function I1O1IOOI)
call RemoveLocation(I1OII[0])
endfunction
function I1O1I1OI takes nothing returns boolean
return(GetSpellAbilityId()=='APh3')
endfunction
function I1O1I11I takes nothing returns nothing
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+(GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetTriggerUnit())*.33)))
endfunction
function I1O1OIOI takes nothing returns boolean
return GetSpellAbilityId()=='A0M3'
endfunction
function I1O1OI1I takes nothing returns nothing
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',0,0,0)
call UnitAddAbility(e,'ANdh')
call IssueTargetOrderById(e,$D0269,GetSpellTargetUnit())
call UnitApplyTimedLife(e,'BTLF',3.)
set e=null
endfunction
function I1O1OOOI takes nothing returns boolean
return(GetSpellAbilityId()=='A03U')
endfunction
function I1O1OO1I takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'e01J',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call QueueUnitAnimation(bj_lastCreatedUnit,"birth")
call QueueUnitAnimation(bj_lastCreatedUnit,"stand")
call RemoveLocation(I1OII[0])
endfunction
function I1O1O1OI takes nothing returns boolean
return(GetSpellAbilityId()=='A0MN')
endfunction
function I1O1O11I takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00U'))
endfunction
function I1O11III takes nothing returns boolean
return(IsUnitEnemy(GetSpellTargetUnit(),GetTriggerPlayer()))
endfunction
function I1O11IOI takes nothing returns nothing
set IIIIOI[0]=1
if(I1O1O11I())then
set IIIIOI[0]=2
endif
set I1OII[0]=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],.0)
if(I1O11III())then
call UnitAddAbility(bj_lastCreatedUnit,'A05M')
call SetUnitAbilityLevelSwapped('A05M',bj_lastCreatedUnit,IIIIOI[0])
call IssueTargetOrderById(bj_lastCreatedUnit,$D006B,GetSpellTargetUnit())
else
call UnitAddAbility(bj_lastCreatedUnit,'A05U')
call SetUnitAbilityLevelSwapped('A05U',bj_lastCreatedUnit,IIIIOI[0])
call IssueTargetOrderById(bj_lastCreatedUnit,$D00C0,GetSpellTargetUnit())
endif
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OII[0])
endfunction
function I1O11OII takes nothing returns boolean
return(GetSpellAbilityId()=='Ara2')
endfunction
function I1O11OOI takes nothing returns boolean
return(IIOIOO[(1+GetPlayerId(GetTriggerPlayer()))]==false)
endfunction
function I1O11O1I takes nothing returns nothing
if(I1O11OOI())then
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set IIOIOO[(1+GetPlayerId(GetTriggerPlayer()))]=true
else
set IIOIOO[(1+GetPlayerId(GetTriggerPlayer()))]=false
endif
endfunction
function I1O111OI takes nothing returns boolean
return(GetSpellAbilityId()!='Ara2')and(IIOIOO[(1+GetPlayerId(GetTriggerPlayer()))])and(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())>=90.)
endfunction
function Trig_ITEM_16_cast_Func002002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_ITEM_16_cast_Func002002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_ITEM_16_cast_Func002002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_ITEM_16_cast_Func002002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function I1O1111I takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function I11IIIII takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),250.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\Orc\\LightningBolt\\LightningBoltMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function I11IIIOI takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set OO1II=OOI1OIO(348.,I1OII[0],Condition(function I1O1111I))
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())-90.))
call ForGroupBJ(OO1II,function I11IIIII)
call RemoveLocation(I1OII[0])
call DestroyGroup(OO1II)
endfunction
function daoxuethreef1 takes nothing returns boolean
return(GetLearnedSkill()=='A0JP')
endfunction
function daoxuethreef2 takes nothing returns nothing
call EnableTrigger(daoxuethreet2)
endfunction
function daoxuethreef3 takes nothing returns boolean
return (GetUnitAbilityLevel(GetTriggerUnit(),'A0JP')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))
endfunction
function daoxuethreef5 takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),100.*GetUnitAbilityLevelSwapped('A0JP',GetTriggerUnit()),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\Orc\\LightningBolt\\LightningBoltMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function daoxuethreef4 takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set OO1II=OOI1OIO(800.,I1OII[0],Condition(function I1O1111I))
call ForGroupBJ(OO1II,function daoxuethreef5)
call RemoveLocation(I1OII[0])
call DestroyGroup(OO1II)
endfunction
function I11IIOII takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I009')
endfunction
function I11IIOOI takes nothing returns nothing
set IIOIOO[(1+GetPlayerId(GetTriggerPlayer()))]=false
endfunction
function I11II1II takes nothing returns boolean
return GetSpellAbilityId()=='AIxs'
endfunction
function I11II1OI takes nothing returns nothing
local unit u=GetTriggerUnit()
if GetUnitAbilityLevel(u,'B01N')>0 then
call UnitRemoveAbility(u,'A0LL')
endif
if GetUnitAbilityLevel(u,'Bapl')>0 then
call UnitRemoveAbility(u,'Bapl')
endif
if GetUnitAbilityLevel(u,'Aspb')>0 then
call UnitRemoveAbility(u,'Aspb')
call UnitRemoveAbility(u,'B03E')
endif
if GetUnitAbilityLevel(u,'AItj')>0 then
call UnitRemoveAbility(u,'AItj')
endif
set u=null
endfunction
function I11IOIII takes nothing returns boolean
return(GetSpellAbilityId()=='AIhb')
endfunction
function I11IOIOI takes nothing returns nothing
call SetWidgetLife(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())*.33)))
endfunction
function I11IOOII takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())=='ankh'
endfunction
function I11IOOOI takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A0A5')
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0A5',2)
call IssueImmediateOrderById(bj_lastCreatedUnit,$D013D)
call RemoveLocation(I1OII[0])
endfunction
function I11IO1II takes nothing returns boolean
return(GetSpellAbilityId()=='Awrg')
endfunction
function I11IO1OI takes nothing returns nothing
call UnitResetCooldown(GetTriggerUnit())
endfunction
function I11I1OOI takes nothing returns boolean
return(GetPlayerSlotState(Player(-1+(bj_forLoopAIndex)))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function I11I1O1I takes nothing returns boolean
return(I11I1OOI())
endfunction
function I11I11II takes nothing returns boolean
return(GetPlayerSlotState(Player(-1+(bj_forLoopAIndex)))==PLAYER_SLOT_STATE_EMPTY)
endfunction
function I11I11OI takes nothing returns nothing
call CreateMultiboardBJ(5,$D,"信長之絕望")
call MultiboardSetItemStyleBJ(bj_lastCreatedMultiboard,0,0,true,false)
call MultiboardSetItemWidthBJ(bj_lastCreatedMultiboard,1,0,5.)
call MultiboardSetItemWidthBJ(bj_lastCreatedMultiboard,2,0,4.)
call MultiboardSetItemWidthBJ(bj_lastCreatedMultiboard,3,0,3.)
call MultiboardSetItemWidthBJ(bj_lastCreatedMultiboard,4,0,3.)
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,1,"|cffffffa0玩者|r")
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,2,1,"|cffffffa0斬殺敵將|r")
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,3,1,"|cffffffa0斬殺敵兵|r")
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,4,1,"|cffffffa0復活時間|r")
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,5,1,"|cffffffa0家中排行|r")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$C
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(I11I1O1I())then
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,(bj_forLoopAIndex+1),GetPlayerName(Player(-1+(bj_forLoopAIndex))))
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,2,(bj_forLoopAIndex+1),"0")
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,3,(bj_forLoopAIndex+1),"0")
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,4,(bj_forLoopAIndex+1),"0")
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,5,(bj_forLoopAIndex+1),"足輕大將")
endif
if(I11I11II())then
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,(bj_forLoopAIndex+1),"未出戰")
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call MultiboardDisplay(bj_lastCreatedMultiboard,true)
call MultiboardMinimize(bj_lastCreatedMultiboard,false)
endfunction
function I11OIIII takes nothing returns boolean
return(bj_forLoopAIndex!=bj_forLoopBIndex)and(GetTriggerPlayer()==Player(-1+(bj_forLoopAIndex)))and(GetPlayerSlotState(Player(-1+(bj_forLoopBIndex)))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function I11OIIOI takes nothing returns boolean
return(GetTriggerPlayer()==Player(-1+(bj_forLoopAIndex)))and(bj_forLoopAIndex!=bj_forLoopBIndex)
endfunction
function I11OII1I takes nothing returns nothing
local integer loopindex=0
local integer playerplaying=0
local integer playerteam=1
local real sharegold=GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
local real sharelumber=GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,1,((1+GetPlayerId(GetTriggerPlayer()))+1),"切腹")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+"已經離開遊戲"))
if IsPlayerAlly(GetTriggerPlayer(),Player(0)) then
set playerteam=0
endif
loop
if GetPlayerSlotState(Player(loopindex+playerteam*5))==PLAYER_SLOT_STATE_PLAYING then
set playerplaying=playerplaying+1
endif
set loopindex=loopindex+1
exitwhen loopindex>4
endloop
set loopindex=0
loop
if GetPlayerSlotState(Player(loopindex+playerteam*5))==PLAYER_SLOT_STATE_PLAYING then
call AdjustPlayerStateBJ(R2I(sharegold/playerplaying)+2500,Player(loopindex+playerteam*5),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(R2I(sharelumber/playerplaying)+150,Player(loopindex+playerteam*5),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTimedTextToPlayer(Player(loopindex+playerteam*5),0,0,10.,"|CFF339900隊友離開，獲得安撫金")
call DisplayTimedTextToPlayer(Player(loopindex+playerteam*5),0,0,10.,"|CFF339900金錢 "+I2S(R2I(sharegold/playerplaying)+500))
call DisplayTimedTextToPlayer(Player(loopindex+playerteam*5),0,0,10.,"|CFF339900兵力 "+I2S(R2I(sharelumber/playerplaying)+50))
endif
set loopindex=loopindex+1
exitwhen loopindex>4
endloop
if playerplaying==0 then
set playerplaying=playerplaying+1
endif
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=5
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
if(I11OIIII())then
call SetPlayerAllianceBJ(Player(-1+(bj_forLoopAIndex)),ALLIANCE_SHARED_CONTROL,true,Player(-1+(bj_forLoopBIndex)))
endif
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=6
set bj_forLoopAIndexEnd=$A
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set bj_forLoopBIndex=6
set bj_forLoopBIndexEnd=$A
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
if(I11OIIOI())then
call SetPlayerAllianceBJ(Player(-1+(bj_forLoopAIndex)),ALLIANCE_SHARED_CONTROL,true,Player(-1+(bj_forLoopBIndex)))
endif
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function I11OIOOI takes nothing returns boolean
return((GetKillingUnit()!=null)and(GetOwningPlayer(GetTriggerUnit())!=Player($F))and(GetTriggerUnit()!=GetKillingUnit())and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitIllusion(GetTriggerUnit())==false))!=null
endfunction
function I11OIO1I takes nothing returns boolean
return(OII[III]>=50)
endfunction
function I11OI1II takes nothing returns boolean
return(OII[III]>='n')
endfunction
function I11OI1OI takes nothing returns boolean
return(OII[III]>=$B4)
endfunction
function I11OI11I takes nothing returns boolean
return(OII[III]>=260)
endfunction
function I11OOIII takes nothing returns boolean
return(IOI[III]==false)
endfunction
function I11OOIOI takes nothing returns boolean
return(III==(1+GetPlayerId(GetOwningPlayer(GetDyingUnit()))))or(III==$D)or(III==16)
endfunction
function I11OOI1I takes nothing returns boolean
return(I11OOIOI())
endfunction
function I11OOOII takes nothing returns boolean
return(IOI[III]==false)
endfunction
function I11OOOOI takes nothing returns boolean
return(III==(1+GetPlayerId(GetOwningPlayer(GetDyingUnit()))))or(III==$D)or(III==16)
endfunction
function I11OOO1I takes nothing returns boolean
return(I11OOOOI())
endfunction
function I11OO1II takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function I11OO1OI takes nothing returns nothing
set III=(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))
if(I11OO1II())then
if(I11OOO1I())then
else
if(I11OOOII())then
set IOI[III]=true
set I1I[III]=1
else
set I1I[III]=(I1I[III]+1)
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,2,(III+1),(("|cff80ff80"+I2S(I1I[III]))+""))
endif
endif
else
if(I11OOI1I())then
else
if(I11OOIII())then
set IOI[III]=true
set OII[III]=1
else
set OII[III]=(OII[III]+1)
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,3,(III+1),(("|cff80ff80"+I2S(OII[III]))+""))
if(I11OI11I())then
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,5,(III+1),"宿老")
else
if(I11OI1OI())then
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,5,(III+1),"中老")
else
if(I11OI1II())then
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,5,(III+1),"家老")
else
if(I11OIO1I())then
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,5,(III+1),"侍大將")
else
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,5,(III+1),"足輕大將")
endif
endif
endif
endif
endif
endif
endif
endfunction
function I11O1III takes nothing returns boolean
return((GetTriggerUnit()==O1I1II)and(IsUnitType(GetKillingUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function I11O1IOI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='O006')or(GetUnitTypeId(GetTriggerUnit())=='O01R')
endfunction
function I11O1I1I takes nothing returns boolean
return(I11O1IOI())
endfunction
function I11O1OII takes nothing returns boolean
return(GetUnitTypeId(GetKillingUnit())=='O01Y' or GetUnitAbilityLevel(GetKillingUnit(),'A0BU')==1 or GetPlayerId(GetOwningPlayer(GetKillingUnit()))==killaddagi)
endfunction                                       
function I11O1OOI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Hdgo')or(GetUnitTypeId(GetTriggerUnit())=='H01O')
endfunction
function I11O1O1I takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=20)and(I11O1OOI())
endfunction
function incagi takes nothing returns nothing
call ModifyHeroStat(1,GetEnumUnit(),0,5)
endfunction
function incstr takes nothing returns nothing
if GetUnitAbilityLevel(IOO1OI,'AUts')==2 then
call ModifyHeroStat(0,GetEnumUnit(),0,10)
else
call ModifyHeroStat(0,GetEnumUnit(),0,5)
endif
endfunction
function I11O11II takes nothing returns nothing
if(I11O1III())then
call UnitDamageTargetBJ(O1I1II,OOO1I[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))],1000000000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
call CreateTextTagUnitBJ("最終平手！",O1I1II,0,20.,100.,'d',100.,0)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ("origin",GetKillingUnit(),"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,150.,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,2.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
endif
if(I11O1O1I())then
call KillUnit(OIO11I)
call RemoveUnit(OIO11I)
else
if(I11O1OII())then
call AddSpecialEffectTargetUnitBJ("weapon",GetKillingUnit(),"Abilities\\Spells\\Human\\SpellSteal\\SpellStealTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if GetUnitTypeId(GetKillingUnit())=='O01Y' then
call ModifyHeroStat(1,GetKillingUnit(),0,5)
set killaddagi=GetPlayerId(GetOwningPlayer(GetKillingUnit()))
else
call ForGroupBJ(GetRandomSubGroup(1,GetUnitsOfPlayerMatching(GetOwningPlayer(GetKillingUnit()), Condition(function repick3))), function incagi)
endif
else
if GetPlayerId(GetOwningPlayer(GetKillingUnit()))==killaddstr then
call ForGroupBJ(GetRandomSubGroup(1,GetUnitsOfPlayerMatching(GetOwningPlayer(GetKillingUnit()), Condition(function repick3))), function incstr)
else
if(I11O1I1I())then
set IIIIOI[0]=1
set II1OIO=(II1OIO/2)
loop
exitwhen IIIIOI[0]==4
call SetUnitAbilityLevel(GetTriggerUnit(),II1OOO[IIIIOI[0]],OO1IOOO(II1OIO,IIIIOI[0])+1)
set IIIIOI[0]=IIIIOI[0]+1
endloop
endif
endif
endif
endif
endfunction
function addagibug1 takes nothing returns boolean
return (GetUnitTypeId(GetTriggerUnit())=='O01Y')
endfunction 
function addagibug2 takes nothing returns nothing
set killaddagi=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
endfunction
function jiabig1 takes nothing returns boolean
return GetLearnedSkill()=='A0H6'
endfunction
function jiabig2 takes nothing returns nothing
set jiabigplayer=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
set jiabiglevel=GetLearnedSkillLevel()
call TriggerExecute(jiabigperiod)
endfunction
function jiabig4 takes nothing returns nothing
if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE) then
call SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+10+(GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)-GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE))*.04*jiabiglevel)
endif
endfunction
function jiabig3 takes nothing returns nothing
call ForGroupBJ(GetRandomSubGroup(1, GetUnitsOfPlayerMatching(GetTriggerPlayer(), Condition(function repick3))), function jiabig4)
call TriggerSleepAction(0.25-jiabiglevel*0.5)
if jiabigplayer!=100 then
call TriggerExecute(jiabigperiod)
endif
endfunction 
function I11O111I takes nothing returns boolean
return(OII1II>=6)and(GetUnitTypeId(O11IO)=='Obla')
endfunction
function I111IIII takes nothing returns boolean
return(OII1II>=6)and(GetUnitTypeId(O11IO)!='Obla')and(IsUnitAlly(O11IO,Player(0)))
endfunction
function I111IIOI takes nothing returns boolean
return(GetUnitTypeId(O11IO)=='Hdgo')or(GetUnitTypeId(O11IO)=='H01O')
endfunction
function I111II1I takes nothing returns boolean
return(I111IIOI())
endfunction
function I111IOII takes nothing returns boolean
return(GetUnitLevel(O11IO)>=20)
endfunction
function I111IOOI takes nothing returns nothing
local integer it=LoadInteger(OOOII,GetHandleId(O11IO),$C)
local integer i=LoadInteger(OOOII,GetHandleId(O11IO),$D)
local integer I111IO1I=LoadInteger(OOOII,GetHandleId(O11IO),$E)
if it!=0 then
call UnitAddItemToSlotById(O11IO,it,I111IO1I)
call SetItemCharges(UnitItemInSlot(O11IO,I111IO1I),i)
call SaveInteger(OOOII,GetHandleId(O11IO),$C,0)
call SaveInteger(OOOII,GetHandleId(O11IO),$D,0)
call SaveInteger(OOOII,GetHandleId(O11IO),$E,0)
endif
if(I11O111I())then
call UnitAddAbility(O11IO,'AId5')
call UnitMakeAbilityPermanent(O11IO,true,'AId5')
call UnitAddAbility(O11IO,'A0K6')
call UnitMakeAbilityPermanent(O11IO,true,'A0K6')
call UnitAddAbility(O11IO,'AItg')
call UnitMakeAbilityPermanent(O11IO,true,'AItg')
call UnitAddAbility(O11IO,'A0LP')
call UnitMakeAbilityPermanent(O11IO,true,'A0LP')
call UnitAddAbility(O11IO,'A0LT')
call UnitMakeAbilityPermanent(O11IO,true,'A0LT')
call SetUnitAbilityLevelSwapped('AId5',O11IO,2)
call SetUnitAbilityLevelSwapped('A0K6',O11IO,2)
call SetUnitAbilityLevelSwapped('AItg',O11IO,2)
call SetUnitAbilityLevelSwapped('A0LQ',O11IO,2)
call SetUnitAbilityLevelSwapped('A0LT',O11IO,2)
endif
if(I111IIII())then
call UnitAddAbility(O11IO,'AId5')
call UnitMakeAbilityPermanent(O11IO,true,'AId5')
call UnitAddAbility(O11IO,'A0K6')
call UnitMakeAbilityPermanent(O11IO,true,'A0K6')
call UnitAddAbility(O11IO,'AItg')
call UnitMakeAbilityPermanent(O11IO,true,'AItg')
call UnitAddAbility(O11IO,'A0LP')
call UnitMakeAbilityPermanent(O11IO,true,'A0LP')
call UnitAddAbility(O11IO,'A0LT')
call UnitMakeAbilityPermanent(O11IO,true,'A0LT')
call SetUnitAbilityLevelSwapped('AId5',O11IO,1)
call SetUnitAbilityLevelSwapped('A0K6',O11IO,1)
call SetUnitAbilityLevelSwapped('AItg',O11IO,1)
call SetUnitAbilityLevelSwapped('A0LQ',O11IO,1)
call SetUnitAbilityLevelSwapped('A0LT',O11IO,1)
endif
if(I111IOII())then
if(I111II1I())then
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(O11IO),OIOII[$96],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'AUau')
call UnitAddAbility(bj_lastCreatedUnit,'ACac')
set OIO11I=bj_lastCreatedUnit
call SetUnitAbilityLevelSwapped('AUau',OIO11I,GetUnitAbilityLevelSwapped('AUau',O11IO))
call SetUnitAbilityLevelSwapped('ACac',OIO11I,GetUnitAbilityLevelSwapped('ACac',O11IO))
endif
endif
endfunction
function I111I1OI takes nothing returns boolean
return((GetOwningPlayer(GetTriggerUnit())!=Player($F))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitIllusion(GetTriggerUnit())!=true)and(GetOwningPlayer(GetTriggerUnit())!=Player($A))and(GetOwningPlayer(GetTriggerUnit())!=Player($B)))!=null
endfunction
function I111I11I takes nothing returns boolean
return(OOOIOI)
endfunction
function I111OIII takes nothing returns boolean
return(GetKillingUnit()==null)or(GetUnitName(GetKillingUnit())=="")
endfunction
function I111OIOI takes nothing returns boolean
return(I111OIII())
endfunction
function I111OI1I takes nothing returns boolean
return(GetUnitTypeId(GetKillingUnit())=='e01Z')or(GetUnitTypeId(GetKillingUnit())=='e00P')or(GetUnitTypeId(GetKillingUnit())=='e00R')or(GetUnitTypeId(GetKillingUnit())=='e027')or(GetUnitTypeId(GetKillingUnit())=='e02B')or(GetUnitTypeId(GetKillingUnit())=='e02G')
endfunction
function I111OOII takes nothing returns boolean
return(I111OI1I())
endfunction
function I111OOOI takes nothing returns nothing
call TriggerExecute(I1OIO1I)
if(I111I11I())then
set II=(GetHeroLevel(GetTriggerUnit())*1)
else
set II=(GetHeroLevel(GetTriggerUnit())*2)
endif
set OO[(1+GetPlayerId(GetTriggerPlayer()))]=II
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,4,((1+GetPlayerId(GetTriggerPlayer()))+1),(("|cff80ff80"+I2S(OO[(1+GetPlayerId(GetTriggerPlayer()))]))+"|R"))
call AdjustPlayerStateBJ(-300,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
if(I111OOII())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(("|cff0000ff"+(OIOOO[GetUnitUserData(GetKillingUnit())]+"|r"))+("擊敗"+("|cffff0000"+GetUnitName(GetTriggerUnit())))))
else
if(I111OIOI())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,("|cff0000ff某人|r"+("擊敗"+("|cffff0000"+GetUnitName(GetTriggerUnit())))))
else
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(("|cff0000ff"+(GetUnitName(GetKillingUnit())+"|r"))+("擊敗"+("|cffff0000"+GetUnitName(GetTriggerUnit())))))
endif
endif
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(("|cffff0000"+(GetUnitName(GetTriggerUnit())+"|r"))+(("靜養"+I2S(II))+"秒")))
if IsUnitAlly(GetTriggerUnit(),Player(0)) then
set teamdie1=teamdie1+1
else
set teamdie2=teamdie2+1
endif
call StartTimerBJ(OOOOI[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))],true,1.)
endfunction
function I111O1II takes nothing returns boolean
return(IsUnitAlly(OOO1I[IIIIOI[0]],Player($A)))
endfunction
function I111O1OI takes nothing returns boolean
return(OO[IIIIOI[0]]==0)
endfunction
function I111O11I takes nothing returns nothing
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetExpiredTimer()),0)
set OO[IIIIOI[0]]=(OO[IIIIOI[0]]-1)
call MultiboardSetItemValueBJ(bj_lastCreatedMultiboard,4,(IIIIOI[0]+1),(("|cff80ff80"+I2S(OO[IIIIOI[0]]))+"|R"))
if(I111O1OI())then
set O11IO=OOO1I[IIIIOI[0]]
if(I111O1II())then
call ReviveHeroLoc(OOO1I[IIIIOI[0]],OIOII[65],true)
else
call ReviveHeroLoc(OOO1I[IIIIOI[0]],OIOII[66],true)
endif
call TriggerExecute(I1OI1II)
set I1OII[0]=GetUnitLoc(OOO1I[IIIIOI[0]])
call PanCameraToTimedLocForPlayer(Player(-1+(IIIIOI[0])),I1OII[0],2.)
call RemoveLocation(I1OII[0])
call PauseTimerBJ(true,OOOOI[IIIIOI[0]])
endif
endfunction
function I1111IOI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFF00EE00強盜之王:哼...就算你擊敗了我..但是我的其他部落的弟兄將會替我報復的.......")
call TriggerSleepAction(60.)
set bj_forLoopAIndex=77
set bj_forLoopAIndexEnd=79
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=7
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call CreateNUnitsAtLoc(1,'n01E',Player($C),OIOII[bj_forLoopAIndex],bj_UNIT_FACING)
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFF00EE00注意!!強盜各個部落已經集結了大軍，似乎是來為強盜之王復仇的....")
call TriggerSleepAction(150.)
set bj_forLoopAIndex=77
set bj_forLoopAIndexEnd=79
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=7
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call CreateNUnitsAtLoc(1,'n01F',Player($C),OIOII[bj_forLoopAIndex],bj_UNIT_FACING)
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFF00EE00注意!!強盜各個部落已經集結了勢力更大的軍隊，似乎是來為強盜之王再次復仇的....")
call TriggerSleepAction(300.)
set bj_forLoopAIndex=71
set bj_forLoopAIndexEnd=76
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=7
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call CreateNUnitsAtLoc(1,'n01H',Player($C),OIOII[bj_forLoopAIndex],bj_UNIT_FACING)
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|CFF00EE00注意!!強盜部落已經惱怒，已經動員了最精銳的部隊做最後一次的反攻!!!")
endfunction
function I1111OOI takes nothing returns nothing
call SetPlayerTechMaxAllowedSwap(IOO[IIIIOI[0]],0,GetEnumPlayer())
endfunction
function I1111O1I takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_Nuclear_Func013002003001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='ntn2')
endfunction
function Trig_Nuclear_Func013002003002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='n008')
endfunction
function Trig_Nuclear_Func013002003002002 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Nuclear_Func013002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitTypeId(GetFilterUnit())!='n008'),(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41))
endfunction
function I111111I takes nothing returns boolean
return GetBooleanAnd((GetUnitTypeId(GetFilterUnit())!='ntn2'),(GetBooleanAnd((GetUnitTypeId(GetFilterUnit())!='n008'),(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41))))
endfunction
function OIIIIIII takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call UnitRemoveBuffsBJ(2,GetEnumUnit())
call UnitDamageTargetBJ(O11OOI,GetEnumUnit(),1000000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
endfunction
function OIIIIIOI takes nothing returns nothing
set IO1OO1O=true
set I1OII[0]=GetUnitLoc(O11OOI)
call PlaySoundBJ(IIIIO1I)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$C
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set O1IO1I[bj_forLoopAIndex]=500.
set I1OII[1]=OOIOO1O(I1OII[0],1000.,(30.*I2R(bj_forLoopAIndex)))
call AddSpecialEffectLocBJ(I1OII[1],"war3mapImported\\newdirtexnofire.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call PauseTimerBJ(true,O11OII)
call StartTimerBJ(O1IOOI,true,.2)
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(O11OOI),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'AHfs')
call SetUnitUserData(bj_lastCreatedUnit,'d')
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0208,I1OII[0])
call UnitApplyTimedLifeBJ(10.,'BTLF',bj_lastCreatedUnit)
call TerrainDeformationRippleBJ(3.,false,I1OII[0],2000.,3000.,70.,.08,200.)
set OO1II=OOI1OIO(2000.,I1OII[0],Condition(function I111111I))
call ForGroupBJ(OO1II,function OIIIIIII)
call DestroyGroup(OO1II)
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=5
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call CreateNUnitsAtLoc(1,'e00Q',GetOwningPlayer(O11OOI),I1OII[0],bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,(30.*I2R(bj_forLoopBIndex)))
call UnitApplyTimedLifeBJ(6.,'BTLF',bj_lastCreatedUnit)
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],1000.,(72.*I2R(bj_forLoopAIndex)))
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=5
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call CreateNUnitsAtLoc(1,'e00Q',GetOwningPlayer(O11OOI),I1OII[1],bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,(30.*I2R(bj_forLoopBIndex)))
call UnitApplyTimedLifeBJ(6.,'BTLF',bj_lastCreatedUnit)
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call KillUnit(O11OOI)
call RemoveLocation(I1OII[0])
endfunction
function OIIIIOII takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,O11OOI)>.41)
endfunction
function OIIIIOOI takes nothing returns nothing
if(OIIIIOII())then
set I1OII[0]=GetUnitLoc(O11OOI)
call StopSoundBJ(IIIIOOI,false)
call PlaySoundBJ(IIIIOOI)
call PingMinimapLocForForceEx(bj_FORCE_ALL_PLAYERS,I1OII[0],1,0,'d','d','d')
call RemoveLocation(I1OII[0])
endif
endfunction
function OIIII1II takes nothing returns nothing
local real x=(((I1IIIIO)*1.)+((30*I1IIOIO)*1.)*Cos(((I1III1O)*1.)*3.14159/180.))
local real y=(((I1IIIOO)*1.)+((30*I1IIOIO)*1.)*Sin(((I1III1O)*1.)*3.14159/180.))
local unit e=CreateUnit(I1IIO1O,'h037',x,y,0)
call SetUnitPathing(e,false)
set I1IIOIO=I1IIOIO+1
if I1IIOOO==1 then
call UnitAddAbility(e,'A0DU')
else
call UnitAddAbility(e,'A0DW')
endif
if I1IIOIO>=99 then
call PauseTimer(IO1111O)
endif
set e=null
endfunction
function OIIII1OI takes nothing returns boolean
return GetSpellAbilityId()=='A0DV'
endfunction
function OIIII11I takes nothing returns nothing
local unit u=GetTriggerUnit()
local real O1IIO1O=OO1IIOO(GetUnitX(u),GetUnitY(u),GetSpellTargetX(),GetSpellTargetY())
local real x=(((GetUnitX(u))*1.)+((50)*1.)*Cos(((O1IIO1O)*1.)*3.14159/180.))
local real y=(((GetUnitY(u))*1.)+((50)*1.)*Sin(((O1IIO1O)*1.)*3.14159/180.))
set I1IIIIO=x
set I1IIIOO=y
set I1IIOIO=0
set I1IIOOO=GetUnitAbilityLevel(u,'A0DV')
set I1III1O=O1IIO1O
set I1IIO1O=GetTriggerPlayer()
call TimerStart(IO1111O,.03,true,function OIIII1II)
set u=null
endfunction
function OIIIOIII takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('ANt2',GetTriggerUnit())>0 or GetUnitAbilityLevelSwapped('A133',GetTriggerUnit())>0)
endfunction
function Trig_Returnofflame_Func008002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Returnofflame_Func008002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Returnofflame_Func008002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_Returnofflame_Func008002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function OIIIOIOI takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true) and SquareRoot((GetUnitX(GetTriggerUnit())-GetUnitX(GetFilterUnit()))*(GetUnitX(GetTriggerUnit())-GetUnitX(GetFilterUnit()))+(GetUnitY(GetTriggerUnit())-GetUnitY(GetFilterUnit()))*(GetUnitY(GetTriggerUnit())-GetUnitY(GetFilterUnit())))<2000,(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function OIIIOI1I takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),OIO1O[0],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function OIIIOOII takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
if I1OII[0]==null then
set I1OII[0]=GetUnitLoc(GetSpellTargetUnit())
elseif I1OII[0]==null then
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
endif
set OIO1O[0]=(I2R(GetHeroStatBJ(2,GetTriggerUnit(),true))*5.)
set OO1II=OOI1OIO(800.,I1OII[0],Condition(function OIIIOIOI))
call ForGroupBJ(OO1II,function OIIIOI1I)
call RemoveLocation(I1OII[0])
call DestroyGroup(OO1II)
endfunction
function OIIIOO1I takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='ANt2')
endfunction
function OIIIO1II takes nothing returns nothing
call ModifyHeroStat(2,GetTriggerUnit(),0,$F)
endfunction
function OIIIO11I takes nothing returns boolean
return(GetSpellAbilityId()=='A0DB')
endfunction
function OIII1III takes nothing returns nothing
set O1IOII=GetTriggerUnit()
call AddSpecialEffectTargetUnitBJ("hand left",GetTriggerUnit(),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ("hand right",GetTriggerUnit(),"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call StartTimerBJ(O1II1I,true,.25)
endfunction
function OIII1I1I takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,O1IOII)>.41)
endfunction
function OIII1OII takes nothing returns nothing
if(OIII1I1I())then
call AddSpecialEffectTargetUnitBJ("origin",O1IOII,"Abilities\\Spells\\Demon\\DemonBoltImpact\\DemonBoltImpact.mdl")
call DestroyEffect(bj_lastCreatedEffect)
else
call PauseTimerBJ(true,O1II1I)
endif
endfunction
function OIII1O1I takes nothing returns boolean
return(GetSpellAbilityId()=='A0DB')
endfunction
function OIII11II takes nothing returns nothing
call PauseTimerBJ(true,O1II1I)
endfunction
function OIII111I takes nothing returns boolean
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,IIO1O[K])or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(I1IIO[K],F,II1IO[K],true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endif
set F=null
return false
endfunction
function OIIOIIII takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real x2=GetUnitX(I1I1O[K])
local real x3=GetUnitX(I1IOO[K])
local real y2=GetUnitY(I1I1O[K])
local real y3=GetUnitY(I1IOO[K])
local real O1II11O=OO1II1O(x2,y2,x3,y3)
local real O1IIO1O=OO1IIOO(x2,y2,x3,y3)
local real x=(((x2)*1.)+((33)*1.)*Cos(((O1IIO1O)*1.)*3.14159/180.))
local real y=(((y2)*1.)+((33)*1.)*Sin(((O1IIO1O)*1.)*3.14159/180.))
local unit e
local integer I=1
call SetUnitPosition(I1I1O[K],x,y)
call SetUnitPosition(I1OIO[K],x,y)
if O1II11O<=$80 then
call KillUnit(I1I1O[K])
call KillUnit(I1OIO[K])
loop
exitwhen I==2
set e=CreateUnit(IIO1O[K],'e00J',x3,y3,0)
call UnitApplyTimedLife(e,'BTLF',3.)
call SetUnitTimeScale(e,.33)
set e=null
set e=CreateUnit(IIO1O[K],'e00U',x3,y3,0)
call UnitApplyTimedLife(e,'BTLF',3.)
call SetUnitTimeScale(e,.33)
set e=null
set e=CreateUnit(IIO1O[K],'e010',x3,y3,0)
call UnitApplyTimedLife(e,'BTLF',3.)
call SetUnitTimeScale(e,.33)
set e=null
set I=I+1
endloop
set O1IO1I[GetPlayerId(GetOwningPlayer(I1IOO[K]))+1]=500.
set O1IO1I[GetPlayerId(GetOwningPlayer(I1IIO[K]))+1]=500.
call TimerStart(O1IOOI,.1,true,null)
call GroupEnumUnitsInRange(OII1O,x3,y3,1200,Condition(function OIII111I))
call OO1OIOO(K)
endif
endfunction
function OIIOIIOI takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit e1=CreateUnit(GetTriggerPlayer(),'e00A',GetUnitX(u),GetUnitY(u),GetUnitFacing(u))
local unit e2=CreateUnit(GetTriggerPlayer(),'e011',GetUnitX(u),GetUnitY(u),GetUnitFacing(u))
local unit t=GetSpellTargetUnit()
local real OIIOII1I=GetUnitState(u,UNIT_STATE_MANA)*2
call SetUnitState(u,UNIT_STATE_MANA,0)
set II1IO[K]=OIIOII1I+1000
set IIO1O[K]=GetTriggerPlayer()
set I1IIO[K]=u
set I1I1O[K]=e1
set I1OIO[K]=e2
set I1IOO[K]=t
call TimerStart(IO1OO[K],.005,true,function OIIOIIII)
call PauseTimer(O1II1I)
set t=null
set e1=null
set e2=null
set u=null
endfunction
function OIIOIOII takes nothing returns boolean
if GetSpellAbilityId()=='A0DB' then
call OIIOIIOI()
endif
return false
endfunction
function OIIOIO1I takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
if fakebigdam>10 then
call UnitDamageTarget(fakebigtrig,fakebigtarg,GetUnitState(fakebigtarg,UNIT_STATE_LIFE)*0.005+5.+5.*GetUnitAbilityLevel(fakebigtrig,'A0FC'),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
set fakebigdam=0
endif
set fakebigdam=fakebigdam+1
set O1O1I[K]=O1O1I[K]+1
if O1O1I[K]==50 then
set O1O1I[K]=0
if (O1OOI[K]-O1OII[K])>fakebigtime then
call IssuePointOrderById(I1IIO[K],$D0012,O11OI[K],IIIOO[K])
call SetUnitState(I1IIO[K],UNIT_STATE_MANA,0)
endif
endif
if (O1OOI[K]-O1OII[K])>fakebigtime then
call SelectUnit(I1IIO[K],false)
endif
set O1OII[K]=O1OII[K]+1
if O1OII[K]==O1OOI[K]or GetWidgetLife(I1IIO[K])<.41 then
set O1OII[K]=0
set O1OOI[K]=0
call OO1OIOO(K)
endif
endfunction
function OIIOI1II takes nothing returns boolean
return GetSpellAbilityId()=='A0FC'
endfunction
function OIIOI1OI takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit t=GetSpellTargetUnit()
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',0,0,0)
call UnitAddAbility(e,'ANdo')
call SetUnitAbilityLevel(e,'ANdo',GetUnitAbilityLevel(u,'A0FC'))
call UnitApplyTimedLife(e,'BTLF',5.)
call IssueTargetOrderById(e,$D0267,t)
set O1OII[K]=0
set O1OOI[K]=$3E8+$3E8*GetUnitAbilityLevel(u,'A0FC')
set O1O1I[K]=0
set I1IIO[K]=t
set fakebigtrig=u
set fakebigtarg=t
set fakebigtime=GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())
if fakebigtime>O1OOI[K] then
call SetUnitState(t,UNIT_STATE_MANA,GetUnitState(t,UNIT_STATE_MANA)-O1OOI[K])
else
call SetUnitState(t,UNIT_STATE_MANA,0)
endif
if IsUnitAlly(t,Player($B))then
set O11OI[K]=7216
set IIIOO[K]=-7280
else
set O11OI[K]=-7152
set IIIOO[K]=7200
endif
call IssuePointOrderById(t,$D0012,O11OI[K],IIIOO[K])
call TimerStart(IO1OO[K],.01,true,function OIIOIO1I)
set t=null
set e=null
set u=null
endfunction
function OIIOOIII takes nothing returns boolean
return(GetLearnedSkill()=='ACba')
endfunction
function OIIOOIOI takes nothing returns nothing
if GetUnitAbilityLevel(GetTriggerUnit(),'ACba')==1 then
call UnitAddAbility(GetTriggerUnit(),'A0YB')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A0YB')
elseif GetUnitAbilityLevel(GetTriggerUnit(),'ACba')==2 then
call UnitAddAbility(GetTriggerUnit(),'A0YC')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A0YC')
elseif GetUnitAbilityLevel(GetTriggerUnit(),'ACba')==3 then
call UnitAddAbility(GetTriggerUnit(),'A0YD')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A0YD')
else
call UnitAddAbility(GetTriggerUnit(),'A0YE')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A0YE')
endif
call EnableTrigger(I1O1OOI)
endfunction
function manadamage takes nothing returns boolean
if not(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(manadamu)) or IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)) then
call UnitDamageTargetBJ(manadamu,GetFilterUnit(),GetUnitAbilityLevel(manadamu,'BHab')*.1*GetUnitState(manadamu,UNIT_STATE_MANA),ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)
endif
return false
endfunction
function OIIOOOII takes nothing returns boolean
local group manadam=CreateGroup()
if GetUnitAbilityLevel(GetTriggerUnit(),'BHab')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_MANA,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_MANA)+1000)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",GetTriggerUnit(),"origin"))
call SetUnitState(GetTriggerUnit(),UNIT_STATE_MANA,GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)+25*GetUnitAbilityLevel(GetTriggerUnit(),'BHab'))
if GetRandomInt(1,2)<2 then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_MANA,GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)+.1*GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_MANA))
endif
set manadamu=GetTriggerUnit()
call GroupEnumUnitsInRange(manadam,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),800,Condition(function manadamage))
endif
call DestroyGroup(manadam)
set manadam=null
return false
endfunction
function OIIOOO1I takes nothing returns boolean 
return(GetSpellAbilityId()=='A03G')and(GetHeroLevel(GetTriggerUnit())>=$A)
endfunction
function OIIOO1II takes nothing returns boolean
return(IIIIOI[0]==1)
endfunction
function OIIOO1OI takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetSpellTargetUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],128.,(GetUnitFacing(GetTriggerUnit())+(90.*I2R(bj_forLoopAIndex))))
call CreateNUnitsAtLoc(1,'nenc',GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(15.,'BTLF',bj_lastCreatedUnit)
call IssueTargetOrderById(bj_lastCreatedUnit,$D000F,GetSpellTargetUnit())
call SaveUnitHandle(OOOII,GetHandleId(bj_lastCreatedUnit),0,GetSpellTargetUnit())
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
call EnableTrigger(I1O11II)
call EnableTrigger(I1O11OI)
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),0)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),0,IIIIOI[0]+1)
call TriggerSleepAction(16.)
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),0)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),0,IIIIOI[0]-1)
if(OIIOO1II())then
call DisableTrigger(I1O11II)
call DisableTrigger(I1O11OI)
endif
endfunction
function OIIO1III takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nenc')
endfunction
function OIIO1IOI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,O11IO)>=1.)
endfunction
function OIIO1I1I takes nothing returns nothing
set O11IO=LoadUnitHandle(OOOII,GetHandleId(GetTriggerUnit()),0)
if(OIIO1IOI())then
call DisableTrigger(GetTriggeringTrigger())
call IssueTargetOrderById(GetTriggerUnit(),$D000F,O11IO)
call EnableTrigger(GetTriggeringTrigger())
endif
endfunction
function OIIO1OOI takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nenc')
endfunction
function OIIO1O1I takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(I1OII[0],"Abilities\\Spells\\Undead\\CarrionSwarm\\CarrionSwarmDamage.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call KillUnit(GetTriggerUnit())
call RemoveUnit(GetTriggerUnit())
call FlushChildHashtable(OOOII,GetHandleId(GetTriggerUnit()))
call RemoveLocation(I1OII[0])
endfunction
function OIIO11OI takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
call UnitResetCooldown(I1IIO[K])
call IssuePointOrderById(I1IIO[K],$D00FA,O11OI[K],IIIOO[K])
call UnitResetCooldown(I1IIO[K])
set O1OII[K]=O1OII[K]-1
call SetUnitScale(I1IIO[K],1.06-.1*O1OII[K],1.06-.1*O1OII[K],1.06-.1*O1OII[K])
if O1OII[K]==0 then
call UnitApplyTimedLife(I1IIO[K],'BTLF',5)
call OO1OIOO(K)
endif
endfunction
function OIIO111I takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',GetUnitX(u),GetUnitY(u),GetUnitFacing(u))
call SetUnitScale(e,1.03,1.03,1.03)
call UnitAddAbility(e,'A02E')
set O11OI[K]=GetSpellTargetX()
set IIIOO[K]=GetSpellTargetY()
set I1IIO[K]=e
set O1OII[K]=1+GetUnitAbilityLevel(u,'A02E')
call TimerStart(IO1OO[K],.13,true,function OIIO11OI)
set u=null
set e=null
endfunction
function OII1IIII takes nothing returns boolean
if GetSpellAbilityId()=='A02E' and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)then
call OIIO111I()
endif
return false
endfunction
function OII1II1I takes nothing returns boolean
return(GetSpellAbilityId()=='Apg2')
endfunction
function OII1IOII takes nothing returns boolean
return(IsUnitEnemy(GetSpellTargetUnit(),GetTriggerPlayer()))
endfunction
function OII1IOOI takes nothing returns nothing
local real totaldamage
if(OII1IOII())then
set OIO1O[0]=GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())
call SetUnitManaBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())-(200.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))))
set OIO1O[1]=GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(OIO1O[0]-OIO1O[1])*.5,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
if (GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())>.5*GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())) then
set totaldamage=0.25*GetUnitAbilityLevel(GetTriggerUnit(),'Apg2')*(2*GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())-GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit()))
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),0.25*GetUnitAbilityLevel(GetTriggerUnit(),'Apg2')*(2*GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())-GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
endif
call CreateTextTagUnitBJ(I2S(R2I(totaldamage)+($C8*(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())/2))),GetSpellTargetUnit(),0,10.,32.,32.,100.,0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,3.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,4.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
endif
endfunction
function OII1I1II takes nothing returns boolean
return(GetSpellAbilityId()=='A0JF')
endfunction
function OII1I1OI takes nothing returns boolean
return(OI1OII==5)
endfunction
function OII1I11I takes nothing returns boolean
return(OI1OII==4)
endfunction
function OII1OIII takes nothing returns boolean
return(OI1OII==3)
endfunction
function OII1OIOI takes nothing returns boolean
return(OI1OII==2)
endfunction
function OII1OI1I takes nothing returns boolean
return(OI1OII==1)
endfunction
function OII1OOII takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
set IIIIOI[1]=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())
if(OII1OI1I())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=36
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,OI1OOI[IIIIOI[1]],GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitApplyTimedLifeBJ(25.,'BTLF',bj_lastCreatedUnit)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if(OII1OIOI())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$F
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[2]=OOIOO1O(I1OII[1],175.,(24.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,OI1OOI[IIIIOI[1]],GetTriggerPlayer(),I1OII[2],bj_UNIT_FACING)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitApplyTimedLifeBJ(25.,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OII[2])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=21
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[2]=OOIOO1O(I1OII[1],300.,(17.1*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,OI1OOI[IIIIOI[1]],GetTriggerPlayer(),I1OII[2],bj_UNIT_FACING)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitApplyTimedLifeBJ(25.,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OII[2])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if(OII1OIII())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=9
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
set I1OII[2]=OOIOO1O(I1OII[1],(90.*I2R(bj_forLoopBIndex)),((90.*I2R(bj_forLoopAIndex))-45.))
call CreateNUnitsAtLoc(1,OI1OOI[IIIIOI[1]],GetTriggerPlayer(),I1OII[2],bj_UNIT_FACING)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitApplyTimedLifeBJ(25.,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OII[2])
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if(OII1I11I())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=36
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[2]=OOIOO1O(I1OII[0],(65.*I2R(bj_forLoopAIndex)),AngleBetweenPoints(I1OII[0],I1OII[1]))
call CreateNUnitsAtLoc(1,OI1OOI[IIIIOI[1]],GetTriggerPlayer(),I1OII[2],bj_UNIT_FACING)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitApplyTimedLifeBJ(25.,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OII[2])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if(OII1I1OI())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=36
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[2]=OOIOO1O(I1OII[1],GetRandomReal(50.,550.),GetRandomReal(0,360.))
call CreateNUnitsAtLoc(1,OI1OOI[IIIIOI[1]],GetTriggerPlayer(),I1OII[2],bj_UNIT_FACING)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitApplyTimedLifeBJ(25.,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OII[2])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
endif
endif
endif
endif
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function OII1OO1I takes nothing returns boolean
return(GetLearnedSkill()=='A0JF')
endfunction
function OII1O1II takes nothing returns nothing
set fengxup=GetTriggerPlayer()
set OI1OOI[1]='nfgt'
set OI1OOI[2]='n00P'
if fengxubig then
call TriggerRegisterPlayerChatEvent(I11IOII,Player(0),"-t",false)
call TriggerRegisterPlayerChatEvent(I11IOII,Player(1),"-t",false)
call TriggerRegisterPlayerChatEvent(I11IOII,Player(2),"-t",false)
call TriggerRegisterPlayerChatEvent(I11IOII,Player(3),"-t",false)
call TriggerRegisterPlayerChatEvent(I11IOII,Player(4),"-t",false)
call TriggerRegisterPlayerChatEvent(I11IOII,Player(5),"-t",false)
call TriggerRegisterPlayerChatEvent(I11IOII,Player(6),"-t",false)
call TriggerRegisterPlayerChatEvent(I11IOII,Player(7),"-t",false)
call TriggerRegisterPlayerChatEvent(I11IOII,Player(8),"-t",false)
call TriggerRegisterPlayerChatEvent(I11IOII,Player(9),"-t",false)
set fengxubig=false
endif
endfunction
function OII1O11I takes nothing returns boolean
return(SubStringBJ(GetEventPlayerChatString(),1,2)=="-t" and GetTriggerPlayer()==fengxup)
endfunction
function OII11III takes nothing returns boolean
return(OI1OII!=1)and(OI1OII!=2)and(OI1OII!=3)and(OI1OII!=4)and(OI1OII!=5)
endfunction
function Trig_Tentacle_issue_Func003001 takes nothing returns boolean
return(III11O==GetTriggerPlayer())
endfunction
function OII11IOI takes nothing returns nothing
set OI1OII=S2I(SubStringBJ(GetEventPlayerChatString(),3,$A))
if(OII11III())then
set OI1OII=GetRandomInt(1,5)
endif
if((III11O==GetTriggerPlayer()))then
call PlaySoundBJ(IIII1OI)
endif
call DisplayTimedTextToForce(OOOIIIO(GetTriggerPlayer()),5.,("　　　　　　　　　　　　　　　|Cffffcc00已調整觸手陣列為 "+I2S(OI1OII)))
endfunction
function OII11OII takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,IIO)or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
if IsUnitInRange(F,yuxiunit,350) then
call SetUnitFacingToFaceUnitTimed(O11IO,F,0)
call IssueTargetOrderById(O11IO,$D011C,F)
if GetUnitAbilityLevel(F,'AIth')>0 then
call UnitDamageTarget(O1IIOI,F,OIO1O[0],true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(O1IIOI,F,OIO1O[0],true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endif
endif
if GetRandomInt(1,3)==1 and not(GetRandomReal(0,OIO1O[0]-125)<50) then
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(O1IIOI),GetUnitLoc(yuxiunit),bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A0Z4')
call IssueTargetOrderById(bj_lastCreatedUnit,$D0106,F)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
endif
endif
set F=null
return false
endfunction
function OII11OOI takes nothing returns boolean
return GetSpellAbilityId()=='AIfz' or GetSpellAbilityId()=='A0Z4'
endfunction
function OII11O1I takes nothing returns nothing
local unit s=GetTriggerUnit()
local player p=GetTriggerPlayer()
local unit t=GetSpellTargetUnit()
local integer I=GetUnitAbilityLevel(s,'AIfz')
call TriggerSleepAction(1.+GetUnitAbilityLevel(s,'A0Z4')*1.5)
set IIO=p
set O11IO=CreateUnit(p,'e01Z',GetUnitX(t),GetUnitY(t),0)
set O1IIOI=s
set yuxiunit=t
set OIO1O[0]=300+100*I
call DestroyEffect(AddSpecialEffect("Units\\Undead\\Abomination\\AbominationExplosion.mdl",GetUnitX(t),GetUnitY(t)))
call UnitAddAbility(O11IO,'ACtb')
call SetUnitAbilityLevel(O11IO,'ACtb',I)
call UnitApplyTimedLife(O11IO,'BTLF',2.)
call GroupEnumUnitsInRange(OII1O,GetUnitX(t),GetUnitY(t),700,Condition(function OII11OII))
set s=null
set p=null
set t=null
endfunction
function OII111OI takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real x=GetUnitX(I1I1O[K])
local real y=GetUnitY(I1I1O[K])
local real O1II11O=OO1II1O(O11OI[K],IIIOO[K],x,y)
call MoveLightning(IIOOO[K],true,O11OI[K],IIIOO[K],x,y)
set O1OII[K]=O1OII[K]+1
if O1OII[K]>=$A or GetWidgetLife(I1I1O[K])<.41 then
set O1OII[K]=0
if O1II11O>=300 then
call UnitDamageTarget(I1IIO[K],I1I1O[K],O1II11O*.66,true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call CreateTextTagUnitBJ(I2S(R2I(O1II11O*.66)),I1I1O[K],0,8.,100.,.0,.0,0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,2.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
endif
set O1OOI[K]=O1OOI[K]+1
if O1OOI[K]>=O1O1I[K]or GetWidgetLife(I1I1O[K])<.41 then
set O1OII[K]=0
set O1OOI[K]=0
set O1O1I[K]=0
call KillUnit(I1IOO[K])
call DestroyLightning(IIOOO[K])
call SetUnitAbilityLevel(I1I1O[K],'AIth',GetUnitAbilityLevel(I1I1O[K],'AIth')-1)
if GetUnitAbilityLevel(I1I1O[K],'AIth')==1 then
call UnitRemoveAbility(I1I1O[K],'AIth')
endif
call OO1OIOO(K)
endif
endif
endfunction
function OII1111I takes nothing returns boolean
return GetSpellAbilityId()=='A0MC'
endfunction
function OIOIIIII takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit t=GetSpellTargetUnit()
local unit e=CreateUnit(GetTriggerPlayer(),'e01Y',GetUnitX(u),GetUnitY(u),GetUnitFacing(u))
local lightning li=AddLightning("LEAS",true,GetUnitX(u),GetUnitY(u),GetUnitX(t),GetUnitY(t))
call UnitAddAbility(t,'AIth')
if GetUnitAbilityLevel(t,'AIth')==1 then
call SetUnitAbilityLevel(t,'AIth',2)
endif
call SetUnitAbilityLevel(t,'AIth',GetUnitAbilityLevel(t,'AIth')+1)
set O1OII[K]=0
set O1OOI[K]=0
set O1O1I[K]=4+4*GetUnitAbilityLevel(u,'A0MC')
set I1IIO[K]=u
set I1IOO[K]=e
set I1I1O[K]=t
set O11OI[K]=GetUnitX(e)
set IIIOO[K]=GetUnitY(e)
set IIOOO[K]=li
call TimerStart(IO1OO[K],.05,true,function OII111OI)
set li=null
set u=null
set t=null
set e=null
endfunction
function OIOIII1I takes nothing returns nothing
local real O1II11O=GetRandomReal($C8,600)
local real O1IIO1O=GetRandomReal(1,359)
local real x=(((I1II11O)*1.)+((O1II11O)*1.)*Cos(((O1IIO1O)*1.)*3.14159/180.))
local real y=(((I1IOIIO)*1.)+((O1II11O)*1.)*Sin(((O1IIO1O)*1.)*3.14159/180.))
local unit e=CreateUnit(I1II1IO,'e01U',x,y,0)
call IssueTargetOrderById(e,$D0102,e)
set e=null
endfunction
function OIOIIOII takes nothing returns boolean
return GetSpellAbilityId()=='A0KT'
endfunction
function OIOIIOOI takes nothing returns nothing
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
set I1II1IO=GetTriggerPlayer()
set I1II11O=GetUnitX(GetTriggerUnit())
set I1IOIIO=GetUnitY(GetTriggerUnit())
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",I1II11O,I1IOIIO))
call TimerStart(I1II1OO,.03,true,function OIOIII1I)
else
call PauseTimer(I1II1OO)
endif
endfunction
function Trig_Daycounting_Func004Func005002002001 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),OOI11I))
endfunction
function Trig_Daycounting_Func004Func005002002002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())!=Player($F))
endfunction
function OIOIIO1I takes nothing returns boolean
return GetBooleanAnd((IsUnitAlly(GetFilterUnit(),OOI11I)),(GetOwningPlayer(GetFilterUnit())!=Player($F)))
endfunction
function OIOII1II takes nothing returns nothing
call SetUnitVertexColorBJ(GetEnumUnit(),50.,50.,50.,0)
call UnitAddAbility(GetEnumUnit(),'AId5')
call UnitMakeAbilityPermanent(GetEnumUnit(),true,'AId5')
call UnitAddAbility(GetEnumUnit(),'A0K6')
call UnitMakeAbilityPermanent(GetEnumUnit(),true,'A0K6')
call UnitAddAbility(GetEnumUnit(),'AItg')
call UnitMakeAbilityPermanent(GetEnumUnit(),true,'AItg')
call UnitAddAbility(GetEnumUnit(),'A0LP')
call UnitMakeAbilityPermanent(GetEnumUnit(),true,'A0LP')
call UnitAddAbility(GetEnumUnit(),'A0LT')
call UnitMakeAbilityPermanent(GetEnumUnit(),true,'A0LT')
endfunction
function OIOII1OI takes nothing returns boolean
return(OII1II==6)
endfunction
function OIOII11I takes nothing returns nothing
set OII1II=(OII1II+1)
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,(("第"+I2S(OII1II))+"天"))
call PlaySoundBJ(IIIIIOI)
if(OIOII1OI())then
call StopMusic(false)
call PlaySoundBJ(IIIII1I)
call ResumeMusic()
set IIIIOI[0]=(1+GetPlayerId(OOI11I))
set OO1II=OOI1IOO(bj_mapInitialPlayableArea,Condition(function OIOIIO1I))
call ForGroupBJ(OO1II,function OIOII1II)
call SetUnitVertexColorBJ(OOO1I[IIIIOI[0]],25.,25.,25.,0)
call SetUnitAbilityLevelSwapped('AId5',OOO1I[IIIIOI[0]],2)
call SetUnitAbilityLevelSwapped('A0K6',OOO1I[IIIIOI[0]],2)
call SetUnitAbilityLevelSwapped('AItg',OOO1I[IIIIOI[0]],2)
call SetUnitAbilityLevelSwapped('A0LQ',OOO1I[IIIIOI[0]],2)
call SetUnitAbilityLevelSwapped('A0LT',OOO1I[IIIIOI[0]],2)
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"|CFFFF0000織田信長：吾即第六天魔王！！！嗚哇哈哈哈哈哈！！！！|R")
call DestroyGroup(OO1II)
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(I11I11I)
endif
endfunction
function OIOIOIOI takes nothing returns boolean
return IsUnitAlly(GetTriggerUnit(),OOI11I)
endfunction
function OIOIOI1I takes nothing returns nothing
local unit u=GetTriggerUnit()
call SetUnitVertexColorBJ(u,50.,50.,50.,0)
call UnitAddAbility(u,'AId5')
call UnitAddAbility(u,'A0K6')
call UnitAddAbility(u,'AItg')
call UnitAddAbility(u,'A0LT')
call UnitAddAbility(u,'A0LP')
call UnitMakeAbilityPermanent(u,true,'AId5')
call UnitMakeAbilityPermanent(u,true,'A0K6')
call UnitMakeAbilityPermanent(u,true,'AItg')
call UnitMakeAbilityPermanent(u,true,'A0LP')
call UnitMakeAbilityPermanent(u,true,'A0LT')
set u=null
endfunction
function OIOIOOOI takes nothing returns nothing
if GetFloatGameState(GAME_STATE_TIME_OF_DAY)<=6.02 and GetFloatGameState(GAME_STATE_TIME_OF_DAY)>=5.98 then
return
endif
call SetFloatGameState(GAME_STATE_TIME_OF_DAY,GetFloatGameState(GAME_STATE_TIME_OF_DAY)+.01)
set II1IIO=II1IIO+1
if II1IIO>=40 then
call PauseTimer(IIO11O)
endif
endfunction
function OIOIOO1I takes nothing returns boolean
return(GetUnitTypeId(GetKillingUnit())=='Obla' and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))!=null
endfunction
function OIOIO1II takes nothing returns nothing
local integer I=1
set II1IIO=0
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,10.,"|CFFFF0000織田信長:人生有幾多個十年？與天地長久相較，如夢又似幻；一度得生者，豈有不滅者？|R")
call TimerStart(IIO11O,.01,true,function OIOIOOOI)
loop
exitwhen I>$A
if IsUnitAlly(OOO1I[I],GetTriggerPlayer())and OOO1I[I]!=GetKillingUnit()then
call AddHeroXP(OOO1I[I],$96,false)
endif
set I=I+1
endloop
if IsUnitAlly(GetKillingUnit(),Player(0))then
call CreateUnit(Player($A),'e01X',7434,-7473,0)
else
call CreateUnit(Player($B),'e01X',-7365,7384,0)
endif
endfunction
function OIOIO11I takes nothing returns boolean
return(GetSpellAbilityId()=='A04O')
endfunction
function OIOI1III takes nothing returns boolean
return(IIIIOI[0]==1)
endfunction
function OIOI1IOI takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A0CP')
call SetUnitAbilityLevelSwapped('A0CP',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A04O',GetSpellAbilityUnit()))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D009F)
call RemoveLocation(I1OII[0])
call UnitAddAbility(GetTriggerUnit(),'A0K1')
call SetUnitAbilityLevelSwapped('A0K1',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A04O',GetTriggerUnit()))
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),0)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),0,IIIIOI[0]+1)
call TriggerSleepAction(5.)
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),0)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),0,IIIIOI[0]-1)
if(OIOI1III())then
call UnitRemoveAbility(GetTriggerUnit(),'A0K1')
endif
endfunction
function OIOI1OII takes nothing returns boolean
return(GetLearnedSkill()=='A0IN')or(GetLearnedSkill()=='A0CK')
endfunction
function OIOI1OOI takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(OIOI1OII())
endfunction
function OIOI1O1I takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A0HT')
call SetUnitAbilityLevelSwapped('A0HT',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0IN',GetTriggerUnit()))
endfunction
function OIOI11OI takes nothing returns boolean
return(GetSpellAbilityId()=='A0JJ')
endfunction
function OIOI111I takes nothing returns nothing
set IIIOII=GetTriggerUnit()
set IIIOOI=0
call StartTimerBJ(IIII1I,true,.5)
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call SetUnitScalePercent(GetTriggerUnit(),200.,200.,200.)
call CreateNUnitsAtLoc(4,'hmpr',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call RemoveLocation(I1OII[0])
endfunction
function OIOOIIOI takes nothing returns boolean
return(IIIOOI==16)or(GetUnitStateSwap(UNIT_STATE_LIFE,IIIOII)<.41)
endfunction
function OIOOII1I takes nothing returns boolean
return(OIOOIIOI())
endfunction
function OIOOIOII takes nothing returns nothing
set IIIOOI=(IIIOOI+1)
set I1OII[0]=GetUnitLoc(IIIOII)
call CreateNUnitsAtLoc(2,'hmpr',GetOwningPlayer(IIIOII),I1OII[0],bj_UNIT_FACING)
call RemoveLocation(I1OII[0])
if(OIOOII1I())then
call SetUnitScalePercent(IIIOII,120.,120.,120.)
call PauseTimerBJ(true,IIII1I)
endif
endfunction
function OIOOIO1I takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,I1IOI1O)or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(I1IOOIO,F,I1IOO1O+250,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endif
set F=null
return false
endfunction
function OIOOI1II takes nothing returns boolean
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local unit F=GetFilterUnit()
local real R=0
if not(IsUnitAlly(F,I1IOI1O)or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
set R=GetWidgetLife(F)
call UnitDamageTarget(I1IIO[K],F,IOOIO[K],true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl",F,"chest"))
call SetUnitState(F,UNIT_STATE_MANA,GetUnitState(F,UNIT_STATE_MANA)-(R-GetWidgetLife(F)))
call SetUnitState(I1IIO[K],UNIT_STATE_MANA,GetUnitState(I1IIO[K],UNIT_STATE_MANA)+(R-GetWidgetLife(F)))
endif
set F=null
return false
endfunction
function OIOOI1OI takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
set O1OII[K]=O1OII[K]+1
if O1OII[K]>=20 or GetWidgetLife(I1IIO[K])<.41 then
if IssueImmediateOrderById(I1IIO[K],$D009F)==false then
call GroupRemoveUnit(I1IOOOO,I1IIO[K])
return
endif
set I1IOOIO=I1IIO[K]
set I1IOO1O=GetUnitState(I1IIO[K],UNIT_STATE_MANA)
call SetUnitTimeScale(CreateUnit(I1IOI1O,'nhdc',O11OI[K],IIIOO[K],0),1.5)
call SetUnitTimeScale(CreateUnit(I1IOI1O,'nhdc',O11OI[K],IIIOO[K],0),1.5)
call GroupEnumUnitsInRange(OII1O,O11OI[K],IIIOO[K],400,Condition(function OIOOIO1I))
call GroupRemoveUnit(I1IOOOO,I1IIO[K])
call SetUnitAbilityLevel(I1IIO[K],'A0N6',GetUnitAbilityLevel(I1IOIOO,'AChw'))
call IssueImmediateOrderById(I1IIO[K],$D009F)
call UnitApplyTimedLife(I1IIO[K],'BTLF',.19)
call OO1OIOO(K)
else
call GroupEnumUnitsInRange(OII1O,O11OI[K],IIIOO[K],400,Condition(function OIOOI1II))
endif
endfunction
function OIOOI11I takes nothing returns boolean
return GetUnitTypeId(GetSummonedUnit())=='ntrh'
endfunction
function OIOOOIII takes nothing returns nothing
local integer K=OO1OIIO()
call GroupAddUnit(I1IOOOO,GetSummonedUnit())
set I1IIO[K]=GetSummonedUnit()
set O11OI[K]=GetUnitX(GetSummonedUnit())
set IIIOO[K]=GetUnitY(GetSummonedUnit())
set O1OII[K]=0
set IOOIO[K]=15+15*GetUnitAbilityLevel(I1IOIOO,'AChw')
call TimerStart(IO1OO[K],.25,true,function OIOOI1OI)
endfunction
function OIOOOIOI takes nothing returns nothing
local unit E=GetEnumUnit()
set I1IOOIO=E
call SetUnitTimeScale(CreateUnit(I1IOI1O,'nhdc',GetUnitX(E),GetUnitY(E),0),1.5)
call SetUnitTimeScale(CreateUnit(I1IOI1O,'nhdc',GetUnitX(E),GetUnitY(E),0),1.5)
call GroupRemoveUnit(I1IOOOO,E)
call SetUnitAbilityLevel(E,'A0N6',GetUnitAbilityLevel(I1IOIOO,'AChw'))
call IssueImmediateOrderById(E,$D009F)
call UnitApplyTimedLife(E,'BTLF',.5)
set I1IOO1O=GetUnitState(E,UNIT_STATE_MANA)
call GroupEnumUnitsInRange(OII1O,GetUnitX(E),GetUnitY(E),400,Condition(function OIOOIO1I))
set E=null
endfunction
function OIOOOI1I takes nothing returns boolean
if GetSpellAbilityId()=='A0N7' then
call ForGroup(I1IOOOO,function OIOOOIOI)
endif
return false
endfunction
function OIOOOOII takes nothing returns boolean
local trigger t
if GetLearnedSkill()=='AChw' or GetUnitTypeId(GetLearningUnit())=='O028' then
if I1IOIOO==null or GetOwningPlayer(I1IOIOO)!=GetTriggerPlayer() then
set t=CreateTrigger()
set I1IOIOO=GetLearningUnit()
set I1IOI1O=GetTriggerPlayer()
call TriggerRegisterUnitEvent(t,GetLearningUnit(),EVENT_UNIT_SUMMON)
call TriggerAddCondition(t,Condition(function OIOOI11I))
call TriggerAddAction(t,function OIOOOIII)
set t=null
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,GetLearningUnit(),EVENT_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OIOOOI1I))
set t=null
else
if GetUnitLevel(GetLearningUnit())>9 then
call SetUnitAbilityLevel(GetLearningUnit(),'AChw',4)
elseif GetUnitLevel(GetLearningUnit())>6 then
call SetUnitAbilityLevel(GetLearningUnit(),'AChw',3)
elseif GetUnitLevel(GetLearningUnit())>3 then
call SetUnitAbilityLevel(GetLearningUnit(),'AChw',2)
endif
call SetPlayerTechResearched(I1IOI1O,'R00C',GetUnitAbilityLevel(I1IOIOO,'AChw'))
endif
endif
return false
endfunction
function OIOOOOOI takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(t,Condition(function OIOOOOII))
set t=null
endfunction
function OIOOOO1I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0N8',GetTriggerUnit())>0 or GetUnitAbilityLevelSwapped('A131',GetTriggerUnit())>0)
endfunction
function OIOOO1II takes nothing returns nothing
set IOOO1O=GetTriggerUnit()
call UnitAddAbility(GetTriggerUnit(),'AItx')
if GetUnitAbilityLevelSwapped('A0N8',GetTriggerUnit())>0 then
call SetUnitAbilityLevelSwapped('AItx',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0N8',GetTriggerUnit()))
endif
call StartTimerBJ(IOOOOO,false,6.)
endfunction
function OIOOO11I takes nothing returns nothing
call UnitRemoveAbility(IOOO1O,'AItx')
endfunction
function OIOO1IOI takes nothing returns boolean
return(GetSpellAbilityId()=='A0N9')
endfunction
function OIOO1I1I takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetUnitLoc(GetSpellTargetUnit())
set I1OII[2]=OOIOO1O(I1OII[1],100.,AngleBetweenPoints(I1OII[1],I1OII[0]))
set OIO1O[0]=DistanceBetweenPoints(I1OII[0],I1OII[2])
set OIO1O[1]=AngleBetweenPoints(I1OII[0],I1OII[2])
set IOO1IO=GetSpellTargetUnit()
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call O1OO11O(GetTriggerUnit(),OIO1O[0],OIO1O[1],.25,I11O11I,null,.03,3,6,true,0,true,0)
call SetUnitAnimationByIndex(GetTriggerUnit(),6)
endfunction
function OIOO1OOI takes nothing returns boolean
return(DistanceBetweenPoints(I1OII[0],I1OII[1])<=250.)
endfunction
function OIOO1O1I takes nothing returns nothing
set I1OII[0]=GetUnitLoc(I1IIO[I1O1O])
set I1OII[1]=GetUnitLoc(IOO1IO)
call AddSpecialEffectLocBJ(I1OII[0],"Units\\NightElf\\Wisp\\WispExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(OIOO1OOI())then
call AddSpecialEffectTargetUnitBJ("chest",IOO1IO,"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call UnitDamageTargetBJ(I1IIO[I1O1O],IOO1IO,(100.+(200.*I2R(GetUnitAbilityLevelSwapped('A0N9',I1IIO[I1O1O])))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
call CreateNUnitsAtLoc(1,'e01Z',IIO1O[I1O1O],I1OII[0],bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,48)
call UnitApplyTimedLifeBJ(15.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'ANso')
call SetUnitAbilityLevelSwapped('ANso',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0N9',I1IIO[I1O1O]))
call IssueTargetOrderById(bj_lastCreatedUnit,$D02BC,IOO1IO)
endif
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function OIOO11OI takes nothing returns boolean
return GetSpellAbilityId()=='A0NA'
endfunction
function OIOO111I takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl",I1IO11O,"origin"))
call SetUnitPosition(I1IO1OO,GetUnitX(I1IO11O)+GetRandomReal(-25,25),GetUnitY(I1IO11O)+GetRandomReal(-25,25))
call OO1O1IO(I1IO1OO,"carrionswarm",GetUnitFacing(I1IO11O)+GetRandomReal(-30,30))
endfunction
function OIO1IIII takes nothing returns nothing
local unit u
if xinzhongcd then
set xinzhongcd=false
set u=GetTriggerUnit()
set I1IO11O=u
set I1IO1OO=CreateUnit(GetTriggerPlayer(),'e02G',GetUnitX(u),GetUnitY(u),GetUnitFacing(u))
call UnitAddAbility(I1IO1OO,'A0MK')
call SetUnitAbilityLevel(I1IO1OO,'A0MK',GetUnitAbilityLevel(u,'A0NA'))
call SetUnitUserData(I1IO1OO,48)
call TimerStart(I1IO1IO,.1/GetUnitAbilityLevel(u,'A0NA'),true,function OIOO111I)
call UnitApplyTimedLife(I1IO1OO,'BTLF',10.)
call TriggerSleepAction(10.)
call PauseTimer(I1IO1IO)
call TriggerSleepAction(75.-GetUnitAbilityLevel(u,'A0NA')*15)
set xinzhongcd=true
endif
endfunction
function OIO1II1I takes nothing returns boolean
return(GetSpellAbilityId()=='A0L5')
endfunction
function Trig_Poisonrain_Func008002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Poisonrain_Func008002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_Poisonrain_Func008002003002002 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Poisonrain_Func008002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())),(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41))
endfunction
function OIO1IOII takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())),(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)))))!=null
endfunction
function OIO1IOOI takes nothing returns nothing
call SetUnitFacingToFaceUnitTimed(bj_lastCreatedUnit,GetEnumUnit(),0)
call IssueTargetOrderById(bj_lastCreatedUnit,$D022F,GetEnumUnit())
endfunction
function OIO1IO1I takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(15.,'BTLF',bj_lastCreatedUnit)
call SetUnitUserData(bj_lastCreatedUnit,19)
call UnitAddAbility(bj_lastCreatedUnit,'A0IZ')
call SetUnitAbilityLevelSwapped('A0IZ',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0L5',GetTriggerUnit()))
set OO1II=OOI1OIO(1048.,I1OII[1],Condition(function OIO1IOII))
call ForGroupBJ(OO1II,function OIO1IOOI)
call DestroyGroup(OO1II)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function OIO1I1OI takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A018')
endfunction
function OIO1I11I takes nothing returns nothing
call EnableTrigger(I111OII)
endfunction
function OIO1OIOI takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),'B033')>0
endfunction
function OIO1OI1I takes nothing returns nothing
local real damage=200+100*GetUnitAbilityLevel(GetTriggerUnit(),'B033')
if damage>GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA) then
set damage=GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)
endif
if GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>damage then
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)-damage)
else
call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,1)
endif
call SetUnitState(GetTriggerUnit(),UNIT_STATE_MANA,GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)-200-100*GetUnitAbilityLevel(GetTriggerUnit(),'B033'))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\SpellSteal\\SpellStealMissile.mdl",GetTriggerUnit(),"chest"))
endfunction
function OIO1OOOI takes nothing returns boolean
return(GetSpellAbilityId()=='A0IY')
endfunction
function Trig_Root_Func008002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Root_Func008002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_Root_Func008002003002002 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Root_Func008002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())),(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41))
endfunction
function OIO1OO1I takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())),(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)))))!=null
endfunction
function OIO1O1II takes nothing returns nothing
call SetUnitFacingToFaceUnitTimed(bj_lastCreatedUnit,GetEnumUnit(),0)
call IssueTargetOrderById(bj_lastCreatedUnit,$D00CB,GetEnumUnit())
endfunction
function OIO1O1OI takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(15.,'BTLF',bj_lastCreatedUnit)
call SetUnitUserData(bj_lastCreatedUnit,19)
call UnitAddAbility(bj_lastCreatedUnit,'A0LH')
call SetUnitAbilityLevelSwapped('A0LH',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0IY',GetTriggerUnit()))
set OO1II=OOI1OIO(1048.,I1OII[1],Condition(function OIO1OO1I))
call ForGroupBJ(OO1II,function OIO1O1II)
call DestroyGroup(OO1II)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function OIO11III takes nothing returns boolean
return(GetSpellAbilityId()=='A0LJ')
endfunction
function OIO11IOI takes nothing returns nothing
call EnableTrigger(I1111II)
set I1OIOI=GetTriggerUnit()
set I1OIII=GetUnitLoc(I1OIOI)
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OIII,GetUnitFacing(GetTriggerUnit()))
call UnitAddAbility(bj_lastCreatedUnit,'AIil')
call SetUnitAbilityLevelSwapped('AIil',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OIII)
call IssueTargetOrderById(bj_lastCreatedUnit,$D0132,GetTriggerUnit())
endfunction
function OIO11OII takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B056'))
endfunction
function OIO11OOI takes nothing returns boolean
return(IsPlayerEnemy(Player(-1+(bj_forLoopAIndex)),GetOwningPlayer(I1OIOI)))and(IsUnitSelected(I1OIOI,Player(-1+(bj_forLoopAIndex))))
endfunction
function OIO11O1I takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set I1OIII=GetUnitLoc(I1OIOI)
set I1OII[1]=OOIOO1O(I1OIII,400.,GetUnitFacing(GetTriggerUnit()))
call SetUnitPositionLoc(GetTriggerUnit(),I1OIII)
call IssuePointOrderByIdLoc(GetTriggerUnit(),$D0012,I1OII[1])
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$C
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(OIO11OOI())then
call SelectUnitForPlayerSingle(GetTriggerUnit(),Player(-1+(bj_forLoopAIndex)))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OIII)
call RemoveLocation(I1OII[1])
endfunction
function OIO111OI takes nothing returns boolean
return GetSpellAbilityId()=='A04J'
endfunction
function OIO1111I takes nothing returns nothing
local unit u=GetTriggerUnit()
local real x=(((GetUnitX(u))*1.)+((0)*1.)*Cos(((GetUnitFacing(u))*1.)*3.14159/180.))
local real y=(((GetUnitY(u))*1.)+((0)*1.)*Sin(((GetUnitFacing(u))*1.)*3.14159/180.))
local location p=Location(x,y)
call ShowUnit(u,false)
call CreateTextTagLocBJ("臨!兵!鬥!者!皆!陣!列!在!前!",p,0,$A,'d','d','d',0)
call SetTextTagPermanent(bj_lastCreatedTextTag,false)
call SetTextTagLifespan(bj_lastCreatedTextTag,3.)
call RemoveLocation(p)
set p=null
call TriggerSleepAction(3.)
call SetUnitPosition(u,x,y)
call ShowUnit(u,true)
call SelectUnitForPlayerSingle(u,GetOwningPlayer(u))
set u=null
endfunction
function OI1IIIOI takes nothing returns boolean
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local unit F=GetFilterUnit()
if not(GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE)or F==I1IIO[K]or GetUnitTypeId(F)=='h00M' or GetUnitTypeId(F)=='n02P')then
if IsUnitEnemy(F,IIO1O[K])then
call UnitDamageTarget(I1IIO[K],F,II1OO[K],true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endif
set I1IOO[K]=F
endif
set F=null
return false
endfunction
function OI1III1I takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local timer t=GetExpiredTimer()
local unit e
local real x
local real y
if II1IO[K]==.0 then
set O1OII[K]=O1OII[K]+1
set x=(((GetUnitX(I1IIO[K]))*1.)+((O1OII[K]*(OO111I*.35))*1.)*Cos(((GetUnitFacing(I1IIO[K]))*1.)*3.14159/180.))
set y=(((GetUnitY(I1IIO[K]))*1.)+((O1OII[K]*(OO111I*.35))*1.)*Sin(((GetUnitFacing(I1IIO[K]))*1.)*3.14159/180.))
set e=CreateUnit(IIO1O[K],'u000',x,y,GetUnitFacing(I1IIO[K]))
call SetUnitScale(e,OO111I/30,OO111I/30,OO111I/30)
call SaveUnitHandle(OOOII,GetHandleId(t),O1OII[K],e)
call GroupEnumUnitsInRange(OII1O,x,y,OO111I,Condition(function OI1IIIOI))
if O1OII[K]>=O1OOI[K]or I1IOO[K]!=null then
set II1IO[K]=1.
endif
set e=null
else
set e=LoadUnitHandle(OOOII,GetHandleId(t),O1OII[K])
call SetUnitPosition(I1IOO[K],GetUnitX(e),GetUnitY(e))
call RemoveUnit(e)
set e=null
set O1OII[K]=O1OII[K]-1
if O1OII[K]==0 then
set II1IO[K]=.0
call FlushChildHashtable(OOOII,GetHandleId(t))
call OO1OIOO(K)
call EnableTrigger(OIIIIOI)
endif
endif
set t=null
endfunction
function OI1IIOII takes nothing returns boolean
return GetSpellAbilityId()=='A07S'
endfunction
function OI1IIOOI takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
call DisableTrigger(OIIIIOI)
set I1IOO[K]=null
set IIO1O[K]=GetTriggerPlayer()
set O1OII[K]=0
set O1OOI[K]=40
set I1IIO[K]=u
set II1IO[K]=.0
set II1OO[K]=200.*GetUnitAbilityLevel(u,'A07S')
call TimerStart(IO1OO[K],.03,true,function OI1III1I)
set u=null
endfunction
function OI1II1II takes nothing returns boolean
return(GetLearnedSkill()=='A07S')
endfunction
function OI1II1OI takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
set O1IIII=O11IO
call TriggerRegisterPlayerChatEvent(OIIIIOI,GetTriggerPlayer(),"-a",false)
endfunction
function OI1IOIII takes nothing returns boolean
return(SubStringBJ(GetEventPlayerChatString(),1,2)=="-a")
endfunction
function OI1IOIOI takes nothing returns boolean
return(OO111I<=100.)
endfunction
function OI1IOI1I takes nothing returns boolean
return(OO111I>=(OIO1O[0]+.0))
endfunction
function Trig_Whip_issue_Func004001 takes nothing returns boolean
return(III11O==GetTriggerPlayer())
endfunction
function OI1IOOII takes nothing returns nothing
set OO111I=I2R(S2I(SubStringBJ(GetEventPlayerChatString(),3,$A)))
set OIO1O[0]=(1000.+(500.*I2R(GetUnitAbilityLevelSwapped('A07S',O1IIII))))
if(OI1IOI1I())then
set OO111I=OIO1O[0]
else
if(OI1IOIOI())then
set OO111I=100.
endif
endif
if((III11O==GetTriggerPlayer()))then
call PlaySoundBJ(IIII1OI)
endif
call DisplayTimedTextToForce(OOOIIIO(GetTriggerPlayer()),5.,("　　　　　　　　　　　　　　　|Cffffcc00已將繩索範圍調為 "+I2S(R2I(OO111I))))
endfunction
function OI1IOO1I takes nothing returns boolean
return(GetSpellAbilityId()=='A023')
endfunction
function OI1IO1II takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'e00N',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,33.)
call KillUnit(bj_lastCreatedUnit)
call RemoveLocation(I1OII[0])
endfunction
function longchuan41 takes nothing returns boolean
return GetLearnedSkill()=='A0GA'
endfunction
function longchuan42 takes nothing returns nothing
call EnableTrigger(I1OOOI[18])
endfunction
function OI1IO11I takes nothing returns boolean
return(GetLearnedSkill()=='ACce')and(IsUnitIllusion(GetTriggerUnit())==false)
endfunction
function OI1I1III takes nothing returns nothing
call SetPlayerTechResearchedSwap('Rhgb',GetUnitAbilityLevelSwapped('ACce',GetTriggerUnit()),GetTriggerPlayer())
call EnableTrigger(I1OOOI[$E])
endfunction
function OI1I1I1I takes nothing returns boolean
return(GetSpellAbilityId()=='A026')and(GetUnitAbilityLevelSwapped('A08P',GetTriggerUnit())==0)
endfunction
function OI1I1OII takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A08P',GetTriggerUnit())==0)
endfunction
function OI1I1OOI takes nothing returns nothing
call EnableTrigger(I1OOOI[3])
call EnableTrigger(OIIIO1I)
call TriggerSleepAction(22.)
if(OI1I1OII())then
call DisableTrigger(I1OOOI[3])
call DisableTrigger(OIIIO1I)
endif
endfunction
function OI1I11II takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='O00C')
endfunction
function OI1I11OI takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))!=null
endfunction
function OI1I111I takes nothing returns nothing
set I1OI1I=GetTriggerUnit()
if(OI1I11OI())then
call O11I11O(GetTriggerUnit())
endif
endfunction
function OI1OIIOI takes nothing returns boolean
return(GetLearnedSkill()=='A052')
endfunction
function OI1OII1I takes nothing returns nothing
call StartTimerBJ(II11IO,true,.15)
set II1O1O[0]=O11IO
set II1O1O[1]=CreateUnit(GetTriggerPlayer(),'e02F',7420,-7500,0)
endfunction
function OI1OIOOI takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,II1O1O[0])>.41)
endfunction
function OI1OIO1I takes nothing returns nothing
if(OI1OIOOI())then
call OO1IOIO(II1O1O[1],GetUnitX(II1O1O[0]),GetUnitY(II1O1O[0]))
else
call OO1IOIO(II1O1O[1],7428,-7495)
endif
endfunction
function OI1OI1OI takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A052')
endfunction
function OI1OI11I takes nothing returns nothing
set IO11OI=GetLearningUnit()
if GetUnitAbilityLevel(GetLearningUnit(),'A052')==1 then
call TriggerRegisterUnitLifeEvent(OIIOIII,GetLearningUnit(),LESS_THAN,.01)
call TriggerRegisterUnitEvent(OIIOIOI,GetLearningUnit(),EVENT_UNIT_DEATH)
call TriggerRegisterUnitLifeEvent(OIIOI1I,GetLearningUnit(),GREATER_THAN,.01)
endif
endfunction
function OI1OOIOI takes nothing returns boolean
return(IsTriggerEnabled(OIIOIOI))
endfunction
function OI1OOI1I takes nothing returns nothing
call TriggerSleepAction(.01)
if(OI1OOIOI())then
call EnableTrigger(OIIOI1I)
set rpcontrol[GetPlayerId(GetOwningPlayer(IO11OI))]=false
endif
call EnableTrigger(OIIOIOI)
endfunction
function OI1OOOOI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
endfunction
function OI1OO1II takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set rpcontrol[GetPlayerId(GetOwningPlayer(IO11OI))]=true
call CreateTextTagUnitBJ("忠之極意！！！！",IO11OI,0,1.,89.,44.,.0,0)
set I1II1I=GetUnitAbilityLevelSwapped('A052',IO11OI)
set I1IIOI=bj_lastCreatedTextTag
set I1IIII[0]=.0
set I1IIII[1]=(40.+(40.*I2R(I1II1I)))
call SetUnitInvulnerable(IO11OI,true)
call UnitAddAbility(IO11OI,'A0K2')
call SetUnitAbilityLevelSwapped('A0K2',IO11OI,I1II1I)
call StartTimerBJ(IO111I,true,.1)
endfunction
function OI1OO11I takes nothing returns boolean
return(I1IIII[0]<=35.)
endfunction
function OI1O1III takes nothing returns boolean
return(I1IIII[0]>=I1IIII[1])
endfunction
function OI1O1IOI takes nothing returns nothing
set I1IIII[0]=(I1IIII[0]+1)
if(OI1OO11I())then
call SetTextTagTextBJ(I1IIOI,"忠之極意",I1IIII[0])
else
call DestroyTextTag(I1IIOI)
endif
if(OI1O1III())then
call SetUnitInvulnerable(IO11OI,false)
call UnitRemoveAbility(IO11OI,'A0K2')
endif
endfunction
function OI1O1OII takes nothing returns boolean
return(GetSpellAbilityId()=='A0J3')
endfunction
function Trig_Hex_Func006002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Hex_Func006002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Hex_Func006002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_Hex_Func006002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function OI1O1OOI takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function OI1O1O1I takes nothing returns boolean
return(GetSpellTargetUnit()!=GetEnumUnit())
endfunction
function OI1O11II takes nothing returns nothing
if(OI1O1O1I())then
call SetUnitFacingToFaceUnitTimed(bj_lastCreatedUnit,GetEnumUnit(),0)
call IssueTargetOrderById(bj_lastCreatedUnit,$D0216,GetEnumUnit())
endif
endfunction
function OI1O11OI takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'AOhx')
call SetUnitAbilityLevelSwapped('AOhx',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
set OO1II=OOI1OIO(500.,I1OII[0],Condition(function OI1O1OOI))
call ForGroupBJ(OO1II,function OI1O11II)
call RemoveLocation(I1OII[0])
call DestroyGroup(OO1II)
endfunction
function OI11IIII takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))
endfunction
function OI11IIOI takes nothing returns nothing
call CreateNUnitsAtLoc(1,'oshm',GetTriggerPlayer(),OIOII[1],bj_UNIT_FACING)
set I1IOII=bj_lastCreatedUnit
endfunction
function OI11IOII takes nothing returns boolean
return(GetSpellAbilityId()=='AOws')
endfunction
function Trig_Explode_Func007002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Explode_Func007002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Explode_Func007002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_Explode_Func007002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function OI11IOOI takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function OI11IO1I takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit()),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
endfunction
function OI11I1II takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'AHbz')
call SetUnitUserData(bj_lastCreatedUnit,33)
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0079,I1OII[0])
set OO1II=OOI1OIO(700.,I1OII[0],Condition(function OI11IOOI))
call ForGroupBJ(OO1II,function OI11IO1I)
call RemoveLocation(I1OII[0])
call DestroyGroup(OO1II)
call KillUnit(GetTriggerUnit())
endfunction
function OI11I11I takes nothing returns boolean
return(GetSpellAbilityId()=='AOws')
endfunction
function OI11OIII takes nothing returns nothing
call SetUnitVertexColorBJ(GetTriggerUnit(),.0,.0,.0,0)
endfunction
function OI11OI1I takes nothing returns boolean
return(GetSpellAbilityId()=='AOws')
endfunction
function OI11OOII takes nothing returns nothing
call SetUnitVertexColorBJ(GetTriggerUnit(),100.,100.,100.,0)
endfunction
function OI11OO1I takes nothing returns nothing
call TriggerRemoveCondition(I11IOI,LoadTriggerConditionHandle(OOOII,GetHandleId(I11IOI),0))
call DestroyTimer(GetExpiredTimer())
endfunction
function OI11O1II takes nothing returns boolean
local timer t=CreateTimer()
if GetIssuedOrderId()==852047or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='Adro')then
call KillUnit(I1IOII)
call RemoveUnit(I1IOII)
endif
if GetTriggerEventId()==EVENT_UNIT_DEATH then
call KillUnit(I1IOII)
call RemoveUnit(I1IOII)
set I11IOI=GetTriggeringTrigger()
call TimerStart(t,.0,false,function OI11OO1I)
call DestroyTrigger(GetTriggeringTrigger())
endif
set t=null
return false
endfunction
function OI11O1OI takes nothing returns boolean
return GetUnitTypeId(GetSummonedUnit())=='nfgl' or GetUnitTypeId(GetSummonedUnit())=='n00O'
endfunction
function OI11O11I takes nothing returns nothing
local trigger t=CreateTrigger()
local triggercondition tf
set I1IO1I=GetSummonedUnit()
call TriggerRegisterUnitEvent(t,I1IO1I,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,I1IO1I,EVENT_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterUnitEvent(t,I1IO1I,EVENT_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterUnitEvent(t,I1IO1I,EVENT_UNIT_ISSUED_ORDER)
call TriggerRegisterUnitEvent(t,I1IO1I,EVENT_UNIT_SPELL_EFFECT)
set tf=TriggerAddCondition(t,Condition(function OI11O1II))
call SaveTriggerConditionHandle(OOOII,GetHandleId(t),0,tf)
set t=null
set tf=null
endfunction
function OI111IOI takes nothing returns boolean
return(GetSpellAbilityId()=='AOs2')
endfunction
function OI111I1I takes nothing returns nothing
set I1OII[0]=GetUnitLoc(I1IO1I)
set I1I1OI=GetSpellTargetLoc()
set I1111I=0
set IIOOIO[0]=0
set IIOOIO[1]=R2I((DistanceBetweenPoints(I1OII[0],GetSpellTargetLoc())/50.))
set I1I11I=AngleBetweenPoints(I1OII[0],I1I1OI)
call PauseUnit(GetTriggerUnit(),true)
call SetUnitPathing(I1IO1I,false)
call GroupClear(I1I1II)
call RemoveLocation(I1OII[0])
call AddSpecialEffectTargetUnitBJ("overhead",GetTriggerUnit(),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ("hand left",GetTriggerUnit(),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ("hand right",GetTriggerUnit(),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call TriggerSleepAction(1.5)
call StartTimerBJ(I1IOOI,true,.03)
endfunction
function OI111OOI takes nothing returns boolean
return(I1111I==$F)
endfunction
function OI111O1I takes nothing returns boolean
return(DistanceBetweenPoints(I1OII[1],I1I1OI)<=80.)or(IIOOIO[0]>IIOOIO[1])
endfunction
function OI1111II takes nothing returns boolean
return(OI111O1I())
endfunction
function Trig_GODOFFIRE_timer_Func001Func009002003001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_GODOFFIRE_timer_Func001Func009002003001002 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),I1I1II)==false)
endfunction
function Trig_GODOFFIRE_timer_Func001Func009002003001 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitInGroup(GetFilterUnit(),I1I1II)==false)))!=null
endfunction
function Trig_GODOFFIRE_timer_Func001Func009002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_GODOFFIRE_timer_Func001Func009002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I1IO1I)))
endfunction
function Trig_GODOFFIRE_timer_Func001Func009002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I1IO1I))))
endfunction
function OI1111OI takes nothing returns boolean
return(GetBooleanAnd((GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitInGroup(GetFilterUnit(),I1I1II)==false))),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I1IO1I)))))))!=null
endfunction
function OI11111I takes nothing returns nothing
call GroupAddUnit(I1I1II,GetEnumUnit())
call UnitDamageTargetBJ(I1IO1I,GetEnumUnit(),4000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
endfunction
function OOIIIIII takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,I1IO1I)<.41)
endfunction
function OOIIIIOI takes nothing returns nothing
if(OOIIIIII())then
call SetUnitAnimation(I1IO1I,"attack")
call PauseUnit(I1IO1I,false)
call SetUnitPathing(I1IO1I,true)
call GroupClear(I1I1II)
call RemoveLocation(I1I1OI)
call PauseTimerBJ(true,I1IOOI)
else
set I1OII[0]=GetUnitLoc(I1IO1I)
set I1OII[1]=OOIOO1O(I1OII[0],50.,I1I11I)
set I1111I=(I1111I+1)
call SetUnitPositionLoc(I1IO1I,I1OII[1])
set IIOOIO[0]=(IIOOIO[0]+1)
if(OI111OOI())then
set I1111I=0
call AddSpecialEffectLocBJ(I1OII[1],"Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endif
if(OI1111II())then
call SetUnitAnimation(I1IO1I,"attack")
call SetUnitPositionLoc(I1IO1I,I1I1OI)
call SetUnitPathing(I1IO1I,true)
call PauseUnit(I1IO1I,false)
call GroupClear(I1I1II)
call PauseTimerBJ(true,I1IOOI)
call RemoveLocation(I1I1OI)
return
endif
set OO1II=OOI1OIO(350.,I1OII[1],Condition(function OI1111OI))
call ForGroupBJ(OO1II,function OI11111I)
call DestroyGroup(OO1II)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endif
endfunction
function OOIIIOII takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A0A3')
endfunction
function OOIIIOOI takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
call TriggerRegisterUnitEvent(OII1OOI,GetTriggerUnit(),EVENT_UNIT_HERO_LEVEL)
call SetPlayerTechResearchedSwap('R002',(GetUnitLevel(GetTriggerUnit())-5),GetTriggerPlayer())
endfunction
function OOIII1II takes nothing returns nothing
call SetPlayerTechResearchedSwap('R002',(GetHeroLevel(GetTriggerUnit())-5),GetTriggerPlayer())
endfunction
function OOIII11I takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real x=(((O11OI[K])*1.)+(($80*O1OII[K])*1.)*Cos(((IOOIO[K])*1.)*3.14159/180.))
local real y=(((IIIOO[K])*1.)+(($80*O1OII[K])*1.)*Sin(((IOOIO[K])*1.)*3.14159/180.))
set O1OII[K]=O1OII[K]+1
call OO1IOIO(I1IIO[K],x,y)
call IssueImmediateOrderById(I1IIO[K],$D009F)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",x,y))
if O1OII[K]>=O1OOI[K]or not(O11OI[K]>I11OO or O11OI[K]<OIIOO or IIIOO[K]>I111O or IIIOO[K]<OIIIO)then
call OO1OIOO(K)
endif
endfunction
function OOIIOIII takes nothing returns boolean
return GetSpellAbilityId()=='A0IT'
endfunction
function OOIIOIOI takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
set I1IIO[K]=CreateUnit(GetTriggerPlayer(),'e01Z',0,0,0)
set IOOIO[K]=GetUnitFacing(u)
set O1OII[K]=0
set O1OOI[K]=2+2*GetUnitAbilityLevel(u,'A0IT')
set IIO1O[K]=GetTriggerPlayer()
set O11OI[K]=GetUnitX(u)
set IIIOO[K]=GetUnitY(u)
call SetUnitUserData(I1IIO[K],29)
call UnitAddAbility(I1IIO[K],'A0LF')
call SetUnitAbilityLevel(I1IIO[K],'A0LF',GetUnitAbilityLevel(u,'A0IT'))
call TimerStart(IO1OO[K],.23,true,function OOIII11I)
set u=null
endfunction
function OOIIOI1I takes nothing returns boolean
return(GetSpellAbilityId()=='A0IW')
endfunction
function OOIIOOII takes nothing returns nothing
set IO1OII=GetTriggerUnit()
set I1OI1O=GetUnitTypeId(GetTriggerUnit())
set IO1I1I=true
call StartTimerBJ(IO1OOI,false,28.5)
call AddSpecialEffectTargetUnitBJ("weapon",GetTriggerUnit(),"Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl")
set IO1O1I=bj_lastCreatedEffect
call EnableTrigger(OII11OI)
call EnableTrigger(I1OOOI[1])
endfunction
function OOIIOO1I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())==I1OI1O)and(GetTriggerUnit()!=IO1OII)
endfunction
function OOIIO1II takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("weapon",GetTriggerUnit(),"Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl")
endfunction
function OOIIO11I takes nothing returns nothing
call DisableTrigger(I1OOOI[1])
call DestroyEffect(IO1O1I)
set IO1I1I=false
endfunction
function OOII1IOI takes nothing returns boolean
return(GetSpellAbilityId()=='A07O')
endfunction
function OOII1I1I takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetSpellTargetUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'e020',GetTriggerPlayer(),I1OII[0],(GetUnitFacing(GetTriggerUnit())+(120.*I2R(bj_forLoopAIndex))))
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
endfunction
function OOII1OOI takes nothing returns nothing
local real x
local real y
set I1I11OO=I1I11OO+.01
if I1I11OO<=3 then
call SetUnitFlyHeight(I1I1IIO[0],((500/3)*I1I11OO),.0)
call SetUnitFlyHeight(I1I1IIO[1],((600/3)*I1I11OO),.0)
if ModuloReal(I1I11OO,.1)==.1 then
set I1I1I1O=I1I1I1O+30
call SetUnitAnimation(I1I1IIO[1],"death")
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",I1I1IIO[1],"origin"))
set x=(((I1I1OIO)*1.)+(($96)*1.)*Cos(((I1I1I1O)*1.)*3.14159/180.))
set y=(((I1I1OOO)*1.)+(($96)*1.)*Sin(((I1I1I1O)*1.)*3.14159/180.))
call SetUnitFacing(I1I1IIO[0],I1I1I1O-$B4)
call OO1IOIO(I1I1IIO[0],x,y)
endif
if I1I11OO==3 then
call SetUnitAnimation(I1I1IIO[0],"attack slam")
set I1I1O1O=GetUnitX(I1I1IIO[0])
set I1I11IO=GetUnitY(I1I1IIO[0])
loop
set I1I1I1O=OO1IIOO(GetUnitX(I1I1IIO[0]),GetUnitY(I1I1IIO[0]),GetUnitX(I1I1IIO[1]),GetUnitY(I1I1IIO[1]))
set x=(((I1I1O1O)*1.)+((500)*1.)*Cos(((I1I1I1O)*1.)*3.14159/180.))
set y=(((I1I11IO)*1.)+((500)*1.)*Sin(((I1I1I1O)*1.)*3.14159/180.))
exitwhen IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)
endloop
endif
endif
if I1I11OO>=3 then
call SetUnitFlyHeight(I1I1IIO[0],(500-($3E8*(I1I11OO-3.))),.0)
call SetUnitFlyHeight(I1I1IIO[1],(600-($3E8*(I1I11OO-3.))),.0)
set x=(((I1I1OIO)*1.)+((500*(I1I11OO-3))*1.)*Cos(((I1I1I1O)*1.)*3.14159/180.))
set y=(((I1I1OOO)*1.)+((500*(I1I11OO-3))*1.)*Sin(((I1I1I1O)*1.)*3.14159/180.))
call SetUnitPosition(I1I1IIO[1],x,y)
if I1I11OO==4 then
call SetUnitFlyHeight(I1I1IIO[0],GetUnitDefaultFlyHeight(I1I1IIO[0]),.0)
call SetUnitFlyHeight(I1I1IIO[1],GetUnitDefaultFlyHeight(I1I1IIO[1]),.0)
call SetUnitInvulnerable(I1I1IIO[0],false)
call SetUnitInvulnerable(I1I1IIO[1],false)
call PauseUnit(I1I1IIO[0],false)
call PauseUnit(I1I1IIO[1],false)
call UnitRemoveAbility(I1I1IIO[0],'Arav')
call UnitRemoveAbility(I1I1IIO[1],'Arav')
call UnitRemoveAbility(I1I1IIO[0],'AIa4')
call UnitRemoveAbility(I1I1IIO[1],'AIa4')
call UnitDamageTarget(I1I1IIO[0],I1I1IIO[1],I1I111O,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
set rpcontrol[GetPlayerId(GetOwningPlayer(I1I1IIO[1]))]=true
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Ram.mdx",I1I1IIO[1],"origin"))
call PauseTimer(I1I1IOO)
endif
endif
endfunction
function OOII1O1I takes nothing returns boolean
return GetSpellAbilityId()=='A006'
endfunction
function OOII11II takes nothing returns nothing
set I1I1IIO[0]=GetTriggerUnit()
set I1I1IIO[1]=GetSpellTargetUnit()
set rpcontrol[GetPlayerId(GetOwningPlayer(I1I1IIO[1]))]=false
set I1I11OO=0
set I1I1OIO=GetUnitX(I1I1IIO[1])
set I1I1OOO=GetUnitY(I1I1IIO[1])
set I1I1I1O=OO1IIOO(GetUnitX(I1I1IIO[1]),GetUnitY(I1I1IIO[1]),GetUnitX(I1I1IIO[0]),GetUnitY(I1I1IIO[0]))
set I1I111O=GetUnitAbilityLevel(I1I1IIO[0],'A006')*$7D0+$3E8
call UnitAddAbility(I1I1IIO[0],'AIa4')
call UnitAddAbility(I1I1IIO[1],'AIa4')
call SetUnitInvulnerable(I1I1IIO[0],true)
call SetUnitInvulnerable(I1I1IIO[1],true)
call PauseUnit(I1I1IIO[0],true)
call PauseUnit(I1I1IIO[1],true)
call UnitAddAbility(I1I1IIO[0],'Arav')
call UnitAddAbility(I1I1IIO[1],'Arav')
call SetUnitAnimationWithRarity(I1I1IIO[0],"Attack Walk Stand Spin",RARITY_FREQUENT)
call TimerStart(I1I1IOO,.01,true,function OOII1OOI)
endfunction
function OOII11OI takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
set O1OII[K]=O1OII[K]+1
call SetWidgetLife(I1IIO[K],GetWidgetLife(I1IIO[K])+GetWidgetLife(I1IIO[K])*II1IO[K]+$96)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",I1IIO[K],"origin"))
call UnitRemoveBuffsExBJ(1,2,I1IIO[K],false,false)
if O1OII[K]==O1OOI[K]then
call OO1OIOO(K)
endif
endfunction
function OOII111I takes nothing returns boolean
return GetSpellAbilityId()=='A0N3'
endfunction
function OOIOIIII takes nothing returns nothing
local integer K=OO1OIIO()
set I1IIO[K]=GetSpellTargetUnit()
set II1IO[K]=.05+.1*GetUnitAbilityLevel(GetTriggerUnit(),'A0N3')
set O1OII[K]=0
set O1OOI[K]=2+2*GetUnitAbilityLevel(GetTriggerUnit(),'A0N3')
call SetWidgetLife(I1IIO[K],GetWidgetLife(I1IIO[K])+GetWidgetLife(I1IIO[K])*II1IO[K]+$96)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",I1IIO[K],"origin"))
call TimerStart(IO1OO[K],1,true,function OOII11OI)
endfunction
function OOIOII1I takes nothing returns boolean
return GetSpellAbilityId()=='A0J9'
endfunction
function OOIOIOII takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit t=GetSpellTargetUnit()
local effect OOIOIOOI=AddSpecialEffectTarget("Abilities\\Spells\\Other\\HealingSpray\\HealBottleMissile.mdl",u,"weapon")
call TriggerSleepAction(.0)
call SetUnitPosition(u,GetUnitX(t),GetUnitY(t))
call UnitAddAbility(u,'A01Z')
call TriggerSleepAction(6.)
call UnitRemoveAbility(u,'A01Z')
call TriggerSleepAction(.5)
call DestroyEffect(OOIOIOOI)
set OOIOIOOI=null
set u=null
set t=null
endfunction
function OOIOI1II takes nothing returns boolean
return(GetSpellAbilityId()=='A0A0')and(GetUnitAbilityLevelSwapped('A0N0',GetTriggerUnit())==0)
endfunction
function OOIOI1OI takes nothing returns nothing
local integer I=GetUnitAbilityLevel(GetTriggerUnit(),'AEme')
local unit u=GetTriggerUnit()
call TriggerSleepAction(1.)
call SetUnitAbilityLevel(u,'A0N0',20*I+20)
set u=null
endfunction
function OOIOOIII takes nothing returns boolean
return GetUnitTypeId(GetKillingUnit())=='O006' or GetUnitTypeId(GetKillingUnit())=='O01R' or GetUnitTypeId(GetKillingUnit())=='O01S'
endfunction
function OOIOOIOI takes nothing returns nothing
local integer I=1
local unit K=GetKillingUnit()
set II1OIO=(II1OIO+8)
if II1OIO>9999 then
set II1OIO=9999
endif
loop
exitwhen I==4
call SetUnitAbilityLevel(K,II1OOO[I],OO1IOOO(II1OIO,I)+1)
set I=I+1
endloop
endfunction
function OOIOOOII takes nothing returns boolean
return(GetSpellAbilityId()=='A0JK')
endfunction
function OOIOOOOI takes nothing returns nothing
set O11IO=GetTriggerUnit()
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
set OIO1O[0]=DistanceBetweenPoints(I1OII[0],I1OII[1])
set OIO1O[1]=AngleBetweenPoints(I1OII[0],I1OII[1])
call UnitAddAbility(GetTriggerUnit(),'A017')
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call O1OOOIO(O11IO,OIO1O[0],OIO1O[1],600.,1,OIOI1II)
call SetUnitTimeScalePercent(GetTriggerUnit(),80.)
call SetUnitAnimationWithRarity(GetTriggerUnit(),"Attack slam",RARITY_RARE)
endfunction
function Trig_SpiritJumpx_stomp_Func003002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_SpiritJumpx_stomp_Func003002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_SpiritJumpx_stomp_Func003002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I1IIO[I1O1O])))
endfunction
function Trig_SpiritJumpx_stomp_Func003002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I1IIO[I1O1O]))))
endfunction
function OOIOO1II takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I1IIO[I1O1O])))))))!=null
endfunction
function OOIOO1OI takes nothing returns nothing
call UnitDamageTargetBJ(I1IIO[I1O1O],GetEnumUnit(),OIO1O[0],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
endfunction
function OOIOO11I takes nothing returns nothing
set I1OII[0]=GetUnitLoc(I1IIO[I1O1O])
set OIO1O[0]=(200.*I2R(GetUnitAbilityLevelSwapped('A0JK',I1IIO[I1O1O])))
set OO1II=OOI1OIO((470.+(10.*I2R(GetUnitAbilityLevelSwapped('A0JK',I1IIO[I1O1O])))),I1OII[0],Condition(function OOIOO1II))
call ForGroupBJ(OO1II,function OOIOO1OI)
call UnitRemoveAbility(I1IIO[I1O1O],'A017')
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(I1IIO[I1O1O]),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A01B')
call SetUnitAbilityLevelSwapped('A01B',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0JK',I1IIO[I1O1O]))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D009F)
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
call SetUnitTimeScalePercent(I1IIO[I1O1O],100.)
call ResetUnitAnimation(I1IIO[I1O1O])
call DestroyGroup(OO1II)
call RemoveLocation(I1OII[0])
endfunction
function OOIO1IOI takes nothing returns boolean
return(GetSpellAbilityId()=='AEvi')
endfunction
function OOIO1I1I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('AEvi',GetTriggerUnit())==4)
endfunction
function OOIO1OII takes nothing returns nothing
call SetPlayerTechResearchedSwap('R004',GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()),GetTriggerPlayer())
if(OOIO1I1I())then
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function OOIO1O1I takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A05H')
endfunction
function OOIO11II takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='O003')
endfunction
function OOIO11OI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A05H',GetTriggerUnit())==4)
endfunction
function OOIO111I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A05H',GetTriggerUnit())==1)
endfunction
function OOI1IIII takes nothing returns nothing
if(OOIO11II())then
call SetUnitAbilityLevelSwapped('ACav',GetTriggerUnit(),(GetUnitAbilityLevelSwapped('ACav',GetTriggerUnit())+1))
endif
call SetUnitAbilityLevelSwapped('A0FK',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A05H',GetTriggerUnit()))
if(OOIO111I())then
call UnitAddAbility(GetTriggerUnit(),'A0FK')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A0FK')
else
if(OOIO11OI())then
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
endfunction
function OOI1II1I takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real OOI1IOII=GetRandomReal(IOOIO[K]+$9B,IOOIO[K]+$CD)
local real x=(((GetUnitX(I1IOO[K]))*1.)+(('d')*1.)*Cos(((IOOIO[K])*1.)*3.14159/180.))
local real y=(((GetUnitY(I1IOO[K]))*1.)+(('d')*1.)*Sin(((IOOIO[K])*1.)*3.14159/180.))
local unit e=CreateUnit(IIO1O[K],'n020',x,y,OOI1IOII)
set IOOIO[K]=OOI1IOII
set O1OII[K]=O1OII[K]+1
call UnitAddAbility(e,'A0EE')
call IssueImmediateOrderById(e,$D009F)
call SetUnitAnimationByIndex(e,5)
call SetUnitAnimation(I1IOO[K],"death")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl",e,"weapon"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl",I1IOO[K],"chest"))
call PanCameraToTimedForPlayer(IIO1O[K],x,y,.13)
if O1OII[K]==O1OOI[K]or GetWidgetLife(I1IOO[K])<.41 then
call ShowUnit(I1IIO[K],true)
call UnitShareVision(I1IOO[K],IIO1O[K],false)
call SetUnitFacing(I1IIO[K],OOI1IOII)
call SetUnitPosition(I1IIO[K],x,y)
call CreateTextTagUnitBJ("全疊打!",e,0,15.,'d',$A,$A,0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,2.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call OO1OIOO(K)
else
call CreateTextTagUnitBJ(I2S(O1OII[K])+"!",e,0,13.,'d',$A,$A,0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
endif
set IIO11I=OOI1IOII
set II1III=false
set IOOI1I=false
set II1IOI=45
set IOI1II=(.25/10.)
set IOI1OI=.97
set IOI11I=.5
set IOOIOI=I1IOO[K]
call ConditionalTriggerExecute(IIIOO1I)
call O1OO11O(e,.0,OOI1IOII,.3,null,null,.25,2,5,false,0,true,0)
set e=null
endfunction
function OOI1IOOI takes nothing returns boolean
return GetSpellAbilityId()=='A09C'
endfunction
function OOI1IO1I takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit t=GetSpellTargetUnit()
local real O1IIO1O=OO1IIOO(GetUnitX(u),GetUnitY(u),GetUnitX(t),GetUnitY(t))
local player p=GetTriggerPlayer()
call ShowUnit(u,false)
set I1IIO[K]=u
set I1IOO[K]=t
set O1OII[K]=0
set O1OOI[K]=GetRandomInt($B,17)
set IIO1O[K]=p
set IOOIO[K]=O1IIO1O
set IIO11I=O1IIO1O
set II1III=false
set IOOI1I=false
set II1IOI=35
set IOI1II=(.25/10.)
set IOI1OI=.98
set IOI11I=1.
set IOOIOI=t
call UnitShareVision(t,p,true)
call ConditionalTriggerExecute(IIIOO1I)
call TimerStart(IO1OO[K],.45,true,function OOI1II1I)
set p=null
set t=null
set u=null
endfunction
function OOI1I1OI takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function OOI1I11I takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real x=GetUnitX(I1IIO[K])
local real y=GetUnitY(I1IIO[K])
local real x2=(((x)*1.)+((50)*1.)*Cos(((IOOIO[K])*1.)*3.14159/180.))
local real y2=(((y)*1.)+((50)*1.)*Sin(((IOOIO[K])*1.)*3.14159/180.))
local real x3
local real y3
call SetUnitPosition(I1IIO[K],x2,y2)
set x3=GetUnitX(I1IIO[K])
set y3=GetUnitY(I1IIO[K])
set O1OII[K]=O1OII[K]+1
if OO1II1O(x3,y3,x2,y2)>5 or O1OII[K]==60 then
call OO1OIOO(K)
call SetUnitPosition(I1IIO[K],x,y)
else
call OO1OOIO(192.,x2,y2,function OOI1I1OI)
endif
endfunction
function OOI1OIII takes nothing returns boolean
return GetSpellAbilityId()=='A04K'
endfunction
function OOI1OIOI takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit t=GetSpellTargetUnit()
set IOOIO[K]=OO1IIOO(GetUnitX(u),GetUnitY(u),GetUnitX(t),GetUnitY(t))
set I1IIO[K]=t
set O1OII[K]=0
set u=null
set t=null
call TimerStart(IO1OO[K],.01,true,function OOI1I11I)
endfunction
function OOI1OOII takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A05Z')
endfunction
function OOI1OOOI takes nothing returns nothing
if GetUnitAbilityLevel(GetTriggerUnit(),'A136')>0 then
set tie136=GetTriggerUnit()
else
set IIOIIO=GetTriggerUnit()
endif
call EnableTrigger(OIOOOII)
endfunction
function OOI1O1II takes nothing returns nothing
local unit u=GetTriggerUnit()
local real OOI1O1OI=GetHeroInt(IIOIIO,true)*(5.+.5*GetUnitAbilityLevel(IIOIIO,'A05Z'))
local real tie1362=GetHeroInt(tie136,true)*2.5
if OOI1O1OI<'d'+100*GetUnitAbilityLevel(IIOIIO,'A05Z')then
set OOI1O1OI='d'+100*GetUnitAbilityLevel(IIOIIO,'A05Z')
endif
if tie1362<200 then
set tie1362=200
endif
if IsUnitInRange(u,IIOIIO,800.)and IsUnitEnemy(u,GetOwningPlayer(IIOIIO))and IsUnitType(u,UNIT_TYPE_MAGIC_IMMUNE)!=true then
call UnitDamageTarget(IIOIIO,u,OOI1O1OI,true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",u,"origin"))
endif
if IsUnitInRange(u,tie136,800.)and IsUnitEnemy(u,GetOwningPlayer(tie136))and IsUnitType(u,UNIT_TYPE_MAGIC_IMMUNE)!=true then
call UnitDamageTarget(tie136,u,tie1362,true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",u,"origin"))
endif
set u=null
endfunction
function OOI11III takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,I1OIOOO)or IsUnitInvisible(F,I1OIOOO)or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE)or IsUnitType(F,UNIT_TYPE_MAGIC_IMMUNE))then
set F=null
return true
endif
set F=null
return false
endfunction
function OOI11IOI takes nothing returns nothing
local integer I=0
local unit F
local boolean B=false
set I1OIIIO=1
call GroupClear(I1OI1IO)
call GroupEnumUnitsInRange(I1OI1IO,GetUnitX(I1OIOIO),GetUnitY(I1OIOIO),600.,Condition(function OOI11III))
loop
set F=FirstOfGroup(I1OI1IO)
exitwhen I>=20 or F==null
call UnitDamageTarget(I1OIOIO,F,GetHeroInt(I1OIOIO,true)*1.25,true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call SetWidgetLife(I1OIOIO,GetWidgetLife(I1OIOIO)+GetHeroInt(I1OIOIO,true)*.625)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\OrbOfDeath\\AnnihilationMissile.mdl",F,"chest"))
call GroupRemoveUnit(I1OI1IO,F)
set B=true
set I=I+1
set F=null
endloop
if B then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualCaster.mdl",I1OIOIO,"origin"))
endif
set F=null
set I1OIIOO=I1OIIOO+1
if I1OIIOO>=I1OII1O or GetWidgetLife(I1OIOIO)<.41 then
call GroupClear(I1OI1IO)
call PauseTimer(I1OIO1O)
endif
endfunction
function OOI11I1I takes nothing returns boolean
return GetSpellAbilityId()=='A01E' and GetUnitAbilityLevel(GetTriggerUnit(),'A09H')==0
endfunction
function OOI11OII takes nothing returns nothing
set I1OIOIO=GetTriggerUnit()
set I1OIIOO=0
set I1OIOOO=GetTriggerPlayer()
set I1OII1O=88+$A*GetUnitAbilityLevel(I1OIOIO,'A01E')*4
call PlaySoundOnUnitBJ(IIII11I,'d',GetTriggerUnit())
call TimerStart(I1OIO1O,.25,true,function OOI11IOI)
endfunction
function OOI11OOI takes nothing returns boolean
return(GetSpellAbilityId()=='A0DQ')
endfunction
function OOI11O1I takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit t=GetSpellTargetUnit()
local integer I=50*GetUnitAbilityLevel(u,'A0DQ')
call SetHeroAgi(u,GetHeroAgi(u,false)+I,true)
call SetHeroAgi(t,GetHeroAgi(t,false)-I,true)
call TriggerSleepAction(40.)
call SetHeroAgi(u,GetHeroAgi(u,false)-I,true)
call SetHeroAgi(t,GetHeroAgi(t,false)+I,true)
set u=null
set t=null
endfunction
function OOI111OI takes nothing returns boolean
return(GetSpellAbilityId()=='A0DS')
endfunction
function Trig_Gamble_Func004002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Gamble_Func004002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Gamble_Func004002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_Gamble_Func004002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function OOI1111I takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function OOOIIIII takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),OIO1O[1],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
endfunction
function OOOIIIOI takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetSpellTargetUnit())
set OIO1O[0]=((.5+(1.5*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))+.0)
set OIO1O[1]=(.0+(1500.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
set OO1II=OOI1OIO((200.+(200.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))),I1OII[0],Condition(function OOI1111I))
call ForGroupBJ(OO1II,function OOOIIIII)
call DestroyGroup(OO1II)
call CreateNUnitsAtLoc(1,'e00T',Player($F),I1OII[0],bj_UNIT_FACING)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,OIO1O[0],OIO1O[0],OIO1O[0],0)
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=(3*GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'e00T',Player($F),I1OII[0],bj_UNIT_FACING)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,OIO1O[0],OIO1O[0],OIO1O[0],0)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,(25.*I2R(bj_forLoopAIndex)))
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call UnitRemoveBuffsExBJ(0,0,GetTriggerUnit(),false,false)
call CreateNUnitsAtLoc(1,'e01Z',Player($C),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A0DA')
call SetUnitUserData(bj_lastCreatedUnit,$A)
call IssueTargetOrderById(bj_lastCreatedUnit,$D007F,GetTriggerUnit())
call CreateNUnitsAtLoc(1,'e01Z',Player($C),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A0DT')
call SetUnitUserData(bj_lastCreatedUnit,$A)
call SetUnitAbilityLevelSwapped('A0DT',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call IssueTargetOrderById(bj_lastCreatedUnit,$D007F,GetTriggerUnit())
call RemoveLocation(I1OII[0])
endfunction
function OOOIIOII takes nothing returns boolean
return(GetUnitTypeId(GetSummonedUnit())=='n01A')or(GetUnitTypeId(GetSummonedUnit())=='n015')
endfunction
function OOOIIOOI takes nothing returns boolean
return(OOOIIOII())
endfunction
function OOOIIO1I takes nothing returns nothing
set IIIIOI[0]=(GetHeroLevel(GetSummoningUnit())/$A)
call SetPlayerTechResearchedSwap('R00O',IIIIOI[0],GetTriggerPlayer())
endfunction
function OOOII1OI takes nothing returns boolean
return GetSpellAbilityId()=='AEIl'
endfunction
function OOOII11I takes nothing returns nothing
local unit u=GetTriggerUnit()
if GetUnitAbilityLevel(GetTriggerUnit(),'AUav')>0 then
call TriggerSleepAction(.5)
call UnitRemoveAbility(u,'BUav')
else
call SetPlayerTechResearched(GetTriggerPlayer(),'R009',GetPlayerTechCount(Player(0),'R009',true)+1)
endif
set u=null
endfunction
function OOOIOIOI takes nothing returns boolean
return(GetSpellAbilityId()=='A042')
endfunction
function OOOIOI1I takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'ncfs',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call RemoveLocation(I1OII[0])
endfunction
function OOOIOOOI takes nothing returns boolean
return GetSpellAbilityId()=='A0JB'
endfunction
function OOOIOO1I takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
if GetUnitAbilityLevel(I1IIO[K],'B03E')==0 then
call UnitRemoveAbility(I1IIO[K],'A038')
call OO1OIOO(K)
endif
endfunction
function OOOIO1II takes nothing returns nothing
local integer K=OO1OIIO()
local unit O1IOO1O=GetTriggerUnit()
local unit T=GetSpellTargetUnit()
call UnitAddAbility(T,'A038')
call SetUnitAbilityLevel(T,'A0LI',GetUnitAbilityLevel(O1IOO1O,'A0JB'))
set I1IIO[K]=T
call TimerStart(IO1OO[K],1,true,function OOOIOO1I)
set O1IOO1O=null
set T=null
endfunction
function OOOIO11I takes nothing returns boolean
return(GetSpellAbilityId()=='A0J2')
endfunction
function Trig_Decay_Func003002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Decay_Func003002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Decay_Func003002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_Decay_Func003002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function OOOI1III takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function OOOI1IOI takes nothing returns nothing
set OIO1O[1]=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetEnumUnit())*(.02+(.16*OIO1O[0])))
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),OIO1O[1],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function OOOI1I1I takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
set OIO1O[0]=I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
set OO1II=OOI1OIO(500.,I1OII[0],Condition(function OOOI1III))
call ForGroupBJ(OO1II,function OOOI1IOI)
call RemoveLocation(I1OII[0])
call DestroyGroup(OO1II)
endfunction
function OOOI1OOI takes nothing returns boolean
return(GetSpellAbilityId()=='A0A9')
endfunction
function OOOI1O1I takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A0AA')
call SetUnitAbilityLevelSwapped('A0AA',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0A9',GetTriggerUnit()))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0080)
call RemoveLocation(I1OII[0])
endfunction
function OOOI11OI takes nothing returns nothing
local unit e=CreateUnit(GetOwningPlayer(I1OI11O),'e01Z',GetUnitX(I1IIO[I1O1O]),GetUnitY(I1IIO[I1O1O]),0)
call UnitAddAbility(e,'A0GH')
call UnitApplyTimedLife(e,'BTLF',2)
call SetUnitUserData(e,9)
call SetUnitAbilityLevel(e,'A0GH',GetUnitAbilityLevel(I1OI11O,'A08R'))
call IssueImmediateOrderById(e,$D009F)
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Ram.mdx",I1IIO[I1O1O],"origin"))
call UnitDamageTarget(I1OI11O,I1IIO[I1O1O],300+($C8*GetUnitAbilityLevel(I1OI11O,'A08R')),true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
set e=null
endfunction
function OOOI111I takes nothing returns boolean
return GetSpellAbilityId()=='A08R'
endfunction
function OOOOIIII takes nothing returns nothing
local real OOOOIIOI
set I1OI11O=GetTriggerUnit()
set I1OOIIO=GetSpellTargetUnit()
set OOOOIIOI=OO1IIOO(GetUnitX(I1OI11O),GetUnitY(I1OI11O),GetUnitX(I1OOIIO),GetUnitY(I1OOIIO))
call O1OOOIO(I1OOIIO,1,OOOOIIOI,850,1.2,I1OI1OO)
call SetUnitAnimationWithRarity(I1OOIIO,"death",RARITY_FREQUENT)
endfunction
function OOOOII1I takes nothing returns boolean
return(GetSpellAbilityId()=='A08Q')or(GetSpellAbilityId()=='A08T')
endfunction
function OOOOIOII takes nothing returns boolean
return(OOOOII1I())
endfunction
function OOOOIOOI takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
set I1OII[2]=OOIOO1O(I1OII[0],32.,AngleBetweenPoints(I1OII[0],I1OII[1]))
call CreateNUnitsAtLoc(1,'e027',GetTriggerPlayer(),I1OII[0],GetUnitFacing(GetTriggerUnit()))
call SetUnitScalePercent(bj_lastCreatedUnit,300.,300.,300.)
call ShowUnitHide(bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'AUcs')
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,I1OII[2])
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call RemoveLocation(I1OII[2])
endfunction
function OOOOI1II takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function OOOOI1OI takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real x=GetUnitX(I1IIO[K])
local real y=GetUnitY(I1IIO[K])
local real x2=(((x)*1.)+((50)*1.)*Cos(((IOOIO[K])*1.)*3.14159/180.))
local real y2=(((y)*1.)+((50)*1.)*Sin(((IOOIO[K])*1.)*3.14159/180.))
local real x3
local real y3
local unit e
call SetUnitPosition(I1IIO[K],x2,y2)
set x3=GetUnitX(I1IIO[K])
set y3=GetUnitY(I1IIO[K])
set O1OII[K]=O1OII[K]+1
if OO1II1O(x3,y3,x2,y2)>5 or O1OII[K]==20 then
if OO1II1O(x3,y3,x2,y2)>5 then
set e=CreateUnit(IIO1O[K],'e01Z',x2,y2,0)
call SetUnitUserData(e,9)
call UnitApplyTimedLife(e,'BTLF',3)
call UnitAddAbility(e,'A0GH')
call SetUnitAbilityLevel(e,'A0GH',O1OOI[K]+4)
call IssueImmediateOrderById(e,$D009F)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl",x2,y2))
set e=null
endif
call OO1OIOO(K)
call SetUnitPosition(I1IIO[K],x,y)
else
call OO1OOIO(192.,x2,y2,function OOOOI1II)
endif
endfunction
function OOOOI11I takes nothing returns boolean
return GetSpellAbilityId()=='A08S'
endfunction
function OOOOOIII takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit t=GetSpellTargetUnit()
set IOOIO[K]=OO1IIOO(GetUnitX(u),GetUnitY(u),GetUnitX(t),GetUnitY(t))
set I1IIO[K]=t
set O1OII[K]=0
set O1OOI[K]=GetUnitAbilityLevel(u,'A08S')
set IIO1O[K]=GetTriggerPlayer()
set u=null
set t=null
call TimerStart(IO1OO[K],.03,true,function OOOOI1OI)
endfunction
//===========================================================================
// Trigger: A12R Learn
//===========================================================================
// trigger gg_trg_A12R_Learn= null
// trigger gg_trg_A12R= null

function OOOOOI1I takes nothing returns boolean
	return ( ( GetLearnedSkillBJ() == 'ACav' ) and ( GetUnitAbilityLevel(GetTriggerUnit(), 'ACav') == 1 ) and ( IsUnitIllusionBJ(GetTriggerUnit()) != true ) )
endfunction

function OOOOOOII takes nothing returns nothing
	call UnitAddAbility(GetTriggerUnit(), 'AIat')
	call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'AIat')

	if GetUnitAbilityLevel(GetTriggerUnit(),'A144')>0 then
		// call BJDebugMsg("觸發了-tie144")
		set tie144=GetTriggerUnit()
	endif

	if GetUnitAbilityLevel(GetTriggerUnit(),'ACav')>0 then
		// call BJDebugMsg("觸發了-O11IOI")
		set O11IOI=GetTriggerUnit()
	endif

	//call DisplayTimedTextToForce(OOOIIIO(GetTriggerPlayer()),5.,("觸發了-ACav技能"))
	
endfunction



function OOOOOO1I takes nothing returns boolean
	return GetAttacker()==O11IOI or GetAttacker()==tie144
endfunction

function AcavFunction takes nothing returns nothing
	local unit u1= O11IOI
	local unit u2= GetEventTargetUnit()
	local integer i=GetPlayerId(GetOwningPlayer(u1)) + 1

	if ( ( u2 != udg_A12R_U[i] ) and ( udg_A12R_U[i] != null ) ) then
		set udg_A12R_I[i]=1
	else
		// udg_A12R_I[i] = 疊槍次數
		if udg_A12R_I[i] < 1 + 5 * GetUnitAbilityLevel(u1, 'ACav') then
			set udg_A12R_I[i] = udg_A12R_I[i] + 1
		endif
	endif

	// get_trigger_unit = 上次攻擊目標, GetTriggerUnit() = 現在攻擊目標
	if GetTriggerUnit() != get_trigger_unit then
		set udg_A12R_I[i] = R2I(udg_A12R_I[i]/2)
	endif
				
	set get_trigger_unit = GetTriggerUnit()

	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\GryphonRiderMissile\\GryphonRiderMissile.mdl", u1, "weapon"))
	set udg_A12R_U[i]=u2
	
	call SetUnitAbilityLevel(u1, 'AIat', udg_A12R_I[i])

	// call BJDebugMsg("疊槍次數: "+I2S(udg_A12R_I[i]))

	set u1=null
	set u2=null

endfunction

function OOOOO1II takes nothing returns nothing
	local integer OOOOO1OI=GetUnitAbilityLevel(O11IOI,'ACav')
	local integer LV=GetUnitAbilityLevel(O11IOI,'AIat')
	local integer LV2=GetUnitAbilityLevel(tie144,'AIat')
	if GetAttacker()==O11IOI then
		if GetTriggerUnit()!=I1OOIOO then
			set LV=R2I(LV/2)+1
			call SetUnitAbilityLevel(O11IOI,'AIat',LV)
		endif
		set I1OOIOO=GetTriggerUnit()
		if LV<OOOOO1OI then
			call SetUnitAbilityLevel(O11IOI,'AIat',LV+1)
		endif
	else
		if GetTriggerUnit()!=tie1442 then
			set LV2=R2I(LV2/2)+1
			call SetUnitAbilityLevel(tie144,'AIat',LV2)
		endif
		set tie1442=GetTriggerUnit()
		if LV2<10 then
			call SetUnitAbilityLevel(tie144,'AIat',LV2+1)
		endif
	endif
	call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\GryphonRiderMissile\\GryphonRiderMissile.mdl",O11IOI,"weapon"))

endfunction

function OOOOO11I takes nothing returns boolean
return(GetSpellAbilityId()=='A09F')
endfunction

function OOOO1III takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A02R')
call SetUnitAbilityLevelSwapped('A02R',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A09F',GetTriggerUnit()))
call IssueTargetOrderById(bj_lastCreatedUnit,$D00DD,GetSpellAbilityUnit())
call RemoveLocation(I1OII[0])
endfunction
function OOOO1I1I takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A0KA') and GetUnitAbilityLevel(GetTriggerUnit(),'A0KA')==1
endfunction
function OOOO1OII takes nothing returns nothing
call EnableTrigger(OIO111I)
call TriggerRegisterUnitEvent(OIO111I,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
endfunction
function OOOO1O1I takes nothing returns boolean
return(GetEventDamage()>.0)and(TimerGetRemaining(OI1I1I)==.0)
endfunction
function OOOO11II takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Weapons\\FireBallMissile\\FireBallMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Weapons\\FireBallMissile\\FireBallMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if GetUnitAbilityLevelSwapped('A0KA',GetTriggerUnit())>0 then
call SetWidgetLife(GetTriggerUnit(),((I2R(GetHeroStatBJ(0,GetTriggerUnit(),true))*.8*(((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())-GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit()))/GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())*I2R(GetUnitAbilityLevelSwapped('A0KA',GetTriggerUnit())))))+GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())))
else
call SetWidgetLife(GetTriggerUnit(),((I2R(GetHeroStatBJ(0,GetTriggerUnit(),true))*.8*(((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())-GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit()))/GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit()))))+GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())))
endif
call SetWidgetLife(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+20.))
if GetUnitAbilityLevelSwapped('A0KA',GetTriggerUnit())>0 then
call StartTimerBJ(OI1I1I,false,.5/GetUnitAbilityLevelSwapped('A0KA',GetTriggerUnit()))
else
call StartTimerBJ(OI1I1I,false,.5)
endif
endfunction
function OOOO111I takes nothing returns boolean
return(GetSpellAbilityId()=='A0L7')
endfunction
function OOO1IIII takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(20.,'BTLF',bj_lastCreatedUnit)
call SetUnitUserData(bj_lastCreatedUnit,$D)
call UnitAddAbility(bj_lastCreatedUnit,'A0IX')
call SetUnitAbilityLevelSwapped('A0IX',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0L7',GetTriggerUnit()))
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D02BD,I1OII[0])
call RemoveLocation(I1OII[0])
endfunction
function OOO1II1I takes nothing returns boolean
return(GetSpellAbilityId()=='A01C')
endfunction
function OOO1IOII takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=2
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[2]=OOIOO1O(I1OII[0],(480.*I2R(bj_forLoopAIndex)),AngleBetweenPoints(I1OII[0],I1OII[1]))
call CreateNUnitsAtLoc(1,'n02A',GetTriggerPlayer(),I1OII[2],bj_UNIT_FACING)
call RemoveLocation(I1OII[2])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function OOO1IO1I takes nothing returns boolean
return(GetSpellAbilityId()=='A0MP')
endfunction
function OOO1I1II takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetSpellTargetUnit())
set III1IO=GetTriggerUnit()
set III1OO=(.2+(.2*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
set OIO1O[0]=(360./(.0+(2.+I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=(2+GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],200.,(OIO1O[0]*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'osw1',GetTriggerPlayer(),I1OII[1],(180.+(OIO1O[0]*I2R(bj_forLoopAIndex))))
call IssueTargetOrderById(bj_lastCreatedUnit,$D000F,GetSpellTargetUnit())
call UnitApplyTimedLifeBJ(5.,'BTLF',bj_lastCreatedUnit)
call AddSpecialEffectLocBJ(I1OII[1],"Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
call EnableTrigger(OI1IOII)
call TriggerSleepAction(6.)
call DisableTrigger(OI1IOII)
endfunction
function OOO1I11I takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='osw1')
endfunction
function OOO1OIII takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(I2R(GetHeroStatBJ(2,III1IO,true))*III1OO),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
endfunction
function OOO1OI1I takes nothing returns boolean
return GetSpellAbilityId()=='A0NK'
endfunction
function OOO1OOII takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit t=GetSpellTargetUnit()
local location p1=GetUnitLoc(u)
local location p2=GetUnitLoc(t)
local unit e
local unit e1
call SetUnitPathing(u,false)
call SetUnitPathing(t,false)
if not(IsUnitType(t,UNIT_TYPE_HERO) or GetUnitTypeId(t)=='nbld' or IsUnitIllusion(t)) then
set e1=CreateUnit(GetTriggerPlayer(),GetUnitTypeId(t),GetUnitX(t),GetUnitY(t),0)
call UnitApplyTimedLife(e1,'BTLF',60.)
endif
if IsUnitEnemy(t,GetTriggerPlayer())then
set e=CreateUnit(GetTriggerPlayer(),'e01Z',GetUnitX(u),GetUnitY(u),0)
call UnitDamageTarget(u,t,50*GetUnitAbilityLevel(u,'A0NK'),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call UnitAddAbility(e,'A0CD')
call SetUnitAbilityLevel(e,'A0CD',GetUnitAbilityLevel(u,'A0NK'))
call IssueTargetOrderById(e,$D007F,t)
call UnitDamageTarget(u,t,50*GetUnitAbilityLevel(u,'A0NK'),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call UnitApplyTimedLife(e,'BTLF',3)
set e=null
else
call SetUnitState(t,UNIT_STATE_LIFE,GetUnitState(t,UNIT_STATE_LIFE)+250*GetUnitAbilityLevel(u,'A0NK'))
endif
call TriggerSleepAction(.0)
call SetUnitPositionLoc(u,p2)
call SetUnitPositionLoc(t,p1)
call SetUnitPathing(u,true)
call SetUnitPathing(t,true)
call RemoveLocation(p1)
call RemoveLocation(p2)
set p1=null
set p2=null
set u=null
set t=null
endfunction
function OOO1OO1I takes nothing returns boolean
return GetSpellAbilityId()=='A0JL'
endfunction
function OOO1O1II takes nothing returns nothing
local unit u=GetTriggerUnit()
local real x=(((GetUnitX(u))*1.)+(($80)*1.)*Cos(((GetUnitFacing(u))*1.)*3.14159/180.))
local real y=(((GetUnitY(u))*1.)+(($80)*1.)*Sin(((GetUnitFacing(u))*1.)*3.14159/180.))
call SetUnitX(GetSpellTargetUnit(),x)
call SetUnitY(GetSpellTargetUnit(),y)
set u=null
endfunction
function OOO1O11I takes nothing returns boolean
return(GetLearnedSkill()=='A0JL')
endfunction
function tiebigcoolf takes nothing returns nothing
set tiebigcool=true
endfunction
function OOO11IOI takes nothing returns nothing
local integer loopexit=0
if tiebigplayer!=GetPlayerId(GetTriggerPlayer()) then
set tiebigplayer=GetPlayerId(GetTriggerPlayer())
set tiebiglimit=0
set tiebig[0]='A300'
set tiebig[1]='A301'
set tiebig[2]='A302'
set tiebig[3]='A303'
set tiebig[4]='A304'
set tiebig[5]='A305'
set tiebig[6]='A306'
set tiebig[7]='A307'
set tiebig[8]='A308'
set tiebig[9]='A309'
set tiebig[10]='A310'
set tiebig[11]='A311'
set tiebig[12]='A312'
set tiebig[13]='A313'
set tiebig[14]='A314'
set tiebig[15]='A315'
set tiebig[16]='A316'
set tiebig[17]='A317'
set tiebig[18]='A318'
set tiebig[19]='A319'
set tiebig[20]='A320'
set tiebig[21]='A321'
set tiebig[22]='A322'
set tiebig[23]='A323'
set tiebig[24]='A324'
set tiebig[25]='A325'
set tiebig[26]='A326'
set tiebig[27]='A327'
set tiebig[28]='A328'
set tiebig[29]='A329'
set tiebig[30]='A330'
set tiebig[31]='A331'
set tiebig[32]='A332'
set tiebig[33]='A333'
set tiebig[34]='A334'
set tiebig[35]='A335'
set tiebig[36]='A336'
set tiebig[37]='A337'
set tiebig[38]='A338'
set tiebig[39]='A339'
set tiebig[40]='A340'
set tiebig[41]='A341'
set tiebig[42]='A342'
set tiebig[43]='A343'
set tiebig[44]='A344'
set tiebig[45]='A345'
set tiebig[46]='A346'
set tiebig[47]='A347'
set tiebig[48]='A348'
set tiebig[49]='A349'
set tiebig[50]='A350'
set tiebig[51]='A351'
set tiebigtext[0]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「訐謀攻勢」|r"
set tiebigtext[1]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「一視同仁」|r"
set tiebigtext[2]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「石之共鳴」|r"
set tiebigtext[3]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「新陰流」|r"
set tiebigtext[4]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「領兵如神」|r"
set tiebigtext[5]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「大地束縛」|r"
set tiebigtext[6]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「雨鐵砲」|r"
set tiebigtext[7]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「靈犀一擊」|r"
set tiebigtext[8]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「靈活強化」|r"
set tiebigtext[9]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「武士戰魂」|r"
set tiebigtext[10]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「近侍心得」|r"
set tiebigtext[11]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「越後金鋼」|r"
set tiebigtext[12]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「怪力擊」|r"
set tiebigtext[13]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「疾如風」|r"
set tiebigtext[14]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「法術護盾」|r"
set tiebigtext[15]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「巨人之外皮」|r"
set tiebigtext[16]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「毒氣之箭」|r"
set tiebigtext[17]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「撕裂傷口」|r"
set tiebigtext[18]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「忍法‧迅雷」|r"
set tiebigtext[19]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「巖流」|r"
set tiebigtext[20]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「居合道」|r"
set tiebigtext[21]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「二天一流」|r"
set tiebigtext[22]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「體格強化」|r"
set tiebigtext[23]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「力量強化」|r"
set tiebigtext[24]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「精準之光」|r"
set tiebigtext[25]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「無想轉生」|r"
set tiebigtext[26]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「劍術」|r"
set tiebigtext[27]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「鬼武者劍術」|r"
set tiebigtext[28]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「暴雷怒擊」|r"
set tiebigtext[29]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「豪氣攻擊」|r"
set tiebigtext[30]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「柳生新陰流」|r"
set tiebigtext[31]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「魔血沸騰」|r"
set tiebigtext[32]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「靜心冥思」|r"
set tiebigtext[33]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「火焰返響」|r"
set tiebigtext[34]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「士氣提昇」|r"
set tiebigtext[35]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「重鐵砲」|r"
set tiebigtext[36]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「老奸巨猾」|r"
set tiebigtext[37]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「猛擊」|r"
set tiebigtext[38]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「武者之道」|r"
set tiebigtext[39]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「霜雀」|r"
set tiebigtext[40]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「遊風行身」|r"
set tiebigtext[41]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「蠱惑術」|r"
set tiebigtext[42]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「二丁銃」|r"
set tiebigtext[43]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「雷霆刃」|r"
set tiebigtext[44]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「疊擊槍術」|r"
set tiebigtext[45]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「不屈武勇」|r"
set tiebigtext[46]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「體術‧怨念斬」|r"
set tiebigtext[47]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「弱化靈氣」|r"
set tiebigtext[48]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「機智消磨」|r"
set tiebigtext[49]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「武者之道」|r"
set tiebigtext[50]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「火海術」|r"
set tiebigtext[51]="　　　　　　　　　　　　　　　|Cffffcc00超越時空的作用下，學會技能「壓切」|r"
loop
exitwhen loopexit>51
set tiebig2[loopexit]=0
endloop
endif
endfunction
function OOO11OII takes nothing returns boolean
return(GetSpellAbilityId()=='A0JL')
endfunction
function Trig_Diversion_cast_Func001Func001001 takes nothing returns boolean
return(III11O==GetTriggerPlayer())
endfunction
function OOO11OOI takes nothing returns boolean
return(IOI11O[(1+GetPlayerId(GetOwningPlayer(GetSpellTargetUnit())))])
endfunction
function OOO11O1I takes nothing returns nothing
local integer ranskill=100
if tiebigcool==true then
loop
if tiebiglimit>=15+15*GetUnitAbilityLevel(GetTriggerUnit(),'A0JL') then
exitwhen true
endif
set ranskill=GetRandomInt(1,52)-1
exitwhen tiebig2[ranskill]==0
endloop
if ranskill==100 then
call DisplayTimedTextToForce(OOOIIIO(GetTriggerPlayer()),5.,"　　　　　　　　　　　　　　　|Cffffcc00超越時空已達至技能上限，全能上升5點|r")
call ModifyHeroStat(0,GetTriggerUnit(),0,5)
call ModifyHeroStat(1,GetTriggerUnit(),0,5)
call ModifyHeroStat(2,GetTriggerUnit(),0,5)
else
call UnitAddAbility(GetTriggerUnit(),tiebig[ranskill])
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,tiebig[ranskill])
call SetPlayerAbilityAvailable(GetTriggerPlayer(),tiebig[ranskill],false)
set tiebiglimit=tiebiglimit+1
set tiebig2[ranskill]=tiebig2[ranskill]+1
call DisplayTimedTextToForce(OOOIIIO(GetTriggerPlayer()),5.,tiebigtext[ranskill])
if ranskill==0 then
call EnableTrigger(I1OOOI[4])
elseif ranskill==2 then
call TriggerExecute(O11OIOI)
elseif ranskill==4 then
call TriggerExecute(O1O1I1I)
elseif ranskill==7 then
call TriggerExecute(O1IOO1I)
elseif ranskill==10 then
call TriggerExecute(OOO1O1I)
elseif ranskill==14 then
call TriggerExecute(OOOIO1I)
elseif ranskill==17 then
call TriggerExecute(O1I111I)
elseif ranskill==20 then
call UnitAddAbility(GetTriggerUnit(),'A220')
elseif ranskill==22 then
call TriggerExecute(IIOI11O)
elseif ranskill==24 then
call ModifyHeroStat(1,GetTriggerUnit(),0,$F)
elseif ranskill==29 then
call TriggerExecute(IIOIOIO)
elseif ranskill==31 then
call TriggerExecute(I11OO1I)
elseif ranskill==32 then
call UnitAddAbility(GetTriggerUnit(),'A232')
call EnableTrigger(I1O1OOI)
elseif ranskill==33 then
call ModifyHeroStat(2,GetTriggerUnit(),0,$F)
elseif ranskill==36 then
call TriggerExecute(OIOOI1I)
elseif ranskill==44 then
call TriggerExecute(OIO1O1I)
elseif ranskill==45 then
call TriggerExecute(OIO11OI)
elseif ranskill==48 then
call EnableTrigger(I111OII)
elseif ranskill==51 then
call UnitAddAbility(GetTriggerUnit(),'A251')
endif
endif
set tiebigcool=false
call StartTimerBJ(tiebigtime,true,29.+(30./GetUnitAbilityLevel(GetTriggerUnit(),'A0JL')))
endif
endfunction
function Trig_Diversion_allyallow_Func001001 takes nothing returns boolean
return(III11O==GetTriggerPlayer())
endfunction
function OOO111OI takes nothing returns boolean
return(IOI11O[(1+GetPlayerId(GetTriggerPlayer()))]==false)
endfunction
function OO1IIIOI takes nothing returns boolean
return(GetSpellAbilityId()=='AUfa')
endfunction
function OO1III1I takes nothing returns nothing
set O1I1OI[0]=0
set O1I1II=GetSpellTargetUnit()
call EnableTrigger(OI1OIOI)
call CreateTextTagUnitBJ("平",GetSpellTargetUnit(),0,15.,100.,'d','d',0)
set O1I11I=bj_lastCreatedTextTag
set O1I1OI[1]=$F
call StartTimerBJ(O1OIII,true,.05)
endfunction
function OO1IIOOI takes nothing returns boolean
return(O1I1OI[1]>=50)
endfunction
function OO1IIO1I takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,O1I1II)<.41)or(O1I1OI[0]>=300)
endfunction
function OO1II1II takes nothing returns boolean
return(OO1IIO1I())
endfunction
function OO1II1OI takes nothing returns nothing
set O1I1OI[0]=(O1I1OI[0]+1)
set O1I1OI[1]=(O1I1OI[1]+1)
call SetTextTagTextBJ(O1I11I,"平",I2R(O1I1OI[1]))
call SetTextTagPosUnitBJ(O1I11I,O1I1II,0)
if(OO1IIOOI())then
set O1I1OI[1]=$F
endif
if(OO1II1II())then
call DisableTrigger(GetTriggeringTrigger())
set O1I1II=null
call DestroyTextTag(O1I11I)
call PauseTimerBJ(true,O1OIII)
endif
endfunction
function OO1IOIII takes nothing returns boolean
return(GetLearnedSkill()=='A0NC')
endfunction
function OO1IOIOI takes nothing returns nothing
call EnableTrigger(I1OOOI[5])
endfunction
function OO1IOOII takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitInGroup(F,I1O11IO)or IsUnitAlly(F,I1OO1OO)or IsUnitType(F,UNIT_TYPE_STRUCTURE)or GetWidgetLife(F)<.41)then
set I1OO1IO=F
call GroupAddUnit(I1O11IO,F)
set jiecheng2bonus=jiecheng2bonus+1
endif
set F=null
return false
endfunction
function OO1IOOOI takes nothing returns nothing
local real x
local real y
local real O1IIO1O
local unit e
local real unitx=GetUnitX(I1OOO1O)
local real unity=GetUnitY(I1OOO1O)
if I1OO1IO!=null then
set unitx=GetUnitX(I1OO1IO)
set unity=GetUnitY(I1OO1IO)
endif
set I1OO1IO=null
call GroupEnumUnitsInRange(OII1O,unitx,unity,600,Condition(function OO1IOOII))
call GroupEnumUnitsInRange(OII1O,GetUnitX(I1OOO1O),GetUnitY(I1OOO1O),600,Condition(function OO1IOOII))
call GroupEnumUnitsInRange(OII1O,GetUnitX(I1OOOOO),GetUnitY(I1OOOOO),600,Condition(function OO1IOOII))
if not(GetWidgetLife(I1OOO1O)<.41 and IsUnitInGroup(I1OOO1O,I1O11IO)) then
call GroupAddUnit(I1O11IO,I1OOO1O)
set jiecheng2bonus=jiecheng2bonus+1
endif
loop
set I1OO1IO=GroupPickRandomUnit(I1O11IO)
if FirstOfGroup(I1O11IO)!=null and GetWidgetLife(I1OO1IO)<.41 then
call GroupRemoveUnit(I1O11IO,I1OO1IO)
set jiecheng2bonus=jiecheng2bonus-1
else
exitwhen FirstOfGroup(I1O11IO)==null or I1OO1IO!=null
endif
endloop
if I1O1OIO>=I1O1I1O or I1OO1IO==null then
set I1O1OIO=I1O1OIO+1
call PauseTimer(I1O1OOO)
set O1IIO1O=GetRandomReal(0,360)
set x=(((GetUnitX(I1OOO1O))*1.)+(('d')*1.)*Cos(((O1IIO1O)*1.)*3.14159/180.))
set y=(((GetUnitY(I1OOO1O))*1.)+(('d')*1.)*Sin(((O1IIO1O)*1.)*3.14159/180.))
set I1OOI1O[I1O1OIO]=AddLightningEx("CLPB",true,I1OO11O,I1O1IIO,I1O1IOO,x,y,GetUnitFlyHeight(I1OO1IO))
set I1OOOIO[I1O1OIO]=AddLightningEx("SPLK",true,I1OO11O,I1O1IIO,I1O1IOO,x,y,GetUnitFlyHeight(I1OO1IO))
call UnitDamageTarget(I1OOOOO,I1OOO1O,I1O1O1O,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call SetUnitX(I1OOOOO,x)
call SetUnitY(I1OOOOO,y)
call SetUnitFacingTimed(I1OOOOO,O1IIO1O+$B4,.2)
call SetUnitAnimation(I1OOOOO,"slam")
call SetUnitVertexColor(I1OOOOO,$FF,$FF,$FF,$FF)
call PauseUnit(I1OOOOO,false)
call UnitRemoveAbility(I1OOOOO,'Avul')
call GroupClear(I1O11IO)
set jiecheng2bonus=2
loop
exitwhen I1O1OIO==0
call DestroyLightning(I1OOI1O[I1O1OIO])
call DestroyLightning(I1OOOIO[I1O1OIO])
set I1O1OIO=I1O1OIO-1
endloop
call TriggerSleepAction(3)
call DisableTrigger(I1O11OO)
else
set I1O1OIO=I1O1OIO+1
set O1IIO1O=GetRandomReal(0,360)
set x=(((GetUnitX(I1OO1IO))*1.)+(('d')*1.)*Cos(((O1IIO1O)*1.)*3.14159/180.))
set y=(((GetUnitY(I1OO1IO))*1.)+(('d')*1.)*Sin(((O1IIO1O)*1.)*3.14159/180.))
call OO1IOIO(I1OOOOO,x,y)
set I1OOI1O[I1O1OIO]=AddLightningEx("CLPB",true,I1OO11O,I1O1IIO,I1O1IOO,x,y,GetUnitFlyHeight(I1OO1IO))
set I1OOOIO[I1O1OIO]=AddLightningEx("SPLK",true,I1OO11O,I1O1IIO,I1O1IOO,x,y,GetUnitFlyHeight(I1OO1IO))
set I1O1IOO=GetUnitFlyHeight(I1OO1IO)
set I1OO11O=GetUnitX(I1OO1IO)
set I1O1IIO=GetUnitY(I1OO1IO)
set e=CreateUnit(I1OO1OO,'nspd',x,y,O1IIO1O+$B4)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",e,"weapon"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",I1OO1IO,"chest"))
if GetUnitState(I1OO1IO,UNIT_STATE_LIFE)>GetUnitState(I1OO1IO,UNIT_STATE_MAX_LIFE)*.5 then
call SetUnitState(I1OO1IO,UNIT_STATE_LIFE,GetUnitState(I1OO1IO,UNIT_STATE_LIFE)-GetUnitState(I1OO1IO,UNIT_STATE_MAX_LIFE)*.002)
endif
call SetUnitState(I1OO1IO,UNIT_STATE_LIFE,GetUnitState(I1OO1IO,UNIT_STATE_LIFE)*.9975)
call UnitDamageTarget(I1OOOOO,I1OO1IO,I1O1O1O,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
set I1O1O1O=jiecheng2original*jiecheng2bonus*.5
if jiecheng2bonus>=2.5 then
set I1O1O1O=I1O1O1O*SquareRoot(SquareRoot(SquareRoot(jiecheng2bonus-1.5)))
endif
call GroupRemoveUnit(I1O11IO,I1OO1IO)
set jiecheng2bonus=jiecheng2bonus-1
call SetUnitTimeScale(e,1.7)
call SetUnitAnimation(e,"attack")
call UnitApplyTimedLife(e,'BTLF',.8)
set e=null
endif
endfunction
function OO1IOO1I takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())=='nspd' then
call KillUnit(GetTriggerUnit())
call RemoveUnit(GetTriggerUnit())
endif
return false
endfunction
function OO1IO1II takes nothing returns boolean
return GetSpellAbilityId()=='A0NF'
endfunction
function OO1IO1OI takes nothing returns nothing
call GroupClear(I1O11IO)
set I1OOOOO=GetTriggerUnit()
set I1OOO1O=GetSpellTargetUnit()
set I1OO1OO=GetTriggerPlayer()
set I1O1I1O=5*GetUnitAbilityLevel(I1OOOOO,'A0NF')+GetUnitLevel(I1OOOOO)*2
set I1O1OIO=0
set I1OO1IO=null
set I1O1IOO=GetUnitFlyHeight(I1OOOOO)
set I1OO11O=GetUnitX(I1OOOOO)
set I1O1IIO=GetUnitY(I1OOOOO)
set I1O1O1O=10-GetUnitAbilityLevel(I1OOOOO,'A0NF')
set I1O1O1O=I1O1O1O+SquareRoot(SquareRoot(I2R(GetHeroAgi(I1OOOOO,true))*GetUnitAbilityLevel(I1OOOOO,'A0NF')))
set jiecheng2original=I1O1O1O
set jiecheng2bonus=1.5
call GroupAddUnit(I1O11IO,I1OOO1O)
call UnitAddAbility(I1OOOOO,'Avul')
call PauseUnit(I1OOOOO,true)
call SetUnitVertexColor(I1OOOOO,$FF,$FF,$FF,50)
call EnableTrigger(I1O11OO)
call TimerStart(I1O1OOO,.05,true,function OO1IOOOI)
endfunction
function OO1IO11I takes nothing returns boolean
return(GetSpellAbilityId()=='ACpu')
endfunction
function OO1I1III takes nothing returns boolean
return(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_SUMMONED))!=null
endfunction
function OO1I1IOI takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),(200.+(300.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
if(OO1I1III())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),9*(200.+(300.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
endif
endfunction
function OO1I1OII takes nothing returns nothing
local integer OO1I1OOI
local integer OO1I1O1I=I11IOIO
if GetUnitAbilityLevel(I11IIOO,'B060')>0 then
call UnitRemoveAbility(I11IIOO,'B060')
set OO1I1OOI=I11II1O
set OO1I1O1I=I11IOIO
call SetWidgetLife(I11IIOO,GetWidgetLife(I11IIOO)+I11IOOO)
call SetHeroStr(I11IIOO,GetHeroStr(I11IIOO,true)+OO1I1OOI,true)
call SetHeroAgi(I11IIOO,GetHeroAgi(I11IIOO,true)+OO1I1O1I,true)
call TriggerSleepAction(50)
call SetHeroStr(I11IIOO,GetHeroStr(I11IIOO,true)-OO1I1OOI,true)
call SetHeroAgi(I11IIOO,GetHeroAgi(I11IIOO,true)-OO1I1O1I,true)
endif
endfunction
function OO1I11II takes nothing returns nothing
local integer OO1I1O1I=I11IOIO
local real keepingmana
call SetWidgetLife(I11IIOO,GetWidgetLife(I11IIOO)+I11IOOO)
call SetHeroAgi(I11IIOO,GetHeroAgi(I11IIOO,false)+OO1I1O1I*2,true)
call SetHeroStr(I11IIOO,GetHeroStr(I11IIOO,false)+OO1I1O1I,true)
call SetHeroInt(I11IIOO,GetHeroInt(I11IIOO,false)+OO1I1O1I,true)
call TriggerSleepAction(30.)
set keepingmana=GetUnitState(I11IIOO,UNIT_STATE_MANA)
call SetHeroAgi(I11IIOO,GetHeroAgi(I11IIOO,false)-OO1I1O1I*2,true)
call SetHeroStr(I11IIOO,GetHeroStr(I11IIOO,false)-OO1I1O1I,true)
call SetHeroInt(I11IIOO,GetHeroInt(I11IIOO,false)-OO1I1O1I,true)
call SetUnitState(I11IIOO,UNIT_STATE_MANA,keepingmana)
endfunction
function OO1I11OI takes nothing returns boolean
if I11IO1O then
return false
endif
if not(GetWidgetLife(GetFilterUnit())>.41 or IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)or IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))then
set I11IO1O=true
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit())))
call RemoveUnit(GetFilterUnit())
call TriggerExecute(I11I11O)
endif
return false
endfunction
function OO1I111I takes nothing returns nothing
set I11IO1O=false
call GroupEnumUnitsInRange(OII1O,GetUnitX(I11IIOO),GetUnitY(I11IIOO),$3E8,Condition(function OO1I11OI))
endfunction
function OO1OIIII takes nothing returns boolean
return GetSpellAbilityId()=='A0ND'
endfunction
function OO1OIIOI takes nothing returns nothing
local unit u=GetTriggerUnit()
if I11OIIO==false then
call EnableTrigger(OI1O1II)
call TriggerRegisterUnitEvent(I11I1OO,u,EVENT_UNIT_DAMAGED)
endif
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
set I11I1IO=GetTriggerPlayer()
set I11IIOO=u
set I11II1O=GetUnitAbilityLevel(u,'A0ND')
set I11IOIO=GetUnitAbilityLevel(u,'A0ND')*1+1
set I11IOOO=30+30*GetUnitAbilityLevel(u,'A0ND')
set I11OIIO=true
call TimerStart(I1O111O,I11IIIO[GetUnitAbilityLevel(u,'A0ND')],true,function OO1I111I)
else
call PauseTimer(I1O111O)
endif
set u=null
endfunction
function OO1OII1I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ntkf')
endfunction
function OO1OIOII takes nothing returns nothing
call KillUnit(GetTriggerUnit())
call RemoveUnit(GetTriggerUnit())
endfunction
function OO1OIO1I takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,I11OO1O)or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(I11OOIO,F,I11OOOO,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endif
set F=null
return false
endfunction
function OO1OI1II takes nothing returns boolean
if GetUnitTypeId(GetTriggerUnit())=='nubw' then
call DisableTrigger(I11OI1O)
call GroupEnumUnitsInRange(OII1O,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),350,Condition(function OO1OIO1I))
endif
return false
endfunction
function OO1OI1OI takes nothing returns boolean
return GetSpellAbilityId()=='ANsy'
endfunction
function OO1OI11I takes nothing returns nothing
set I11OOIO=GetTriggerUnit()
set I11OO1O=GetTriggerPlayer()
set I11OOOO=GetUnitAbilityLevel(I11OOIO,'ANsy')*$C8+$C8
call EnableTrigger(I11OI1O)
endfunction
function OO1OOIII takes nothing returns boolean
return(GetSpellAbilityId()=='A0CI')
endfunction
function OO1OOIOI takes nothing returns boolean
return(IIIIOI[0]==1)
endfunction
function OO1OOI1I takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A0CL')
call SetUnitAbilityLevelSwapped('A0CL',GetTriggerUnit(),GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),0)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),0,IIIIOI[0]+1)
call TriggerSleepAction(10.)
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),0)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),0,IIIIOI[0]-1)
if(OO1OOIOI())then
call UnitRemoveAbility(GetTriggerUnit(),'A0CL')
endif
endfunction
function OO1OOOOI takes nothing returns boolean
return GetSpellAbilityId()=='Atau'
endfunction
function OO1OOO1I takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,GetTriggerPlayer())or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call UnitAddAbility(F,'AIti')
call UnitDamageTarget(OO11II[0],F,.0,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call IssueTargetOrderById(F,$D000F,OO11II[0])
return true
endif
return false
endfunction
function OO1OO1II takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),'AIti')
endfunction
function OO1OO1OI takes nothing returns nothing
local unit u=GetTriggerUnit()
set OO1O1I[0]=CreateGroup()
set OO11II[0]=GetTriggerUnit()
call GroupEnumUnitsInRange(OO1O1I[0],GetUnitX(u),GetUnitY(u),500.,Condition(function OO1OOO1I))
call UnitAddAbility(OO11II[0],'A0HC')
call EnableTrigger(OI11III)
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(u),0)
call SaveInteger(OOOII,GetHandleId(u),0,IIIIOI[0]+1)
call TriggerSleepAction(2+.5*GetUnitAbilityLevel(u,'Atau'))
call ForGroup(OO1O1I[0],function OO1OO1II)
call DestroyGroup(OO1O1I[0])
call DisableTrigger(OI11III)
call TriggerSleepAction(20-(2+.5*GetUnitAbilityLevel(u,'Atau')))
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(u),0)
call SaveInteger(OOOII,GetHandleId(u),0,IIIIOI[0]-1)
if IIIIOI[0]==1 then
call UnitRemoveAbility(u,'A0HC')
endif
set u=null
endfunction
function OO1O1III takes nothing returns boolean
return(IsUnitInGroup(GetTriggerUnit(),OO1O1I[0]))and(GetUnitStateSwap(UNIT_STATE_LIFE,OO11II[0])>.41)
endfunction
function OO1O1IOI takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call IssueTargetOrderById(GetTriggerUnit(),$D000F,OO11II[0])
call EnableTrigger(GetTriggeringTrigger())
endfunction
function OO1O1OII takes nothing returns boolean
return(GetSpellAbilityId()=='A0GZ')
endfunction
function OO1O1OOI takes nothing returns boolean
return(IIIIOI[0]==1)
endfunction
function OO1O1O1I takes nothing returns nothing
set IIOIII=GetTriggerUnit()
set IIOIOI=(100.+(50.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
call EnableTrigger(OI11I1I)
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),1)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),1,IIIIOI[0]+1)
call TriggerSleepAction(60.)
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),1)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),1,IIIIOI[0]-1)
if(OO1O1OOI())then
call DisableTrigger(OI11I1I)
endif
endfunction
function OO1O11OI takes nothing returns boolean
return(GetTriggerUnit()==IIOIII)
endfunction
function Trig_Counterstrike_run_Func002Func003002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Counterstrike_run_Func002Func003002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Counterstrike_run_Func002Func003002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IIOIII)))
endfunction
function Trig_Counterstrike_run_Func002Func003002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IIOIII))))
endfunction
function OO1O111I takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IIOIII)))))))!=null
endfunction
function OO11IIII takes nothing returns nothing
call UnitDamageTargetBJ(IIOIII,GetEnumUnit(),IIOIOI,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNKNOWN)
endfunction
function OO11IIOI takes nothing returns boolean
return(GetRandomInt(1,'d')<=99)
endfunction
function OO11II1I takes nothing returns nothing
if(OO11IIOI())then
call SetUnitAnimation(IIOIII,"Attack Walk Stand Spin")
set I1OII[0]=GetUnitLoc(IIOIII)
set OO1II=OOI1OIO(250.,I1OII[0],Condition(function OO1O111I))
call ForGroupBJ(OO1II,function OO11IIII)
call DestroyGroup(OO1II)
call RemoveLocation(I1OII[0])
call TriggerSleepAction(.0)
call ResetUnitAnimation(OOIOO)
endif
endfunction
function OO11IOOI takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A0D1')
endfunction
function OO11IO1I takes nothing returns nothing
call SetUnitAbilityLevelSwapped('Atau',GetTriggerUnit(),(GetUnitAbilityLevelSwapped('A0D1',GetTriggerUnit())+1))
endfunction
function OO11I1OI takes nothing returns boolean
return(GetLearnedSkill()=='AEIl')and(IsUnitIllusion(GetTriggerUnit())==false)
endfunction
function OO11I11I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('AEIl',GetTriggerUnit())==1)
endfunction
function OO11OIII takes nothing returns nothing
call SetPlayerTechResearchedSwap('R00A',GetUnitAbilityLevelSwapped('AEIl',GetTriggerUnit()),GetTriggerPlayer())
if(OO11I11I())then
call TriggerRegisterUnitEvent(OI11O1I,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
endif
endfunction
function OO11OI1I takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,IIO)or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",F,"chest"))
call UnitDamageTarget(O11IO,F,OIO1O[0],true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endif
set F=null
return false
endfunction
function OO11OOII takes nothing returns boolean
return GetEventDamage()>.41 and GetUnitTypeId(GetTriggerUnit())=='O027'
endfunction
function OO11OOOI takes nothing returns nothing
local unit u=GetTriggerUnit()
set IIO=GetTriggerPlayer()
set O11IO=u
set OIO1O[0]=GetEventDamage()*GetUnitAbilityLevel(u,'AEIl')
call GroupEnumUnitsInRange(OII1O,GetUnitX(u),GetUnitY(u),300.,Condition(function OO11OI1I))
set u=null
endfunction
function OO11O1II takes nothing returns boolean
local timer t=GetExpiredTimer()
local integer c=LoadInteger(OOOII,GetHandleId(t),0)
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,OI11O1O[c])or IsUnitType(F,UNIT_TYPE_STRUCTURE)or GetWidgetLife(F)<.41)then
call OO1IOIO(F,OIO1O[0],OIO1O[1])
endif
set F=null
set t=null
return false
endfunction
function OO11O1OI takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer c=LoadInteger(OOOII,GetHandleId(t),0)
local integer I=0
local real x
local real y
loop
exitwhen I>OI11OIO[c]
set OIO1O[0]=(((GetUnitX(OI1O11O[OI11IIO[c]+I]))*1.)+((5)*1.)*Cos(((OI11IOO[c])*1.)*3.14159/180.))
set OIO1O[1]=(((GetUnitY(OI1O11O[OI11IIO[c]+I]))*1.)+((5)*1.)*Sin(((OI11IOO[c])*1.)*3.14159/180.))
if not(OIO1O[0]<I11OO or OIO1O[1]>OIIOO or OIO1O[1]<I111O or OIO1O[0]>OIIIO)then
call SetUnitPosition(OI1O11O[OI11IIO[c]+I],OIO1O[0],OIO1O[1])
call GroupEnumUnitsInRange(OII1O,OIO1O[0],OIO1O[1],'t',Condition(function OO11O1II))
else
call KillUnit(OI1O11O[OI11IIO[c]+I])
set OI1O11O[OI11IIO[c]+I]=null
endif
set I=I+1
endloop
set OI11I1O[c]=OI11I1O[c]+1
if OI11I1O[c]>=OI11OOO[c]then
set I=0
loop
exitwhen I>OI11OIO[c]
call KillUnit(OI1O11O[OI11IIO[c]+I])
set I=I+1
endloop
call FlushChildHashtable(OOOII,GetHandleId(t))
call DestroyTimer(t)
call OOOO11O(c)
endif
set t=null
endfunction
function OO11O11I takes nothing returns boolean
return GetSpellAbilityId()=='A0D1'
endfunction
function OO111III takes nothing returns nothing
local integer c=OOOO1IO()
local timer t=CreateTimer()
local unit u=GetTriggerUnit()
local player p=GetTriggerPlayer()
local real O1IIO1O=OO1IIOO(GetUnitX(u),GetUnitY(u),GetSpellTargetX(),GetSpellTargetY())
local integer I=GetUnitAbilityLevel(u,'A0D1')+1
local integer OO111IOI=0
local real x=(((GetUnitX(u))*1.)+(($DC*(I/2))*1.)*Cos(((O1IIO1O-90)*1.)*3.14159/180.))
local real y=(((GetUnitY(u))*1.)+(($DC*(I/2))*1.)*Sin(((O1IIO1O-90)*1.)*3.14159/180.))
local real lx
local real ly
set OI11I1O[c]=0
set OI11OIO[c]=I
set OI11IOO[c]=O1IIO1O
set OI11O1O[c]=p
set OI11OOO[c]=400
if ModuloInteger(I,2)==0 then
set x=(((x)*1.)+(('n')*1.)*Cos(((O1IIO1O+90)*1.)*3.14159/180.))
set y=(((y)*1.)+(('n')*1.)*Sin(((O1IIO1O+90)*1.)*3.14159/180.))
endif
loop
exitwhen OO111IOI==I
set lx=(((x)*1.)+(($DC*OO111IOI)*1.)*Cos(((O1IIO1O+90)*1.)*3.14159/180.))
set ly=(((y)*1.)+(($DC*OO111IOI)*1.)*Sin(((O1IIO1O+90)*1.)*3.14159/180.))
set OI1O11O[OI11IIO[c]+OO111IOI]=CreateUnit(p,'u006',lx,ly,O1IIO1O)
set OO111IOI=OO111IOI+1
endloop
call SaveInteger(OOOII,GetHandleId(t),0,c)
call TimerStart(t,.01,true,function OO11O1OI)
set p=null
set u=null
set t=null
endfunction
function OO111I1I takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real O1II11O=OO1II1O(GetUnitX(I1IIO[K]),GetUnitY(I1IIO[K]),O11OI[K],IIIOO[K])
if O1II11O<=II1OO[K]then
call SetWidgetLife(I1IIO[K],GetWidgetLife(I1IIO[K])+II1IO[K])
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Heal\\HealTarget.mdl",I1IIO[K],"origin"))
endif
set O1OII[K]=O1OII[K]+1
if O1OII[K]>=40 then
call OO1OIOO(K)
endif
endfunction
function OO111OII takes nothing returns boolean
return GetSpellAbilityId()=='S000'
endfunction
function OO111OOI takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',GetSpellTargetX(),GetSpellTargetY(),0)
call UnitApplyTimedLife(e,'BTLF',45.)
call SetUnitUserData(e,1)
call UnitAddAbility(e,'A0GE')
call SetUnitAbilityLevel(e,'A0GE',GetUnitAbilityLevel(u,GetSpellAbilityId()))
call IssuePointOrderById(e,$D0208,GetSpellTargetX(),GetSpellTargetY())
set I1IIO[K]=u
set O1OII[K]=0
set O11OI[K]=GetSpellTargetX()
set IIIOO[K]=GetSpellTargetY()
set II1IO[K]=25+25*GetUnitAbilityLevel(u,GetSpellAbilityId())
set II1OO[K]=700+'d'*GetUnitAbilityLevel(u,GetSpellAbilityId())
call TimerStart(IO1OO[K],1,true,function OO111I1I)
set u=null
set e=null
endfunction
function OO1111II takes nothing returns boolean
return(GetLearnedSkill()=='A0EO')
endfunction
function OO1111OI takes nothing returns nothing
call ModifyHeroStat(1,GetTriggerUnit(),0,$A)
call SetPlayerTechResearchedSwap('R00T',GetUnitAbilityLevelSwapped('A0EO',GetTriggerUnit()),GetTriggerPlayer())
if GetUnitAbilityLevel(GetTriggerUnit(),'A0EO')==1 then
call UnitAddAbility(GetTriggerUnit(),'A0ZB')
call UnitAddAbility(GetTriggerUnit(),'A0ZC')
else
call SetUnitAbilityLevel(GetTriggerUnit(),'A0ZB',GetUnitAbilityLevel(GetTriggerUnit(),'A0EO'))
call SetUnitAbilityLevel(GetTriggerUnit(),'A0ZC',GetUnitAbilityLevel(GetTriggerUnit(),'A0EO'))
endif
endfunction
function O1IIIIII takes nothing returns boolean
return(GetSpellAbilityId()=='A0EN')
endfunction
function O1IIIIOI takes nothing returns boolean
return(IIIIOI[0]==1)
endfunction
function O1IIII1I takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A0DN')
call EnableTrigger(I1OOOI[2])
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),0)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),0,IIIIOI[0]+1)
call TriggerSleepAction(60.)
call DisableTrigger(I1OOOI[2])
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),0)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),0,IIIIOI[0]-1)
if(O1IIIIOI())then
call UnitRemoveAbility(GetTriggerUnit(),'A0DN')
endif
endfunction
function O1IIIOOI takes nothing returns boolean
return(GetSpellAbilityId()=='A0EL')
endfunction
function O1IIIO1I takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A0FH')
call UnitAddAbility(bj_lastCreatedUnit,'A0EM')
call SetUnitUserData(bj_lastCreatedUnit,1)
call UnitApplyTimedLifeBJ(10.,'BTLF',bj_lastCreatedUnit)
call SetUnitAbilityLevelSwapped('A0EM',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0EL',GetTriggerUnit()))
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0079,GetSpellTargetLoc())
call RemoveLocation(I1OII[0])
endfunction
function O1III1OI takes nothing returns boolean
return GetSpellAbilityId()=='Acri'
endfunction
function O1III11I takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit t=GetSpellTargetUnit()
set I11O1IO=I11O1IO+1
if GetUnitAbilityLevel(u,'AItk')==0 then
call UnitAddAbility(u,'AItk')
call UnitAddAbility(u,'A064')
elseif (GetUnitAbilityLevel(u,'AItk')<GetUnitAbilityLevel(u,'Acri') and GetUnitAbilityLevel(u,'AItk')<3)then
call SetUnitAbilityLevel(u,'AItk',GetUnitAbilityLevel(u,'AItk')+1)
endif
if GetUnitAbilityLevel(t,'AItj')==0 then
call UnitAddAbility(t,'AItj')
elseif (GetUnitAbilityLevel(t,'AItj')<GetUnitAbilityLevel(u,'Acri') and GetUnitAbilityLevel(t,'AItj')<3) then
call SetUnitAbilityLevel(t,'AItj',GetUnitAbilityLevel(t,'AItj')+1)
endif
if (GetUnitAbilityLevel(u,'Acri')==4 and GetUnitAbilityLevel(u,'AItk')==3) then
call UnitAddAbility(u,'A01Z')
call TriggerSleepAction(5.)
call UnitRemoveAbility(u,'A01Z')
endif
call SaveInteger(OOOII,GetHandleId(t),$F,LoadInteger(OOOII,GetHandleId(t),$F)+1)
call TriggerSleepAction(30)
call SaveInteger(OOOII,GetHandleId(t),$F,LoadInteger(OOOII,GetHandleId(t),$F)-1)
set I11O1IO=I11O1IO-1
if LoadInteger(OOOII,GetHandleId(t),$F)==0 or GetUnitAbilityLevel(t,'AItj')<=1 then
call UnitRemoveAbility(t,'AItj')
endif
if I11O1IO==0 then
call UnitRemoveAbility(u,'A064')
call UnitRemoveAbility(u,'AItk')
call UnitRemoveAbility(u,'B05F')
endif
set u=null
set t=null
endfunction
function O1IIOIOI takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local integer TIMESOF_caster
local integer O1IIOI1I=LoadInteger(OOOII,GetHandleId(I1IOO[K]),17)-1
call SaveInteger(OOOII,GetHandleId(I1IOO[K]),17,O1IIOI1I)
if O1IIOI1I<=0 or GetWidgetLife(I1IOO[K])<.41 or GetWidgetLife(I1IIO[K])<.41 then
if not IsUnitType(I1IOO[K],UNIT_TYPE_HERO)then
call FlushChildHashtable(OOOII,GetHandleId(I1IOO[K]))
endif
call UnitRemoveAbility(I1IOO[K],'AItn')
call SaveInteger(OOOII,GetHandleId(I1IIO[K]),17,LoadInteger(OOOII,GetHandleId(I1IIO[K]),17)-1)
if LoadInteger(OOOII,GetHandleId(I1IIO[K]),17)==0 or GetWidgetLife(I1IIO[K])<.41 then
call UnitRemoveAbility(I1IIO[K],'AItn')
endif
call OO1OIOO(K)
endif
endfunction
function O1IIOOII takes nothing returns nothing
local unit t=GetTriggerUnit()
local unit u=LoadUnitHandle(OOOII,GetHandleId(t),17)
call SetWidgetLife(u,GetWidgetLife(u)+GetEventDamage()*.25*LoadReal(OOOII,GetHandleId(t),17))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\TrollBerserk\\TrollBeserkerTarget.mdl",u,"origin"))
set u=null
set t=null
endfunction
function O1IIOOOI takes nothing returns boolean
return GetSpellAbilityId()=='AOcl'
endfunction
function O1IIOO1I takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit t=GetSpellTargetUnit()
local trigger O1IIO1II
local integer LK=LoadInteger(OOOII,GetHandleId(t),18)
call UnitAddAbility(u,'AItn')
if GetUnitAbilityLevel(t,'AItn')==0 then
set O1IIO1II=CreateTrigger()
call UnitAddAbility(t,'AItn')
call TriggerRegisterUnitEvent(O1IIO1II,t,EVENT_UNIT_DAMAGED)
call TriggerAddAction(O1IIO1II,function O1IIOOII)
call SaveTriggerHandle(OOOII,GetHandleId(t),17,O1IIO1II)
endif
if LoadTriggerHandle(OOOII,GetHandleId(t),17)!=null then
set IO11O[K]=LoadTriggerHandle(OOOII,GetHandleId(t),17)
endif
if LK!=0 then
call OO1OIOO(LK)
endif
set I1IIO[K]=u
set I1IOO[K]=t
call SaveInteger(OOOII,GetHandleId(u),17,LoadInteger(OOOII,GetHandleId(u),17)+1)
call SaveInteger(OOOII,GetHandleId(t),17,LoadInteger(OOOII,GetHandleId(t),17)+16)
call SaveInteger(OOOII,GetHandleId(t),18,K)
call SaveReal(OOOII,GetHandleId(t),17,GetUnitAbilityLevel(u,'AOcl'))
call SaveUnitHandle(OOOII,GetHandleId(t),17,u)
call TimerStart(IO1OO[K],1,true,function O1IIOIOI)
set O1IIO1II=null
set u=null
set t=null
endfunction
function O1IIO11I takes nothing returns boolean
return(GetLearnedSkill()=='AOcl')
endfunction
function O1II1III takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
call TriggerRegisterUnitEvent(OOIIOOI,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
endfunction
function O1II1I1I takes nothing returns nothing
local unit u=GetTriggerUnit()
if GetUnitAbilityLevel(u,'AItn')>0 then
call SetWidgetLife(u,(GetWidgetLife(u)+(GetEventDamage()*(.4+.1*GetUnitAbilityLevel(u,'AOcl')))))
endif
set u=null
endfunction
function O1II1OOI takes nothing returns boolean
return GetEventDamage()>1.
endfunction
function O1II1O1I takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,GetOwningPlayer(O11IO))or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(O11IO,F,(GetEventDamage()*(.05+(.1*GetUnitAbilityLevel(O11IO,'AOr2')))),true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Critters\\Albatross\\CritterBloodAlbatross.mdl",F,"origin"))
endif
set F=null
return false
endfunction
function O1II11II takes nothing returns nothing
local unit u=GetTriggerUnit()
if GetUnitAbilityLevel(u,'AOr2')>0 then
set O11IO=u
set O1OIOI=true
call GroupEnumUnitsInRange(OII1O,GetUnitX(u),GetUnitY(u),400.,Condition(function O1II1O1I))
call GroupEnumUnitsInRange(OII1O,GetUnitX(u),GetUnitY(u),1200.,Condition(function O1II1O1I))
set O1OIOI=false
endif
set u=null
endfunction
function O1II111I takes nothing returns boolean
return(GetLearnedSkill()=='AOr2')
endfunction
function O1IOIIII takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
call TriggerRegisterUnitEvent(OOIIO1I,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(OOII1OI,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)
endfunction
function O1IOII1I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('AOr2',GetTriggerUnit())>0)
endfunction
function O1IOIOII takes nothing returns boolean
return(GetSpellTargetUnit()!=null and GetSpellTargetUnit()!=GetTriggerUnit())
endfunction
function O1IOIOOI takes nothing returns nothing
if(O1IOIOII())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),((GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetTriggerUnit())-GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit()))*(.15+(.1*I2R(GetUnitAbilityLevelSwapped('AOr2',GetTriggerUnit()))))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
call AddSpecialEffectTargetUnitBJ("chest",GetSpellTargetUnit(),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endif
endfunction
function O1IOI1II takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real x=(((O11OI[K])*1.)+(($C8*O1OII[K])*1.)*Cos(((IOOIO[K])*1.)*3.14159/180.))
local real y=(((IIIOO[K])*1.)+(($C8*O1OII[K])*1.)*Sin(((IOOIO[K])*1.)*3.14159/180.))
local unit e=CreateUnit(IIO1O[K],'e01Z',x,y,0)
set O1OII[K]=O1OII[K]+1
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",x,y))
call UnitApplyTimedLife(e,'BTLF',3.)
call SetUnitUserData(e,41)
call UnitAddAbility(e,'A0GX')
call SetUnitAbilityLevel(e,'A0GX',O1OII[K])
call IssueImmediateOrderById(e,$D009F)
set e=null
if O1OII[K]>$C then
call OO1OIOO(K)
endif
endfunction
function O1IOI1OI takes nothing returns boolean
return GetSpellAbilityId()=='ANbf'
endfunction
function O1IOI11I takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local player p=GetTriggerPlayer()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real O1IIO1O=OO1IIOO(x,y,GetSpellTargetX(),GetSpellTargetY())
local integer LV=GetUnitAbilityLevel(u,'ANbf')
set O1OII[K]=LV
set O11OI[K]=x
set IIIOO[K]=y
set IIO1O[K]=p
set O1OII[K]=1
set IOOIO[K]=O1IIO1O
call TimerStart(IO1OO[K],.13,true,function O1IOI1II)
set u=null
set p=null
endfunction
function Trig_Darkblood_stomp_Actions takes nothing returns nothing
call DestroyEffect(AddSpecialEffect("war3mapImported\\desecrate.mdx",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
endfunction
function O1IOOIOI takes nothing returns boolean
if GetSpellAbilityId()=='A0GX' then
call DestroyEffect(AddSpecialEffect("war3mapImported\\desecrate.mdx",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
endif
return false
endfunction
function O1IOOI1I takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function O1IOOIOI))
set t=null
endfunction
function O1IOOOII takes nothing returns boolean
return(GetSpellAbilityId()=='A0AE')
endfunction
function O1IOOOOI takes nothing returns nothing
set O1I1O=GetTriggerUnit()
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
set O1OIO=OOIOO1O(I1OII[0],1000.,AngleBetweenPoints(I1OII[0],I1OII[1]))
call ShowUnitHide(GetTriggerUnit())
call StartTimerBJ(O1OOO,false,.3)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function O1IOO1II takes nothing returns nothing
call SetUnitPositionLoc(O1I1O,O1OIO)
call ShowUnitShow(O1I1O)
call SelectUnitForPlayerSingle(O1I1O,GetOwningPlayer(O1I1O))
call RemoveLocation(O1OIO)
endfunction
function O1IOO11I takes nothing returns boolean
return(GetSpellAbilityId()=='A04M')
endfunction
function O1IO1III takes nothing returns nothing
set I11I[1]=2
set I11I[2]=4
set I11I[3]=6
set I11I[4]=8
set OIII=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())
set OIOI=I11I[OIII]
set OI1I=GetTriggerUnit()
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set OIII=0
loop
exitwhen OIII>(OIOI-1)
set OOII[OIII]=null
set OIO1O[0]=(360.*(I2R(OIII)/I2R(OIOI)))
set OOOI[OIII]=OIO1O[0]
set I1OII[1]=OOIOO1O(I1OII[0],150.,OIO1O[0])
call CreateNUnitsAtLoc(1,'n01W',GetTriggerPlayer(),I1OII[1],(OIO1O[0]+90.))
set OO1I[OIII]=bj_lastCreatedUnit
call AddSpecialEffectLocBJ(I1OII[1],"Abilities\\Spells\\Other\\ImmolationRed\\ImmolationRedDamage.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(I1OII[1])
set OIII=OIII+1
endloop
call EnableTrigger(OOIOOII)
set O1II=0
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
call SetUnitUserData(bj_lastCreatedUnit,$E)
call UnitAddAbility(bj_lastCreatedUnit,'A0AH')
call SetUnitAbilityLevelSwapped('A0AH',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0080)
call RemoveLocation(I1OII[0])
endfunction
function Trig_Fireshield_timer_Func001Func005Func001Func002002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_GROUND))!=null
endfunction
function Trig_Fireshield_timer_Func001Func005Func001Func002002003002001 takes nothing returns boolean
return(IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(OI1I)))
endfunction
function Trig_Fireshield_timer_Func001Func005Func001Func002002003002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function Trig_Fireshield_timer_Func001Func005Func001Func002002003002002002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'Bvul')==false)
endfunction
function Trig_Fireshield_timer_Func001Func005Func001Func002002003002002002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Fireshield_timer_Func001Func005Func001Func002002003002002002 takes nothing returns boolean
return GetBooleanAnd((UnitHasBuffBJ(GetFilterUnit(),'Bvul')==false),(IsUnitAliveBJ(GetFilterUnit())))
endfunction
function Trig_Fireshield_timer_Func001Func005Func001Func002002003002002 takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((UnitHasBuffBJ(GetFilterUnit(),'Bvul')==false),(IsUnitAliveBJ(GetFilterUnit()))))))!=null
endfunction
function Trig_Fireshield_timer_Func001Func005Func001Func002002003002 takes nothing returns boolean
return(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(OI1I))),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((UnitHasBuffBJ(GetFilterUnit(),'Bvul')==false),(IsUnitAliveBJ(GetFilterUnit()))))))))!=null
endfunction
function O1IO1I1I takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_GROUND)),(GetBooleanAnd((IsPlayerEnemy(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(OI1I))),(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false),(GetBooleanAnd((UnitHasBuffBJ(GetFilterUnit(),'Bvul')==false),(IsUnitAliveBJ(GetFilterUnit()))))))))))!=null
endfunction
function O1IO1OII takes nothing returns boolean
return(RAbsBJ((ModuloReal(((OIO1O[0]-OIO1O[1])+5.),360.)-5.))>5.)
endfunction
function O1IO1OOI takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetEnumUnit())
set OIO1O[1]=AngleBetweenPoints(I1OII[1],I1OII[0])
if(O1IO1OII())then
call GroupRemoveUnit(O11I,GetEnumUnit())
endif
call RemoveLocation(I1OII[0])
endfunction
function O1IO1O1I takes nothing returns boolean
return(IsUnitGroupEmptyBJ(O11I)==false)
endfunction
function O1IO11II takes nothing returns boolean
return(IsUnitInGroup(OO1I[OIII],O1O1O)==false)and(TimerGetRemaining(O1OI[1])==.0)
endfunction
function O1IO11OI takes nothing returns boolean
return(IsUnitInGroup(OO1I[OIII],O1O1O)==false)
endfunction
function O1IO111I takes nothing returns boolean
return(O1II<500)
endfunction
function O1I1IIII takes nothing returns nothing
if(O1IO111I())then
set O1II=(O1II+1)
set I1OII[3]=GetUnitLoc(OI1I)
set OIII=0
loop
exitwhen OIII>(OIOI-1)
if(O1IO11II())then
set I1OII[1]=GetUnitLoc(OO1I[OIII])
set O11I=OOI1OIO(750.,I1OII[1],Condition(function O1IO1I1I))
set OIO1O[0]=(OOOI[OIII]+90.)
call ForGroupBJ(O11I,function O1IO1OOI)
if(O1IO1O1I())then
set O11IO=GroupPickRandomUnit(O11I)
call GroupAddUnit(O1O1O,OO1I[OIII])
call SaveUnitHandle(OOOII,GetHandleId(OO1I[OIII]),0,O11IO)
call StartTimerBJ(O1OI[1],false,.75)
call StartTimerBJ(O1OI[2],true,.03)
set OO1I[OIII]=null
endif
call DestroyGroup(O11I)
call RemoveLocation(I1OII[1])
endif
if(O1IO11OI())then
set OOOI[OIII]=(OOOI[OIII]+7.2)
set I1OII[0]=OOIOO1O(I1OII[3],150.,OOOI[OIII])
call SetUnitPositionLocFacingBJ(OO1I[OIII],I1OII[0],(OOOI[OIII]+90.))
call RemoveLocation(I1OII[0])
endif
set OIII=OIII+1
endloop
call RemoveLocation(I1OII[3])
else
set OIII=0
loop
exitwhen OIII>(OIOI-1)
call KillUnit(OO1I[OIII])
set OIII=OIII+1
endloop
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function O1I1II1I takes nothing returns boolean
return(DistanceBetweenPoints(I1OII[0],I1OII[1])>30.)
endfunction
function O1I1IOII takes nothing returns nothing
set O11IO=LoadUnitHandle(OOOII,GetHandleId(GetEnumUnit()),0)
set I1OII[0]=GetUnitLoc(GetEnumUnit())
set I1OII[1]=GetUnitLoc(O11IO)
if(O1I1II1I())then
set I1OII[2]=OOIOO1O(I1OII[0],35.,AngleBetweenPoints(I1OII[0],I1OII[1]))
call SetUnitPositionLocFacingBJ(GetEnumUnit(),I1OII[2],AngleBetweenPoints(I1OII[0],I1OII[1]))
call AddSpecialEffectLocBJ(I1OII[0],"Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(I1OII[2])
else
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(OI1I),I1OII[0],.0)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call SetUnitUserData(bj_lastCreatedUnit,$E)
call UnitAddAbility(bj_lastCreatedUnit,'A0AF')
call IssueTargetOrderById(bj_lastCreatedUnit,$D007F,O11IO)
call GroupRemoveUnit(O1O1O,GetEnumUnit())
call FlushChildHashtable(OOOII,GetHandleId(GetEnumUnit()))
call KillUnit(GetEnumUnit())
endif
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function O1I1IOOI takes nothing returns boolean
return(CountUnitsInGroup(O1O1O)==0)
endfunction
function O1I1IO1I takes nothing returns nothing
call ForGroupBJ(O1O1O,function O1I1IOII)
if(O1I1IOOI())then
call PauseTimerBJ(true,O1OI[2])
endif
endfunction
function O1I1I1OI takes nothing returns boolean
return(GetSpellAbilityId()=='A0C9')
endfunction
function O1I1I11I takes nothing returns boolean
return(IsUnitInGroup(OO1I[OIII],O1O1O)==false)
endfunction
function O1I1OIII takes nothing returns nothing
set O11IO=GetSpellTargetUnit()
set OIII=0
loop
exitwhen OIII>(OIOI-1)
if(O1I1I11I())then
call GroupAddUnit(O1O1O,OO1I[OIII])
call SaveUnitHandle(OOOII,GetHandleId(OO1I[OIII]),0,O11IO)
set OO1I[OIII]=null
endif
set OIII=OIII+1
endloop
call StartTimerBJ(O1OI[2],true,.03)
endfunction
//===========================================================================
// Trigger: FE 豪雷 ANhs
//===========================================================================
function O1I1OI1I takes nothing returns boolean
	return GetSpellAbilityId()=='A0J0'
endfunction

function O1I1OOII takes nothing returns nothing
	local real x=GetSpellTargetX()
	local real y=GetSpellTargetY()
	local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)
	local unit e2=CreateUnit(GetTriggerPlayer(),'e01Z',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)

	call UnitApplyTimedLife(e,'BTLF',$A)
	call SetUnitUserData(e,$C)
	call UnitAddAbility(e,'A0FE')
	call SetUnitFlyHeight(e,1000.,.0)
	call SetUnitAbilityLevel(e,'A0FE',GetUnitAbilityLevel(GetTriggerUnit(),'A0J0'))
	call IssuePointOrderById(e,$D02B8,x,y)

	call UnitApplyTimedLife(e2,'BTLF',$A)
	call SetUnitUserData(e2,$C)
	call UnitAddAbility(e2,'ANhs')
	call SetUnitFlyHeight(e2,1000.,.0)
	call SetUnitAbilityLevel(e2,'ANhs',GetUnitAbilityLevel(GetTriggerUnit(),'A0J0'))
	call IssuePointOrderById(e2,$D02B8,x,y)
	
	set e=null
	set e2=null
endfunction
//===========================================================================

function O1I1OO1I takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A0D2')
endfunction
function O1I1O1II takes nothing returns nothing
call ModifyHeroStat(1,GetLearningUnit(),0,$C8)
endfunction
function O1I1O11I takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A02M')
endfunction
function O1I11III takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A02M',GetTriggerUnit())==4)
endfunction
function O1I11IOI takes nothing returns nothing
call IncUnitAbilityLevel(GetTriggerUnit(),'A01V')
if(O1I11III())then
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function O1I11OII takes nothing returns boolean
return(GetLearnedSkill()=='A01K')and(IsUnitIllusion(GetTriggerUnit())==false)
endfunction
function O1I11OOI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A01K',GetTriggerUnit())==1)
endfunction
function O1I11O1I takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A01K',GetTriggerUnit())==4)
endfunction
function O1I111II takes nothing returns nothing
if(O1I11O1I())then
call DestroyTrigger(GetTriggeringTrigger())
else
if(O1I11OOI())then
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),OIOII[$96],bj_UNIT_FACING)
set OOOI1I=bj_lastCreatedUnit
call UnitAddAbility(bj_lastCreatedUnit,'Ablo')
call ShowUnitHide(bj_lastCreatedUnit)
endif
endif
call SetUnitAbilityLevelSwapped('Ablo',OOOI1I,GetUnitAbilityLevelSwapped('A01K',GetTriggerUnit()))
endfunction
function O1I1111I takes nothing returns boolean
return(GetSpellAbilityId()=='A01K')
endfunction
function O1OIIIII takes nothing returns nothing
call IssueTargetOrderById(OOOI1I,$D0085,GetSpellTargetUnit())
endfunction
function O1OIII1I takes nothing returns boolean
return(GetSpellAbilityId()=='Ablo')
endfunction
function O1OIIOII takes nothing returns nothing
call UnitRemoveAbility(GetSpellTargetUnit(),'B018')
endfunction
function O1OIIO1I takes nothing returns boolean
return(GetSpellAbilityId()=='A025')and(GetUnitAbilityLevelSwapped('A025',GetTriggerUnit())==2)
endfunction
function O1OII1II takes nothing returns nothing
call SetPlayerTechResearchedSwap('Rhlh',2,GetTriggerPlayer())
endfunction
function O1OII11I takes nothing returns boolean
return(GetSpellAbilityId()=='A00N')
endfunction
function O1OIOIII takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'emtg',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],400.,(60.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'emtg',GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
endfunction
function O1OIOI1I takes nothing returns boolean
return(GetSpellAbilityId()=='A0J8')
endfunction
function O1OIOOII takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
set OIO1O[0]=AngleBetweenPoints(I1OII[0],I1OII[1])
set IIIIOI[0]=(2*GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],GetUnitFacing(GetTriggerUnit()))
call SetUnitScalePercent(bj_lastCreatedUnit,60.,60.,60.)
call UnitAddAbility(bj_lastCreatedUnit,'ACbf')
call SetUnitAbilityLevelSwapped('ACbf',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call UnitApplyTimedLifeBJ(12.,'BTLF',bj_lastCreatedUnit)
call SetUnitUserData(bj_lastCreatedUnit,32)
call O1IOIIO(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),IIIIOI[0],OIO1O[0]-30.,60.,"breathoffrost",bj_lastCreatedUnit,.09,true)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function O1OIOO1I takes nothing returns boolean
return GetSpellAbilityId()=='A0JH'
endfunction
function guobig takes nothing returns boolean
return GetSpellAbilityId()=='A0JT'
endfunction
function O1OIO1II takes nothing returns boolean
local unit a=GetAttacker()
local player p=GetTriggerPlayer()
local unit t=GetTriggerUnit()
if IsUnitEnemy(a,p)then
if GetUnitAbilityLevel(t,'B01P')>0 then
call IssueImmediateOrderById(a,$D0004)
call UnitDamageTarget(t,a,'d'+'d'*GetUnitAbilityLevel(t,'B01P'),true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",a,"chest"))
else
call DestroyTrigger(GetTriggeringTrigger())
endif
endif
set p=null
set a=null
set t=null
return false
endfunction
function guobig3 takes nothing returns boolean
local unit t=GetTriggerUnit()
local real recovery=GetUnitStateSwap(UNIT_STATE_MAX_LIFE,t)-GetUnitStateSwap(UNIT_STATE_LIFE,t)
if (GetUnitAbilityLevel(t,'B02N')>0 or GetUnitAbilityLevel(t,'B02S')>0) then
if GetUnitStateSwap(UNIT_STATE_MANA,t)*10<recovery then
call SetWidgetLife(t,GetUnitStateSwap(UNIT_STATE_LIFE,t)+10*GetUnitStateSwap(UNIT_STATE_MANA,t))
call SetUnitManaBJ(t,0)
else
call SetWidgetLife(t,GetUnitStateSwap(UNIT_STATE_MAX_LIFE,t))
call SetUnitManaBJ(t,GetUnitStateSwap(UNIT_STATE_MANA,t)-recovery/10)
endif
else
call DestroyTrigger(GetTriggeringTrigger())
endif
set t=null
return false
endfunction
function O1OIO1OI takes nothing returns nothing
local trigger t=CreateTrigger()
local unit O1OIO11I=GetSpellTargetUnit()
call TriggerRegisterUnitEvent(t,O1OIO11I,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function O1OIO1II))
set O1OIO11I=null
set t=null
endfunction
function guobig2 takes nothing returns nothing
local trigger t=CreateTrigger()
local unit bigtarget=GetSpellTargetUnit()
call TriggerRegisterUnitEvent(t,bigtarget,EVENT_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function guobig3))
set bigtarget=null
set t=null
endfunction
function O1OI1IOI takes nothing returns boolean
return(GetSpellAbilityId()=='A0IP')
endfunction
function O1OI1I1I takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
set OIO1O[0]=(360./(2.+I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=(2+GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],(700.+(350.*I2R(GetUnitAbilityLevelSwapped('A0IP',GetTriggerUnit())))),(OIO1O[0]*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'e01J',Player($F),I1OII[1],bj_UNIT_FACING)
call SetUnitColor(bj_lastCreatedUnit,GetPlayerColor(GetTriggerPlayer()))
call QueueUnitAnimation(bj_lastCreatedUnit,"birth")
call QueueUnitAnimation(bj_lastCreatedUnit,"stand")
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call CreateNUnitsAtLoc(1,'e01J',Player($F),I1OII[0],bj_UNIT_FACING)
call SetUnitColor(bj_lastCreatedUnit,GetPlayerColor(GetTriggerPlayer()))
call QueueUnitAnimation(bj_lastCreatedUnit,"birth")
call QueueUnitAnimation(bj_lastCreatedUnit,"stand")
call RemoveLocation(I1OII[0])
endfunction
function O1OI1OOI takes nothing returns boolean
return (GetUnitAbilityLevel(GetTriggerUnit(),'A09M')>0 and GetUnitLevel(GetTriggerUnit())<20)
endfunction
function O1OI1O1I takes nothing returns nothing
local integer bouncelevel=1
if GetUnitAbilityLevel(GetLearningUnit(),'A09M')<4 then
if GetUnitLevel(GetLearningUnit())>11 then
set bouncelevel=4
elseif GetUnitLevel(GetLearningUnit())>7 then
set bouncelevel=3
elseif GetUnitLevel(GetLearningUnit())>3 then
set bouncelevel=2
endif
call SetUnitAbilityLevel(GetLearningUnit(),'A09M',bouncelevel)
call SetPlayerTechResearchedSwap('Remg',GetUnitAbilityLevelSwapped('A09M',GetLearningUnit()),GetOwningPlayer(GetTriggerUnit()))
endif
endfunction

//===========================================================================
// Trigger: fs 寧寧大技 AIpv 忍法密傳‧影月攻勢
//===========================================================================
function O1OI11OI takes nothing returns boolean
	// return(GetSpellAbilityId()=='A01I' or GetSpellAbilityId()=='A09L' or GetSpellAbilityId()=='AIpv')
	return(GetSpellAbilityId()=='AIpv')
endfunction

function O1OI111I takes nothing returns boolean
	return(GetUnitUserData(GetTriggerUnit())==0)
endfunction

function O1OOIIII takes nothing returns nothing
	// call BJDebugMsg("觸發了-寧寧大技 Apxf")
	//if ( ( GetUnitAbilityLevelSwapped('A01I', GetTriggerUnit()) == 1 ) or GetUnitAbilityLevelSwapped('A09L', GetTriggerUnit()) == 1 ) ) then
        //call UnitAddAbilityBJ('Asph', GetTriggerUnit())
        //call TriggerSleepAction(60.00)
        //call UnitRemoveAbilityBJ('Asph', GetTriggerUnit())
   // else
        //call DoNothing()
    //endif

	call UnitAddAbility(GetTriggerUnit(),'Apxf')
	call SetUnitAbilityLevelSwapped('Apxf',GetTriggerUnit(),GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
	call SetUnitUserData(GetTriggerUnit(),(GetUnitUserData(GetTriggerUnit())+1))
	call TriggerSleepAction(60.)
	call SetUnitUserData(GetTriggerUnit(),(GetUnitUserData(GetTriggerUnit())-1))
	if(O1OI111I())then
		call UnitRemoveAbility(GetTriggerUnit(),'Apxf')
	endif
endfunction
//===========================================================================
function O1OOII1I takes nothing returns boolean
return(GetSpellAbilityId()=='A08X')
endfunction
function Trig_KnockBack_Func005002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_KnockBack_Func005002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_KnockBack_Func005002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_KnockBack_Func005002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function O1OOIOII takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function O1OOIOOI takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set OI1O=0
set OIOO=((GetUnitAbilityLevelSwapped('A08X',GetTriggerUnit())*6)+20)
set OOIO=GetUnitLoc(GetTriggerUnit())
set OO1II=OOI1OIO(325.,I1OII[0],Condition(function O1OOIOII))
call GroupAddGroup(OO1II,OOOO)
call DestroyGroup(OO1II)
call RemoveLocation(I1OII[0])
call EnableTrigger(OOOII1I)
endfunction
function O1OOI1II takes nothing returns boolean
return(DistanceBetweenPoints(I1OII[1],I1OII[2])>8.)
endfunction
function O1OOI1OI takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetEnumUnit())
set OIO1O[0]=AngleBetweenPoints(OOIO,I1OII[0])
set I1OII[1]=OOIOO1O(I1OII[0],50.,OIO1O[0])
call SetUnitPositionLoc(GetEnumUnit(),I1OII[1])
set I1OII[2]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(I1OII[0],"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(O1OOI1II())then
call GroupRemoveUnit(OOOO,GetEnumUnit())
call SetUnitPositionLoc(GetEnumUnit(),I1OII[0])
endif
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call RemoveLocation(I1OII[2])
endfunction
function O1OOI11I takes nothing returns boolean
return(OI1O>=OIOO)
endfunction
function O1OOOIII takes nothing returns nothing
set OI1O=(OI1O+1)
call ForGroupBJ(OOOO,function O1OOI1OI)
if(O1OOI11I())then
call GroupClear(OOOO)
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function O1OOOI1I takes nothing returns boolean
return GetSpellAbilityId()=='A0IL'
endfunction
function O1OOOOII takes nothing returns nothing
local unit u=GetTriggerUnit()
call PlaySoundOnUnitBJ(IIIIOII,'d',u)
set IIOI1I=GetTriggerUnit()
call EnableTrigger(OOOIOOI)
call UnitAddAbility(u,'A0BH')
call TriggerSleepAction((15.+(5.*GetUnitAbilityLevel(u,'A0IL'))))
call UnitRemoveAbility(u,'A0BH')
set u=null
endfunction
function O1OOOO1I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n01R')
endfunction
function O1OOO1II takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'n01Q',GetOwningPlayer(IIOI1I),I1OII[0],bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped('A096',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0IL',IIOI1I))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D009F)
call RemoveLocation(I1OII[0])
endfunction
function O1OOO11I takes nothing returns boolean
return(GetSpellAbilityId()=='A041' or GetSpellAbilityId()=='A114')
endfunction
function O1OO1III takes nothing returns boolean
return(IIIIOI[0]==1)
endfunction
function O1OO1IOI takes nothing returns nothing
if not(tieshield==false and GetUnitAbilityLevel(GetTriggerUnit(),'A041')==0) then
if GetUnitAbilityLevelSwapped('A041',GetTriggerUnit())==0 then
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+50.))
call SetPlayerAbilityAvailable(GetTriggerPlayer(),'A114',false)
set tieshield=false
else
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+(50.*I2R(GetUnitAbilityLevelSwapped('A041',GetTriggerUnit())))))
endif
call UnitAddAbility(GetTriggerUnit(),'A0MU')
call UnitAddAbility(GetTriggerUnit(),'AItf')
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),0)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),0,IIIIOI[0]+1)
call TriggerSleepAction(3.)
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),0)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),0,IIIIOI[0]-1)
if(O1OO1III())then
call UnitRemoveAbility(GetTriggerUnit(),'AItf')
call UnitRemoveAbility(GetTriggerUnit(),'A0MU')
endif
if tieshield==false then
call TriggerSleepAction(10.)
call SetPlayerAbilityAvailable(GetTriggerPlayer(),'A114',true)
set tieshield=true
endif
endif
endfunction
function O1OO1OII takes nothing returns boolean
return(GetSpellAbilityId()=='A0I2')
endfunction
function O1OO1OOI takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call TerrainDeformationRippleBJ(3.,false,I1OII[0],3000.,3000.,70.,.08,200.)
call RemoveLocation(I1OII[0])
endfunction
function O1OO11II takes nothing returns boolean
return(GetSpellAbilityId()=='A077')
endfunction
function O1OO11OI takes nothing returns nothing
call PlaySoundOnUnitBJ(O11OIO,'d',GetTriggerUnit())
endfunction
function O1O1IIII takes nothing returns boolean
return(GetUnitTypeId(GetSummonedUnit())=='o00X')
endfunction
function O1O1IIOI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0HE',GetSummoningUnit())==4)
endfunction
function O1O1II1I takes nothing returns nothing
set OIO1O[5]=((160.+(10.*I2R(GetUnitAbilityLevelSwapped('A0HE',GetSummoningUnit()))))+.0)
call SetUnitScalePercent(GetSummonedUnit(),OIO1O[5],OIO1O[5],OIO1O[5])
set IIIIOI[0]=(GetHeroLevel(GetSummoningUnit())/3)
if IIIIOI[0]>5 then
set IIIIOI[0]=5
endif
call SetUnitAbilityLevelSwapped('A06L',GetSummonedUnit(),IIIIOI[0])
call SetUnitAbilityLevelSwapped('A07H',GetSummonedUnit(),IIIIOI[0])
call SetPlayerTechResearchedSwap('R00R',GetUnitAbilityLevelSwapped('A0HE',GetSummoningUnit()),GetTriggerPlayer())
call UnitAddAbility(GetSummonedUnit(),'A0ZF')
call SetUnitAbilityLevel(GetSummonedUnit(),'A0ZF',GetUnitAbilityLevelSwapped('A0HE',GetSummoningUnit()))
if(O1O1IIOI())then
call UnitAddAbility(GetSummonedUnit(),'A07D')
endif
endfunction
function O1O1IOOI takes nothing returns boolean
return(GetSpellAbilityId()=='A0HD' or GetSpellAbilityId()=='A0ZF')
endfunction
function O1O1IO1I takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'nwgs',Player($F),I1OII[0],bj_UNIT_FACING)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,'d','d','d',0)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],500.,(72.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'nwgs',Player($F),I1OII[1],bj_UNIT_FACING)
call SetUnitScalePercent(bj_lastCreatedUnit,60.,60.,60.)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
endfunction
function O1O1I1OI takes nothing returns boolean
return(GetSpellAbilityId()=='A0HF')
endfunction
function O1O1I11I takes nothing returns boolean
return(IsUnitAlly(OOI1O,Player(0)))
endfunction
function O1O1OIII takes nothing returns nothing
local integer smoketimer=0
set OOI1O=GetTriggerUnit()
call SetUnitInvulnerable(OOI1O,true)
loop
exitwhen smoketimer>(GetUnitAbilityLevel(OOI1O,'A0HF')*11)+11
set I1OII[0]=GetUnitLoc(OOI1O)
call CreateNUnitsAtLoc($A,'nnmg',Player($F),I1OII[0],bj_UNIT_FACING)
call RemoveLocation(I1OII[0])
call TriggerSleepAction(0.25)
set smoketimer=smoketimer+1
endloop
call ShowUnitHide(GetTriggerUnit())
call SetUnitInvulnerable(OOI1O,false)
call PauseUnit(GetTriggerUnit(),true)
set I1OII[0]=GetUnitLoc(OOI1O)
call CreateNUnitsAtLoc($A,'nnmg',Player($F),I1OII[0],bj_UNIT_FACING)
call RemoveLocation(I1OII[0])
call OOIOI1O(.2)
set I1OII[0]=GetUnitLoc(OOI1O)
call CreateNUnitsAtLoc($A,'nnmg',Player($F),I1OII[0],bj_UNIT_FACING)
call RemoveLocation(I1OII[0])
call OOIOI1O(.2)
set I1OII[0]=GetUnitLoc(OOI1O)
call CreateNUnitsAtLoc($A,'nnmg',Player($F),I1OII[0],bj_UNIT_FACING)
call RemoveLocation(I1OII[0])
call OOIOI1O(.2)
set I1OII[0]=GetUnitLoc(OOI1O)
call CreateNUnitsAtLoc($A,'nnmg',Player($F),I1OII[0],bj_UNIT_FACING)
call RemoveLocation(I1OII[0])
call OOIOI1O(.2)
set I1OII[0]=GetUnitLoc(OOI1O)
call CreateNUnitsAtLoc($A,'nnmg',Player($F),I1OII[0],bj_UNIT_FACING)
call RemoveLocation(I1OII[0])
call OOIOI1O(0.5)
if(O1O1I11I())then
call SetUnitPositionLoc(OOI1O,OIOII[65])
else
call SetUnitPositionLoc(OOI1O,OIOII[66])
endif
call ShowUnitShow(OOI1O)
call PauseUnit(OOI1O,false)
endfunction
function O1O1OI1I takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(I1OII[0],"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
set OIO1II[0]=bj_lastCreatedUnit
set OIO1II[1]=GetKillingUnit()
call UnitAddAbility(bj_lastCreatedUnit,'A09B')
call SetUnitAbilityLevelSwapped('A09B',bj_lastCreatedUnit,5)
call SetUnitUserData(bj_lastCreatedUnit,37)
call UnitApplyTimedLifeBJ(1.12,'BTLF',bj_lastCreatedUnit)
call StartTimerBJ(OIOO1I,true,.11)
call RemoveLocation(I1OII[0])
endfunction
function O1O1OOOI takes nothing returns boolean
return(IsUnitInvisible(OIO1II[1],GetOwningPlayer(OIO1II[0])))
endfunction
function O1O1OO1I takes nothing returns nothing
if(O1O1OOOI())then
call UnitShareVisionBJ(true,OIO1II[1],GetOwningPlayer(OIO1II[0]))
call IssueTargetOrderById(OIO1II[0],$D0107,OIO1II[1])
call UnitShareVisionBJ(false,OIO1II[1],GetOwningPlayer(OIO1II[0]))
else
call IssueTargetOrderById(OIO1II[0],$D0107,OIO1II[1])
endif
endfunction
function O1O1O1OI takes nothing returns boolean
return(GetSpellAbilityId()=='A028')
endfunction
function erlong1 takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())=='U005'
endfunction
function erlong2 takes nothing returns nothing
local integer initialskill=1
if GetUnitAbilityLevel(GetLearningUnit(),'A0I5')<4 then
if GetUnitLevel(GetLearningUnit())>9 then
set initialskill=4
elseif GetUnitLevel(GetLearningUnit())>6 then
set initialskill=3
elseif GetUnitLevel(GetLearningUnit())>3 then
set initialskill=2
endif
call SetUnitAbilityLevel(GetLearningUnit(),'A0I5',initialskill)
call SetUnitAbilityLevel(GetLearningUnit(),'A0I7',initialskill)
endif
endfunction
function shenyuanf1 takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())=='O00J'
endfunction
function shenyuanf2 takes nothing returns nothing
local integer flamecoat=1
if GetUnitAbilityLevel(GetLearningUnit(),'A0YO')<4 then
if GetUnitLevel(GetLearningUnit())>15 then
set flamecoat=4
elseif GetUnitLevel(GetLearningUnit())>10 then
set flamecoat=3
elseif GetUnitLevel(GetLearningUnit())>5 then
set flamecoat=2
endif
call SetUnitAbilityLevel(GetLearningUnit(),'A0YO',flamecoat)
endif
endfunction
function xinzhongf1 takes nothing returns boolean
return(GetSpellAbilityId()=='A0YL')
endfunction
function xinzhongf2 takes nothing returns nothing
if IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) then
if (GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)>GetUnitAbilityLevel(GetTriggerUnit(),'A0YL')*250) then
call SetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE,GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)-GetUnitAbilityLevel(GetTriggerUnit(),'A0YL')*250)
else
call SetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE,1)
call UnitDamageTarget(GetTriggerUnit(),GetSpellTargetUnit(),100,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endif
else
call SetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE,GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)+GetUnitAbilityLevel(GetTriggerUnit(),'A0YL')*250)
endif
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),Location(GetUnitX(GetSpellTargetUnit())+250,GetUnitY(GetSpellTargetUnit())+250),bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A0YP')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0YP',GetUnitAbilityLevel(GetTriggerUnit(),'A0YL'))
call SetUnitScalePercent(bj_lastCreatedUnit,150.,150.,150.)
call UnitApplyTimedLifeBJ(15.,'BTLF',bj_lastCreatedUnit)
call SetUnitUserData(bj_lastCreatedUnit,5)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0271,GetUnitLoc(GetSpellTargetUnit()))
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),Location(GetUnitX(GetSpellTargetUnit())-250,GetUnitY(GetSpellTargetUnit())+250),bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A0YP')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0YP',GetUnitAbilityLevel(GetTriggerUnit(),'A0YL'))
call SetUnitScalePercent(bj_lastCreatedUnit,150.,150.,150.)
call UnitApplyTimedLifeBJ(15.,'BTLF',bj_lastCreatedUnit)
call SetUnitUserData(bj_lastCreatedUnit,5)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0271,GetUnitLoc(GetSpellTargetUnit()))
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),Location(GetUnitX(GetSpellTargetUnit())+250,GetUnitY(GetSpellTargetUnit())-250),bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A0YP')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0YP',GetUnitAbilityLevel(GetTriggerUnit(),'A0YL'))
call SetUnitScalePercent(bj_lastCreatedUnit,150.,150.,150.)
call UnitApplyTimedLifeBJ(15.,'BTLF',bj_lastCreatedUnit)
call SetUnitUserData(bj_lastCreatedUnit,5)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0271,GetUnitLoc(GetSpellTargetUnit()))
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),Location(GetUnitX(GetSpellTargetUnit())-250,GetUnitY(GetSpellTargetUnit())-250),bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A0YP')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0YP',GetUnitAbilityLevel(GetTriggerUnit(),'A0YL'))
call SetUnitScalePercent(bj_lastCreatedUnit,150.,150.,150.)
call UnitApplyTimedLifeBJ(15.,'BTLF',bj_lastCreatedUnit)
call SetUnitUserData(bj_lastCreatedUnit,5)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0271,GetUnitLoc(GetSpellTargetUnit()))
endfunction
function O1O1O11I takes nothing returns boolean
return(GetUnitUserData(GetTriggerUnit())==0)
endfunction
function O1O11III takes nothing returns nothing
set IO1I=GetTriggerUnit()
set OOOIO=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())
set OOOOO=GetUnitLoc(GetTriggerUnit())
call SetUnitUserData(GetTriggerUnit(),(GetUnitUserData(GetTriggerUnit())+1))
call CreateNUnitsAtLoc(1,'h01V',GetTriggerPlayer(),OOOOO,bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped('AEim',bj_lastCreatedUnit,OOOIO)
call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)
call UnitApplyTimedLifeBJ(10.,'BTLF',bj_lastCreatedUnit)
call EnableTrigger(OOOOO1I)
call TriggerSleepAction(10.)
call RemoveLocation(OOOOO)
call SetUnitUserData(GetTriggerUnit(),(GetUnitUserData(GetTriggerUnit())-1))
if(O1O1O11I())then
call DisableTrigger(OOOOO1I)
endif
endfunction
function O1O11I1I takes nothing returns boolean
return(DistanceBetweenPoints(I1OII[0],OOOOO)>30.)
endfunction
function O1O11OII takes nothing returns nothing
set I1OII[0]=GetUnitLoc(IO1I)
if(O1O11I1I())then
call RemoveLocation(OOOOO)
set OOOOO=GetUnitLoc(IO1I)
call CreateNUnitsAtLoc(1,'h01V',GetOwningPlayer(IO1I),I1OII[0],bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped('AEim',bj_lastCreatedUnit,OOOIO)
call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D1)
call UnitApplyTimedLifeBJ(10.,'BTLF',bj_lastCreatedUnit)
endif
call RemoveLocation(I1OII[0])
endfunction
function O1O11O1I takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real x=(((GetUnitX(I1IIO[K]))*1.)+((500)*1.)*Cos(((20*O1OII[K])*1.)*3.14159/180.))
local real y=(((GetUnitY(I1IIO[K]))*1.)+((500)*1.)*Sin(((20*O1OII[K])*1.)*3.14159/180.))
local unit e=CreateUnit(IIO1O[K],'h01T',x,y,0)
call SetUnitAbilityLevel(e,'A09B',O1OOI[K])
call IssueTargetOrderById(e,$D0107,I1IIO[K])
call UnitApplyTimedLife(e,'BTLF',.83)
set O1OII[K]=O1OII[K]+1
set e=null
if O1OII[K]>=36 then
call OO1OIOO(K)
endif
endfunction
function O1O111II takes nothing returns boolean
return GetSpellAbilityId()=='A09N'
endfunction
function O1O111OI takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local player p=GetTriggerPlayer()
local unit t=GetSpellTargetUnit()
set IIO1O[K]=p
set I1IIO[K]=t
set O1OII[K]=0
set O1OOI[K]=GetUnitAbilityLevel(u,'A09N')
set t=null
set u=null
set p=null
call TimerStart(IO1OO[K],.12,true,function O1O11O1I)
endfunction
function O11IIIII takes nothing returns boolean
return(SubStringBJ(GetEventPlayerChatString(),1,2)=="-l")
endfunction
function O11IIIOI takes nothing returns boolean
return(IIOI1O<1.)
endfunction
function O11III1I takes nothing returns boolean
return(IIOI1O>8.)
endfunction
function O11IIOII takes nothing returns nothing
set IIOI1O=S2R(SubStringBJ(GetEventPlayerChatString(),3,$A))
if(O11III1I())then
set IIOI1O=8.
else
if(O11IIIOI())then
set IIOI1O=1.
endif
endif
call DisplayTimedTextToForce(OOOIIIO(GetTriggerPlayer()),10.,("十二方導雷的閃電時間為  "+R2S(IIOI1O)))
set IIOI1O=((IIOI1O*7.5)/.08)
endfunction
function O11IIO1I takes nothing returns boolean
return(GetSpellAbilityId()=='A09E')
endfunction
function O11II1II takes nothing returns nothing
set OO1IO=0
set I1II[0]=GetTriggerUnit()
set I1II[1]=GetSpellTargetUnit()
set I1OI=.0
set I1OII[0]=GetUnitLoc(I1II[1])
call UnitShareVisionBJ(true,GetSpellTargetUnit(),GetOwningPlayer(I1II[0]))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$C
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h01Z',GetTriggerPlayer(),I1OII[0],(.0+(30.*I2R(bj_forLoopAIndex))))
call SetUnitAbilityLevelSwapped('A09D',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitColor(bj_lastCreatedUnit,PLAYER_COLOR_RED)
set OOO1O[bj_forLoopAIndex]=bj_lastCreatedUnit
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
call EnableTrigger(OOO1IOI)
endfunction
function O11II11I takes nothing returns boolean
return(GetLearnedSkill()=='A09E')
endfunction
function O11IOIII takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call TriggerRegisterPlayerChatEvent(OOOO1OI,GetTriggerPlayer(),"-l",false)
endfunction
function O11IOI1I takes nothing returns boolean
return(I1OI<=1.)
endfunction
function O11IOOII takes nothing returns boolean
return(OO1IO==2)
endfunction
function O11IOOOI takes nothing returns boolean
return(I1OI>=IIOI1O)
endfunction
function O11IOO1I takes nothing returns boolean
return(OO1IO==0)
endfunction
function Trig_Lightning4_timer_Func005Func008001 takes nothing returns boolean
return(IsUnitPaused(I1II[1])==false)
endfunction
function O11IO1II takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('AIa4',I1II[1])==0)
endfunction
function O11IO1OI takes nothing returns boolean
return(OO1IO==1)
endfunction
function O11IO11I takes nothing returns nothing
set I1OII[0]=GetUnitLoc(I1II[1])
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$C
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],I1OI,(.0+(30.*I2R(bj_forLoopAIndex))))
call SetUnitPositionLoc(OOO1O[bj_forLoopAIndex],I1OII[1])
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
if(O11IOO1I())then
set I1OI=(I1OI+7.5)
if(O11IOOOI())then
set OO1IO=1
endif
else
if(O11IOOII())then
set I1OI=(I1OI-15.)
if(O11IOI1I())then
call DisableTrigger(GetTriggeringTrigger())
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=$C
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call KillUnit(OOO1O[bj_forLoopBIndex])
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
endif
endif
endif
if(O11IO1OI())then
call DisableTrigger(GetTriggeringTrigger())
set I1OI=IIOI1O
set I1OII[0]=GetUnitLoc(I1II[1])
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$C
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],I1OI,(.0+(30.*I2R(bj_forLoopAIndex))))
call SetUnitPositionLoc(OOO1O[bj_forLoopAIndex],I1OII[1])
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=$C
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call IssueTargetOrderById(OOO1O[bj_forLoopBIndex],$D0097,I1II[1])
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
if((IsUnitPaused(I1II[1])==false))then
call PauseUnit(I1II[1],true)
endif
call TriggerSleepAction(.5)
call UnitShareVisionBJ(false,I1II[1],GetOwningPlayer(I1II[0]))
if(O11IO1II())then
call PauseUnit(I1II[1],false)
endif
set OO1IO=2
call EnableTrigger(GetTriggeringTrigger())
endif
endfunction
function O11I1IOI takes nothing returns boolean
return(GetSpellAbilityId()=='A0LA')
endfunction
function Trig_HealEX_Func002002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_HealEX_Func002002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_HealEX_Func002002003002002 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_HealEX_Func002002003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())),(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41))
endfunction
function O11I1I1I takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())),(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)))))!=null
endfunction
function O11I1OII takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),2000.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"war3mapImported\\Shiva'sEnchantment.mdx")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function O11I1OOI takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetSpellTargetUnit())
set OO1II=OOI1OIO(600.,I1OII[0],Condition(function O11I1I1I))
call ForGroupBJ(OO1II,function O11I1OII)
call DestroyGroup(OO1II)
call RemoveLocation(I1OII[0])
endfunction
function O11I11II takes nothing returns boolean
return(GetSpellAbilityId()=='A0E2')
endfunction
function O11I11OI takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,16)
call UnitApplyTimedLifeBJ(5.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'ANcs')
call SetUnitAbilityLevelSwapped('ANcs',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0E2',GetTriggerUnit()))
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D02AC,GetSpellTargetLoc())
call RemoveLocation(I1OII[0])
endfunction
function O11OIIII takes nothing returns boolean
return(GetSpellAbilityId()=='A0CV')
endfunction
function O11OIIOI takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetUnitLoc(GetSpellTargetUnit())
set OIO1O[0]=AngleBetweenPoints(I1OII[0],I1OII[1])
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call O1OO11O(GetTriggerUnit(),.0,OIO1O[0],.3,null,null,.1,3,4,false,0,true,0)
endfunction
function O11OIOII takes nothing returns boolean
return(GetLearnedSkill()=='ANdb')and(IsUnitIllusion(GetTriggerUnit())==false) and (GetUnitAbilityLevel(GetTriggerUnit(),'ANdb')==1)
endfunction
function O11OIOOI takes nothing returns nothing
call TriggerRegisterUnitEvent(OOO11II,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
endfunction
function O11OI1II takes nothing returns boolean
return(GetEventDamage()>.0)
endfunction
function O11OI1OI takes nothing returns nothing
if GetUnitAbilityLevelSwapped('ANdb',GetTriggerUnit())==0 then
call SetWidgetLife(GetTriggerUnit(),(GetEventDamage()*.1+GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())))
else
call SetWidgetLife(GetTriggerUnit(),((GetEventDamage()*(.03+(.07*I2R(GetUnitAbilityLevelSwapped('ANdb',GetTriggerUnit())))))+GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())))
endif
endfunction
function O11OOIII takes nothing returns boolean
return(GetSpellAbilityId()=='A0CU')and(GetUnitAbilityLevelSwapped('A07D',GetTriggerUnit())==0)
endfunction
function O11OOIOI takes nothing returns nothing
call TriggerSleepAction(.1)
call SetUnitAbilityLevelSwapped('A07D',GetTriggerUnit(),2)
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(OOO111I)
call EnableTrigger(OO1IIII)
call TriggerSleepAction(66.)
call DisableTrigger(OOO111I)
call DisableTrigger(OO1IIII)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function O11OOOII takes nothing returns boolean
return IsUnitEnemy(GetAttacker(),GetTriggerPlayer())and(GetUnitTypeId(GetAttacker())=='H032' or GetUnitTypeId(GetAttacker())=='H033')
endfunction
function O11OOOOI takes nothing returns nothing
local unit a=GetAttacker()
local unit e
local real R=1
loop
exitwhen R>3
set e=CreateUnit(Player($F),'ospw',GetUnitX(a),GetUnitY(a),GetUnitFacing(a))
call SetUnitAnimation(e,"attack")
call SetUnitColor(e,GetPlayerColor(GetOwningPlayer(a)))
call UnitApplyTimedLife(e,'BTLF',.4)
call SetUnitTimeScale(e,.3*R)
call SetUnitVertexColorBJ(e,50.,50.,50.,50.)
set e=null
set R=R+1
endloop
set a=null
endfunction
function O11OO1II takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='ospw')
endfunction
function O11OO1OI takes nothing returns nothing
call KillUnit(GetTriggerUnit())
call RemoveUnit(GetTriggerUnit())
endfunction
function O11O1III takes nothing returns nothing
set IO1IOO[1]='nglm'
set IO1IOO[2]='n018'
set IO1IOO[3]='n019'
set IO1IOO[4]='n01B'
endfunction
function O11O1I1I takes nothing returns boolean
return(GetSpellAbilityId()=='A020')
endfunction
function O11O1OII takes nothing returns boolean
return(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())==1)
endfunction
function O11O1OOI takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=$F)
endfunction
function O11O1O1I takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],500.,(72.*I2R(bj_forLoopAIndex)))
if(O11O1OII())then
call CreateNUnitsAtLoc(1,'n00Q',GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
else
call CreateNUnitsAtLoc(1,'n00T',GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
endif
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(O11O1OOI())then
set IO1OIO[0]=0
set IO1OIO[1]=GetRandomInt(35,75)
set IO1OOO=GetSpellTargetLoc()
set IO1O1O=IO1IOO[GetUnitAbilityLevelSwapped('A02D',GetTriggerUnit())]
set IO11IO=GetTriggerPlayer()
call StartTimerBJ(IO1I1O,false,.0)
endif
call RemoveLocation(I1OII[0])
endfunction
function O11O11OI takes nothing returns boolean
return(IO1OIO[0]<IO1OIO[1])
endfunction
function O11O111I takes nothing returns nothing
set IO1OIO[0]=(IO1OIO[0]+1)
set I1OII[0]=OOIOO1O(IO1OOO,GetRandomReal(150.,750.),GetRandomReal(0,360))
call CreateNUnitsAtLoc(1,IO1O1O,IO11IO,I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(30.,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OII[0])
if(O11O11OI())then
call StartTimerBJ(IO1I1O,false,GetRandomReal(.06,.12))
else
call RemoveLocation(IO1OOO)
endif
endfunction
function O111IIOI takes nothing returns boolean
return((GetUnitTypeId(GetAttacker())=='O00T')and(GetUnitAbilityLevelSwapped('A0L4',GetAttacker())>=1)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false))!=null
endfunction
function O111II1I takes nothing returns boolean
return(RAbsBJ((ModuloReal(((III1I-IIIOI)+IIIII),360.)-IIIII))>IIIII)
endfunction
function O111IOII takes nothing returns nothing
set O1OO=GetUnitLoc(GetAttacker())
set O11O=GetUnitLoc(GetTriggerUnit())
set III1I=GetUnitFacing(GetTriggerUnit())
set IIIOI=AngleBetweenPoints(O1OO,O11O)
set IIIII=90.
call RemoveLocation(O11O)
if(O111II1I())then
call RemoveLocation(O1OO)
else
call AddSpecialEffectTargetUnitBJ("head",GetTriggerUnit(),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),500.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNIVERSAL)
call RemoveLocation(O1OO)
endif
endfunction
function O111IO1I takes nothing returns boolean
return(GetUnitTypeId(GetKillingUnit())=='O00T')and(GetUnitLevel(GetKillingUnit())>=$F)
endfunction
function O111I1II takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,IO1IOO[GetUnitAbilityLevelSwapped('A02D',GetKillingUnit())],GetOwningPlayer(GetKillingUnit()),I1OII[0],GetRandomReal(0,360))
call RemoveLocation(I1OII[0])
endfunction
function O111I11I takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='nglm')or(GetUnitTypeId(GetTriggerUnit())=='n018')or(GetUnitTypeId(GetTriggerUnit())=='n019')or(GetUnitTypeId(GetTriggerUnit())=='n01B')
endfunction
function O111OIII takes nothing returns boolean
return(O111I11I())and(GetUnitLevel(GetTriggerUnit())>=$F)
endfunction
function O111OIOI takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,IO1IOO[GetUnitAbilityLevelSwapped('A02D',GetSummoningUnit())],GetTriggerPlayer(),I1OII[0],GetRandomReal(0,360))
call RemoveLocation(I1OII[0])
endfunction
function O111OOII takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
call IssueImmediateOrderById(I1IIO[K],$D022E)
set O1OII[K]=O1OII[K]+1
if O1OII[K]==O1OOI[K]then
call OO1OIOO(K)
endif
endfunction
function O111OOOI takes nothing returns boolean
return GetUnitTypeId(GetSummonedUnit())=='nwad'
endfunction
function O111OO1I takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetSummonedUnit()
local integer I=GetUnitAbilityLevel(GetSummoningUnit(),'A0MQ')
local real O111O1II=1.
set I1IIO[K]=u
set O1OII[K]=0
set O1OOI[K]=4+2*I
if I==4 then
set O111O1II=.5
set O1OOI[K]=24
endif
call IssueImmediateOrderById(u,$D022E)
call TimerStart(IO1OO[K],O111O1II,true,function O111OOII)
set u=null
endfunction
function O111O11I takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real O1II11O
local real x=(((GetUnitX(I1IOO[K]))*1.)+((21)*1.)*Cos(((II1IO[K])*1.)*3.14159/180.))
local real y=(((GetUnitY(I1IOO[K]))*1.)+((21)*1.)*Sin(((II1IO[K])*1.)*3.14159/180.))
if O1OII[K]==0 then
set O1II11O=OO1II1O(GetUnitX(I1IOO[K]),GetUnitY(I1IOO[K]),O11OI[K],IIIOO[K])
else
set O1II11O=OO1II1O(GetUnitX(I1IOO[K]),GetUnitY(I1IOO[K]),GetUnitX(I1IIO[K]),GetUnitY(I1IIO[K]))
set II1IO[K]=OO1IIOO(GetUnitX(I1IOO[K]),GetUnitY(I1IOO[K]),GetUnitX(I1IIO[K]),GetUnitY(I1IIO[K]))
endif
if O1II11O<=$80 then
if O1OII[K]==1 then
call OO1OIOO(K)
call KillUnit(I1IOO[K])
endif
set O1OII[K]=1
endif
call SetUnitPosition(I1IOO[K],x,y)
endfunction
function O1111III takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit e=CreateUnit(GetTriggerPlayer(),'h02Q',GetUnitX(u),GetUnitY(u),GetUnitFacing(u))
set O1OII[K]=0
set II1IO[K]=OO1IIOO(GetUnitX(u),GetUnitY(u),GetSpellTargetX(),GetSpellTargetY())
set I1IIO[K]=u
set I1IOO[K]=e
set O11OI[K]=GetSpellTargetX()
set IIIOO[K]=GetSpellTargetY()
call TimerStart(IO1OO[K],.04,true,function O111O11I)
set u=null
set e=null
endfunction
function O1111IOI takes nothing returns boolean
if GetSpellAbilityId()=='A0L0' then
call O1111III()
endif
return false
endfunction
function O1111I1I takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function O1111IOI))
set t=null
endfunction
function O1111OII takes nothing returns boolean
return(GetSpellAbilityId()=='A0CN')
endfunction
function O1111OOI takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0CN',GetTriggerUnit())==1)
endfunction
function O1111O1I takes nothing returns nothing
local integer weaken=0
set I1OIOO=GetTriggerPlayer()
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),OIOII[$96],bj_UNIT_FACING)
if(O1111OOI())then
call UnitAddItemByIdSwapped('I02P',bj_lastCreatedUnit)
else
call UnitAddItemByIdSwapped('I02Q',bj_lastCreatedUnit)
endif
call UnitApplyTimedLifeBJ(31.,'BTLF',bj_lastCreatedUnit)
set I111II=bj_lastCreatedUnit
set I111OI=20
set limitillusion=0
call EnableTrigger(OO1OIII)
loop
exitwhen weaken>29
set weaken=weaken+1
if limitillusion>10 then
set limitillusion=limitillusion-10
endif
call TriggerSleepAction(1.)
endloop
call RemoveItem(UnitItemInSlotBJ(I111II,1))
call DisableTrigger(OO1OIII)
endfunction
function O11111OI takes nothing returns boolean
return((GetOwningPlayer(GetAttacker())==I1OIOO)and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false))!=null
endfunction
function O111111I takes nothing returns boolean
set limitillusion=limitillusion+3
return(GetRandomInt(1,limitillusion)<=I111OI)
endfunction
function IIIIIIIO takes nothing returns nothing
if(O111111I())then
call UnitUseItemTarget(I111II,UnitItemInSlotBJ(I111II,1),GetAttacker())
endif
endfunction
function IIIIII1O takes nothing returns boolean
return(GetLearnedSkill()=='A00S')or(GetLearnedSkill()=='A0IB')
endfunction
function IIIIIOIO takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(IIIIII1O())
endfunction
function IIIIIOOO takes nothing returns nothing
call SetUnitAbilityLevelSwapped('AUau',OIO11I,GetUnitAbilityLevelSwapped('A00S',GetTriggerUnit()))
call SetUnitAbilityLevelSwapped('ACac',OIO11I,GetUnitAbilityLevelSwapped('A00S',GetTriggerUnit()))
endfunction
function IIIII1IO takes nothing returns nothing
local unit E=GetEnumUnit()
call SetUnitFlyHeight(E,0,0)
call PauseUnit(E,false)
call SetUnitTimeScale(E,1)
if E==I11O11O then
call UnitRemoveAbility(I11O11O,'Avul')
call IssueImmediateOrderById(I11O11O,$D0004)
call SetUnitAnimation(I11O11O,"stand")
else
call UnitDamageTarget(I11O11O,E,$BB8,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endif
endfunction
function IIIII1OO takes nothing returns nothing
local unit E=GetEnumUnit()
local real X
local real Y
local real O1II11O
local real O1IIO1O
call SetUnitFlyHeight(E,I111O1O,.0)
if E==I11O11O then
call SetUnitFacingTimed(I11O11O,(GetUnitFacing(I11O11O)-75.),0)
else
set X=GetUnitX(E)
set Y=GetUnitY(E)
set O1II11O=OO1II1O(I111OIO,I111OOO,X,Y)-$F
set O1IIO1O=OO1IIOO(I111OIO,I111OOO,X,Y)-$A
if GetRandomInt(1,4)==1 then
call DestroyEffect(AddSpecialEffectTarget("abilities\\weapons\\catapult\\catapultmissile.mdl",E,"chest"))
endif
call OO1IOIO(E,(((I111OIO)*1.)+((O1II11O)*1.)*Cos(((O1IIO1O)*1.)*3.14159/180.)),(((I111OOO)*1.)+((O1II11O)*1.)*Sin(((O1IIO1O)*1.)*3.14159/180.)))
endif
set E=null
endfunction
function IIIII11O takes nothing returns nothing
set I111IIO=I111IIO+1
if I111IIO==25 then
call SetUnitTimeScale(I11O11O,.15)
endif
if I111IIO<=50 and I111IIO>=26 then
set I111O1O=((2000.*((I111IIO-25.)/25.))-(2000.*(Pow((I111IIO-25.),2.)/625.)))
call ForGroup(I111IOO,function IIIII1OO)
endif
if I111IIO>50 then
call ForGroup(I111IOO,function IIIII1IO)
call GroupClear(I111IOO)
call PauseTimer(I111I1O)
call SelectUnitForPlayerSingle(I11O11O,I11O1OO)
set I111IIO=0
endif
endfunction
function IIIIOIIO takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,I11O1OO)or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE)or IsUnitPaused(F))then
call PauseUnit(F,true)
call UnitAddAbility(F,'Arav')
call UnitRemoveAbility(F,'Arav')
call SetUnitTimeScale(F,.5)
call DestroyEffect(AddSpecialEffectTarget("abilities\\weapons\\catapult\\catapultmissile.mdl",F,"chest"))
set F=null
return true
endif
set F=null
return false
endfunction
function IIIIOIOO takes nothing returns boolean
return GetSpellAbilityId()=='A0KU'
endfunction
function IIIIOI1O takes nothing returns nothing
set I11O11O=GetTriggerUnit()
set I11O1OO=GetTriggerPlayer()
set I111OIO=GetUnitX(I11O11O)
set I111OOO=GetUnitY(I11O11O)
set I111IIO=0
call IssueImmediateOrderById(I11O11O,$D0004)
call SetUnitAnimation(I11O11O,"victory")
call SetUnitTimeScale(I11O11O,.5)
call GroupAddUnit(I111IOO,GetTriggerUnit())
call GroupAddUnit(I111IOO,I11O11O)
call PauseUnit(I11O11O,true)
call GroupAddUnit(I111IOO,I11O11O)
call UnitAddAbility(I11O11O,'Avul')
call UnitAddAbility(I11O11O,'Arav')
call UnitRemoveAbility(I11O11O,'Arav')
call GroupEnumUnitsInRange(I111IOO,GetUnitX(I11O11O),GetUnitY(I11O11O),400,Condition(function IIIIOIIO))
call GroupAddUnit(I111IOO,I11O11O)
call TimerStart(I111I1O,.04,true,function IIIII11O)
endfunction
function IIIIOOIO takes nothing returns boolean
return(GetSpellAbilityId()=='A0M5' or nocdmode==true)
endfunction
function IIIIOOOO takes nothing returns nothing
call UnitResetCooldown(GetTriggerUnit())
if GetPlayerId(GetOwningPlayer(GetTriggerUnit()))==tiebigplayer then
set tiebigcool=true
endif
if nocdmode==true then
call TriggerSleepAction(0.)
set tiebigcool=true
call UnitResetCooldown(GetTriggerUnit())
call SetUnitState(GetTriggerUnit(),UNIT_STATE_MANA,99999)
endif
endfunction
function IIIIO1IO takes nothing returns boolean
return(GetSpellAbilityId()=='A0ME')
endfunction
function Trig_Snakefire_Func003002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Snakefire_Func003002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Snakefire_Func003002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_Snakefire_Func003002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function IIIIO1OO takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function IIIIO11O takes nothing returns nothing
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,40)
call UnitAddAbility(bj_lastCreatedUnit,'AIcl')
call IssueTargetOrderById(bj_lastCreatedUnit,$D0097,GetEnumUnit())
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
endfunction
function IIII1IIO takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
set I1OII[1]=GetUnitLoc(GetTriggerUnit())
set OO1II=OOI1OIO(400.,I1OII[0],Condition(function IIIIO1OO))
call ForGroupBJ(OO1II,function IIIIO11O)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call DestroyGroup(OO1II)
endfunction
function IIII1I1O takes nothing returns boolean
return GetEventDamage()>.41 and GetRandomInt(1,'d')<=6+4*GetUnitAbilityLevel(GetTriggerUnit(),'A0I9')
endfunction
function IIII1OIO takes nothing returns nothing
call SetWidgetLife(GetTriggerUnit(),GetWidgetLife(GetTriggerUnit())+GetEventDamage())
endfunction
function IIII1O1O takes nothing returns boolean
return(GetSpellAbilityId()=='A0MH')
endfunction
function IIII11IO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetUnitLoc(GetSpellTargetUnit())
set OIO1O[0]=DistanceBetweenPoints(I1OII[0],I1OII[1])
set OIO1O[1]=AngleBetweenPoints(I1OII[0],I1OII[1])
set O1O1II=GetSpellTargetUnit()
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call O1OO11O(GetTriggerUnit(),OIO1O[0],OIO1O[1],.23,OO1O1II,null,.08,6,3,true,0,true,0)
call PauseUnit(GetTriggerUnit(),true)
endfunction
function Trig_Trialofzhong_Func005Func001002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Trialofzhong_Func005Func001002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Trialofzhong_Func005Func001002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),IIO1O[I1O1O]))
endfunction
function Trig_Trialofzhong_Func005Func001002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),IIO1O[I1O1O])))
endfunction
function IIII111O takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),IIO1O[I1O1O]))))))!=null
endfunction
function IIIOIIIO takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call UnitDamageTargetBJ(I1IIO[I1O1O],GetEnumUnit(),(2000.+(2000.*I2R(GetUnitAbilityLevelSwapped('A0MH',I1IIO[I1O1O])))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
endfunction
function IIIOIIOO takes nothing returns boolean
return(DistanceBetweenPoints(I1OII[0],I1OII[1])<=250.)
endfunction
function IIIOII1O takes nothing returns nothing
local unit t=I1IIO[I1O1O]
set I1OII[0]=GetUnitLoc(I1IIO[I1O1O])
set I1OII[1]=GetUnitLoc(O1O1II)
call SetUnitAnimation(I1IIO[I1O1O],"attack")
if(IIIOIIOO())then
set OO1II=OOI1OIO(350.,I1OII[1],Condition(function IIII111O))
call ForGroupBJ(OO1II,function IIIOIIIO)
call DestroyGroup(OO1II)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'u002',Player($F),I1OII[1],bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,(30.*I2R(bj_forLoopAIndex)))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TerrainDeformationCraterBJ(1.2,false,I1OII[1],750.,600.)
endif
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call TriggerSleepAction(.0)
call PauseUnit(t,false)
set t=null
endfunction
function IIIOIOOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0AC')
endfunction
function IIIOIO1O takes nothing returns boolean
return(GetUnitUserData(GetTriggerUnit())==0)
endfunction
function IIIOI1IO takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A0AB')
call SetUnitUserData(GetTriggerUnit(),(GetUnitUserData(GetTriggerUnit())+1))
call TriggerSleepAction((-2.+(6.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))))
call SetUnitUserData(GetTriggerUnit(),(GetUnitUserData(GetTriggerUnit())-1))
if(IIIOIO1O())then
call UnitRemoveAbility(GetTriggerUnit(),'A0AB')
endif
endfunction
function IIIOI11O takes nothing returns boolean
local unit E
local unit T
local unit A
if GetAttacker()==I1111IO then
set E=CreateUnit(OIIIIIO,'e02G',GetUnitX(I1111IO),GetUnitY(I1111IO),GetUnitFacing(I1111IO))
set T=GetTriggerUnit()
set A=GetAttacker()
call ShowUnit(E,false)
call SetUnitScale(E,2.25,2.25,2.25)
call UnitApplyTimedLife(E,'BTLF',2)
call SetUnitUserData(E,31)
call UnitAddAbility(E,'ACbc')
call SetUnitAbilityLevel(E,'ACbc',I1111OO)
call OO1O1IO(E,"breathoffire",OO1IIOO(GetUnitX(A),GetUnitY(A),GetUnitX(T),GetUnitY(T)))
set E=null
set T=null
set A=null
endif
return false
endfunction
function IIIOOIIO takes nothing returns boolean
return GetSpellAbilityId()=='A01Y' and OIIIIOO
endfunction
function IIIOOIOO takes nothing returns nothing
call DisableTrigger(I11111O)
set OIIIIOO=true
endfunction
function IIIOOI1O takes nothing returns nothing
set I1111IO=GetTriggerUnit()
set OIIIIIO=GetTriggerPlayer()
set I1111OO=GetUnitAbilityLevel(I1111IO,'A01Y')
set OIIIIOO=false
call TimerStart(OIIII1O,40.5,false,function IIIOOIOO)
call EnableTrigger(I11111O)
endfunction
function IIIOOOOO takes nothing returns nothing
local unit hc=GetTriggerUnit()
local trigger T1=LoadTriggerHandle(OOOII,GetHandleId(hc),1)
local trigger T2=GetTriggeringTrigger()
call TriggerRemoveAction(T1,LoadTriggerActionHandle(OOOII,GetHandleId(hc),2))
call TriggerRemoveAction(T2,LoadTriggerActionHandle(OOOII,GetHandleId(hc),3))
call DestroyTrigger(T1)
call DestroyTrigger(T2)
call FlushChildHashtable(OOOII,GetHandleId(hc))
set hc=null
set T1=null
set T2=null
endfunction
function IIIOOO1O takes nothing returns nothing
local unit uc
local unit ut
local unit hc
local unit IIIOO1IO
local trigger T1
local group g
local unit IIIOO1OO
local integer IIIOO11O
local real x
local real y
local integer OO111IOI
if not(LoadTriggerHandle(OOOII,GetHandleId(GetEventDamageSource()),1)==GetTriggeringTrigger())then
return
endif
set hc=GetEventDamageSource()
set ut=GetTriggerUnit()
set uc=LoadUnitHandle(OOOII,GetHandleId(hc),0)
set OO111IOI=LoadInteger(OOOII,GetHandleId(hc),2)
set T1=GetTriggeringTrigger()
call DestroyEffect(AddSpellEffectTargetById('AHtb',EFFECT_TYPE_SPECIAL,ut,"origin"))
set x=GetUnitX(ut)
set y=GetUnitY(ut)
set IIIOO1IO=ut
set ut=null
set IIIOO11O=0
set g=CreateGroup()
call GroupEnumUnitsInRange(g,x,y,600.,null)
loop
set IIIOO1OO=FirstOfGroup(g)
exitwhen IIIOO1OO==null
call GroupRemoveUnit(g,IIIOO1OO)
if IsUnitInRangeXY(IIIOO1OO,x,y,800)and IIIOO1OO!=IIIOO1IO then
if IssueTargetOrderById(hc,$D007F,IIIOO1OO)then
set IIIOO11O=IIIOO11O+1
if(GetRandomInt(1,IIIOO11O)==1)then
set ut=IIIOO1OO
endif
endif
endif
endloop
set IIIOO1IO=null
if ut==null or OO111IOI>=$A then
call KillUnit(hc)
else
set OO111IOI=OO111IOI+1
call SaveInteger(OOOII,GetHandleId(hc),2,OO111IOI)
call SetUnitState(hc,UNIT_STATE_LIFE,GetUnitState(hc,UNIT_STATE_MAX_LIFE))
call SetUnitPosition(hc,x,y)
call SetUnitFacingToFaceUnitTimed(hc,ut,0)
call IssueTargetOrderById(hc,$D007F,ut)
call TriggerRemoveAction(T1,LoadTriggerActionHandle(OOOII,GetHandleId(hc),2))
call DestroyTrigger(T1)
set T1=CreateTrigger()
call TriggerRegisterUnitEvent(T1,ut,EVENT_UNIT_DAMAGED)
call SaveTriggerHandle(OOOII,GetHandleId(hc),1,T1)
call SaveTriggerActionHandle(OOOII,GetHandleId(hc),2,TriggerAddAction(T1,function IIIOOO1O))
endif
call DestroyGroup(g)
set uc=null
set ut=null
set hc=null
set IIIOO1OO=null
set T1=null
endfunction
function IIIO1IIO takes nothing returns boolean
return GetSpellAbilityId()=='A07A'
endfunction
function IIIO1IOO takes nothing returns nothing
local unit uc=GetTriggerUnit()
local unit ut=GetSpellTargetUnit()
local unit hc=CreateUnit(GetOwningPlayer(uc),'e00P',GetUnitX(uc),GetUnitY(uc),.0)
local trigger T1=CreateTrigger()
local trigger T2=CreateTrigger()
local integer IIIO1I1O=GetUnitAbilityLevel(uc,'A07A')
call TriggerRegisterUnitEvent(T1,ut,EVENT_UNIT_DAMAGED)
call TriggerRegisterUnitEvent(T2,hc,EVENT_UNIT_DEATH)
call SetUnitUserData(hc,31)
call UnitApplyTimedLife(hc,'BTLF',10.)
call SaveUnitHandle(OOOII,GetHandleId(hc),0,uc)
call SaveTriggerHandle(OOOII,GetHandleId(hc),1,T1)
call SaveTriggerActionHandle(OOOII,GetHandleId(hc),2,TriggerAddAction(T1,function IIIOOO1O))
call SaveTriggerActionHandle(OOOII,GetHandleId(hc),3,TriggerAddAction(T2,function IIIOOOOO))
call SaveInteger(OOOII,GetHandleId(hc),2,0)
call ShowUnit(hc,false)
call UnitAddAbility(hc,'AHtb')
call SetUnitAbilityLevel(hc,'AHtb',IIIO1I1O)
call SetUnitFacingToFaceUnitTimed(hc,ut,0)
call IssueTargetOrderById(hc,$D007F,ut)
set uc=null
set ut=null
set hc=null
set T1=null
set T2=null
endfunction
function IIIO1OOO takes nothing returns boolean
return(GetSpellAbilityId()=='A01J')
endfunction
function IIIO1O1O takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(2,'e007',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call PlaySoundAtPointBJ(O11IIO,100.,I1OII[0],0)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=7
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],GetRandomReal(250.,425.),GetRandomReal(0,360))
call CreateNUnitsAtLoc(1,'e007',GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
call SetUnitScalePercent(bj_lastCreatedUnit,250.,250.,250.)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
endfunction
function IIIO11OO takes nothing returns boolean
return(GetSpellAbilityId()=='ANsi')
endfunction
function Trig_Silence_Func002002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Silence_Func002002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Silence_Func002002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_Silence_Func002002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function IIIO111O takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function III1IIIO takes nothing returns boolean
return(GetUnitTypeId(GetEnumUnit())!='h01N')
endfunction
function III1IIOO takes nothing returns nothing
if(III1IIIO())then
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),((1800.+(300.*I2R(GetUnitAbilityLevelSwapped('ANsi',GetTriggerUnit()))))+.0),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
call SetUnitManaBJ(GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetEnumUnit())-(GetUnitStateSwap(UNIT_STATE_MAX_MANA,GetEnumUnit())*.6)))
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endif
endfunction
function III1II1O takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
set OO1II=OOI1OIO(600.,I1OII[0],Condition(function IIIO111O))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=36
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],600.,(10.*I2R(bj_forLoopAIndex)))
call AddSpecialEffectLocBJ(I1OII[1],"Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(OO1II,function III1IIOO)
call DestroyGroup(OO1II)
call RemoveLocation(I1OII[0])
endfunction
function III1IOOO takes nothing returns boolean
return(GetSpellAbilityId()=='ANdr')
endfunction
function Trig_Consciousness_Func006002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Consciousness_Func006002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Consciousness_Func006002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_Consciousness_Func006002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function III1IO1O takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function III1I1IO takes nothing returns nothing
call UnitDamageTargetBJ(I11OII[1],GetEnumUnit(),((GetUnitStateSwap(UNIT_STATE_MANA,I11OII[1])*(.04+(.04*I2R(I11OOI))))+100.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
endfunction
function III1I1OO takes nothing returns nothing
set I11OII[1]=GetTriggerUnit()
set I11OII[2]=GetSpellTargetUnit()
set I11OOI=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetUnitLoc(GetSpellTargetUnit())
set OO1II=OOI1OIO(300.,I1OII[1],Condition(function III1IO1O))
call AddSpecialEffectLocBJ(I1OII[1],"Units\\NightElf\\Wisp\\WispExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call ForGroupBJ(OO1II,function III1I1IO)
call StartTimerBJ(I11I1I,true,.4)
call DestroyGroup(OO1II)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call EnableTrigger(OO11OOI)
call EnableTrigger(OO11OII)
endfunction
function III1OIIO takes nothing returns boolean
return(IsUnitDeadBJ(I11OII[1]))
endfunction
function Trig_Consciousness_timer_Func004002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Consciousness_timer_Func004002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Consciousness_timer_Func004002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I11OII[1])))
endfunction
function Trig_Consciousness_timer_Func004002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I11OII[1]))))
endfunction
function III1OIOO takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I11OII[1])))))))!=null
endfunction
function III1OI1O takes nothing returns nothing
call UnitDamageTargetBJ(I11OII[1],GetEnumUnit(),((GetUnitStateSwap(UNIT_STATE_MANA,I11OII[1])*(.04+(.04*I2R(I11OOI))))+100.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN)
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\NightElf\\SpiritOfVengeance\\SpiritOfVengeanceBirthMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function III1OOIO takes nothing returns nothing
if(III1OIIO())then
call PauseTimerBJ(true,I11I1I)
call DisableTrigger(OO11OOI)
call DisableTrigger(GetTriggeringTrigger())
return
endif
set I1OII[1]=GetUnitLoc(I11OII[2])
set OO1II=OOI1OIO(300.,I1OII[1],Condition(function III1OIOO))
call AddSpecialEffectLocBJ(I1OII[1],"Units\\NightElf\\Wisp\\WispExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call ForGroupBJ(OO1II,function III1OI1O)
call DestroyGroup(OO1II)
call RemoveLocation(I1OII[1])
endfunction
function III1OO1O takes nothing returns boolean
return(GetSpellAbilityId()=='ANdr')
endfunction
function III1O1IO takes nothing returns nothing
call PauseTimerBJ(true,I11I1I)
call DisableTrigger(OO11OII)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function III1O11O takes nothing returns boolean
return(GetSpellAbilityId()=='ACfd')
endfunction
function III11IIO takes nothing returns nothing
set OIO1O[0]=(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())*(.4+(.05*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))))
set OIO1O[1]=(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())*(.1+(.05*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))))
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())+OIO1O[0]))
call SetUnitManaBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())-OIO1O[0]))
call SetWidgetLife(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+OIO1O[1]))
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),OIO1O[1],ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
call AddSpecialEffectTargetUnitBJ("chest",GetSpellTargetUnit(),"Abilities\\Weapons\\snapMissile\\snapMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ("head",GetSpellTargetUnit(),"Abilities\\Weapons\\snapMissile\\snapMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function III11I1O takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real x=GetUnitX(I1IOO[K])
local real y=GetUnitY(I1IOO[K])
if GetUnitAbilityLevel(I1IOO[K],'B00B')==0 or GetUnitAbilityLevel(I1IOO[K],'Bams')>0 then
call OO1OIOO(K)
return
endif
if OO1II1O(x,y,O11OI[K],IIIOO[K])>125-25*GetUnitAbilityLevel(I1IOO[K],'B00B')then
call UnitDamageTarget(I1IIO[K],I1IOO[K],75,true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call UnitDamageTarget(I1IIO[K],I1IOO[K],75,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",I1IOO[K],"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",I1IOO[K],"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",I1IOO[K],"head"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",I1IOO[K],"hand left"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",I1IOO[K],"hand right"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",I1IOO[K],"foot left"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",I1IOO[K],"foot right"))
set O11OI[K]=GetUnitX(I1IOO[K])
set IIIOO[K]=GetUnitY(I1IOO[K])
endif
endfunction
function III11OIO takes nothing returns boolean
return GetSpellAbilityId()=='A03L'
endfunction
function III11OOO takes nothing returns nothing
local integer K=OO1OIIO()
set I1IIO[K]=GetTriggerUnit()
set I1IOO[K]=GetSpellTargetUnit()
set O11OI[K]=GetUnitX(I1IOO[K])
set IIIOO[K]=GetUnitY(I1IOO[K])
call TriggerSleepAction(1)
call TimerStart(IO1OO[K],.2,true,function III11I1O)
endfunction
function III111IO takes nothing returns boolean
return(GetUnitTypeId(GetSummonedUnit())=='nspb')
endfunction
function III111OO takes nothing returns nothing
set IIIIOI[0]=((GetUnitLevel(GetSummoningUnit())*2)+$A)
set IIIIOI[1]=((GetUnitLevel(GetSummoningUnit())/3)+0)
set IIIIOI[2]=((GetUnitLevel(GetSummoningUnit())/7)+0)
call SetUnitAbilityLevelSwapped('A0N0',GetSummonedUnit(),IIIIOI[0])
call SetUnitAbilityLevelSwapped('Afak',GetSummonedUnit(),IIIIOI[1])
call SetUnitAbilityLevelSwapped('ACfd',GetSummonedUnit(),IIIIOI[2])
call SetPlayerTechResearchedSwap('R00M',IIIIOI[1],GetTriggerPlayer())
endfunction
function IIOIIIIO takes nothing returns boolean
local unit F=GetFilterUnit()
local real x
local real y
if not(IsUnitAlly(F,OIII1IO)or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE)or IsUnitType(F,UNIT_TYPE_MAGIC_IMMUNE))then
set x=GetUnitX(F)
set y=GetUnitY(F)
call UnitDamageTarget(OIIIO1O,F,OIIOIIO,true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
set IIO11I=OO1IIOO(OIII1OO,OIII11O,x,y)
if GetPlayerController(GetOwningPlayer(F))==MAP_CONTROL_COMPUTER then
set II1III=true
else
set II1III=false
endif
set IOOI1I=false
set II1IOI=18
set IOI1II=.02
set IOI1OI=.9
set IOI11I=.6
set IOOIOI=F
call ConditionalTriggerExecute(IIIOO1I)
endif
set F=null
return false
endfunction
function IIOIIIOO takes nothing returns nothing
local unit e
set OIIIOOO=I1IIO[I1O1O]
if GetUnitTypeId(OIIIOOO)=='e01L' then
call KillUnit(OIIIOOO)
return
endif
set OIII1OO=GetUnitX(OIIIOOO)
set OIII11O=GetUnitY(OIIIOOO)
call SetUnitTimeScale(CreateUnit(OIII1IO,'e01M',OIII1OO,OIII11O,0),.8)
call SetUnitTimeScale(CreateUnit(OIII1IO,'e01M',OIII1OO,OIII11O,0),.4)
call SetUnitTimeScale(CreateUnit(OIII1IO,'e01M',OIII1OO,OIII11O,0),1.4)
call GroupEnumUnitsInRange(OII1O,GetUnitX(OIIIOOO),GetUnitY(OIIIOOO),300,Condition(function IIOIIIIO))
call KillUnit(OIIIOOO)
endfunction
function IIOIII1O takes nothing returns boolean
return GetSpellAbilityId()=='AOfs'
endfunction
function IIOIIOIO takes nothing returns nothing
local unit u=GetTriggerUnit()
local real O1II11O=OO1II1O(GetUnitX(u),GetUnitY(u),GetSpellTargetX(),GetSpellTargetY())
local real O1IIO1O=OO1IIOO(GetUnitX(u),GetUnitY(u),GetSpellTargetX(),GetSpellTargetY())
local unit e
if O1II11O<=0 then
set O1II11O=50
endif
set OIIIO1O=u
set OIII1IO=GetOwningPlayer(u)
set OIIOIIO=300+$C8*GetUnitAbilityLevel(u,'AOfs')
set e=CreateUnit(OIII1IO,'e018',GetUnitX(u),GetUnitY(u),GetRandomReal(0,360))
call SetUnitFlyHeight(e,50,99999)
call O1OOOIO(e,O1II11O,O1IIO1O,80,O1II11O/$3E8*.5,OIIIOIO)
set e=null
set e=CreateUnit(OIII1IO,'e01L',GetUnitX(u),GetUnitY(u),GetRandomReal(0,360))
call SetUnitFlyHeight(e,50,99999)
call O1OOOIO(e,O1II11O,O1IIO1O,80,O1II11O/$3E8*.5,OIIIOIO)
set e=null
set u=null
endfunction
function IIOIIOOO takes nothing returns boolean
local unit F=GetFilterUnit()
if not(GetWidgetLife(F)<.41 or IsUnitAlly(F,OIIO1OO))then
if IsUnitType(F,UNIT_TYPE_STRUCTURE)then
call UnitDamageTarget(OIIOI1O,F,(OIIOOIO*.35),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(OIIOI1O,F,OIIOOIO,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endif
endif
set F=null
return false
endfunction
function IIOIIO1O takes nothing returns nothing
local real x=GetUnitX(OIIOI1O)
local real x2
local real y=GetUnitY(OIIOI1O)
local real y2
local integer I=0
set OIIOO1O=OIIOO1O+1
loop
exitwhen I>6
set x2=(((x)*1.)+((200)*1.)*Cos(((60*I)*1.)*3.14159/180.))
set y2=(((y)*1.)+((200)*1.)*Sin(((60*I)*1.)*3.14159/180.))
call OO1IOIO(OIIO1IO[I],x2,y2)
call GroupEnumUnitsInRange(OII1O,x2,y2,250,Condition(function IIOIIOOO))
set I=I+1
endloop
if OIIOO1O>=OIIOOOO then
set I=0
loop
exitwhen I>6
call RemoveUnit(OIIO1IO[I])
set I=I+1
endloop
call PauseTimer(OIIOIOO)
endif
endfunction
function IIOII1IO takes nothing returns boolean
return GetSpellAbilityId()=='A0MX'
endfunction
function IIOII1OO takes nothing returns nothing
local integer I=0
set OIIO1OO=GetTriggerPlayer()
set OIIOO1O=0
set OIIOI1O=GetTriggerUnit()
set OIIOOIO=12.5+50*GetUnitAbilityLevel(OIIOI1O,'A0MX')
loop
exitwhen I>6
call RemoveUnit(OIIO1IO[I])
set OIIO1IO[I]=CreateUnit(OIIO1OO,'nubr',GetUnitX(OIIOI1O),GetUnitY(OIIOI1O),0)
call SetUnitAnimation(OIIO1IO[I],"spin")
call SetUnitVertexColorBJ(OIIO1IO[I],50,50,50,50)
set I=I+1
endloop
call TimerStart(OIIOIOO,.05,true,function IIOIIO1O)
endfunction
function IIOII11O takes nothing returns boolean
return(GetUnitTypeId(GetSummonedUnit())=='earc')
endfunction
function IIOIOIIO takes nothing returns nothing
call SetUnitFlyHeight(GetSummonedUnit(),GetRandomReal(30.,128.),99999.)
endfunction
function IIOIOI1O takes nothing returns boolean
return(GetSpellAbilityId()=='AOwk')
endfunction
function IIOIOOIO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'nbdm',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped('A0EK',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0F1',GetTriggerUnit()))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0080)
call RemoveLocation(I1OII[0])
endfunction
function IIOIOO1O takes nothing returns boolean
return(GetSpellAbilityId()=='A06T')
endfunction
function Trig_Bluefire_Func007002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Bluefire_Func007002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Bluefire_Func007002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_Bluefire_Func007002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function IIOIO1IO takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function IIOIO1OO takes nothing returns boolean
return(GetSpellTargetUnit()!=GetEnumUnit())
endfunction
function IIOIO11O takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(IIOIO1OO())then
call SetUnitFacingToFaceUnitTimed(bj_lastCreatedUnit,GetEnumUnit(),0)
call IssueTargetOrderById(bj_lastCreatedUnit,$D02BC,GetEnumUnit())
endif
endfunction
function IIOI1IIO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,27)
call UnitAddAbility(bj_lastCreatedUnit,'A0JQ')
call SetUnitAbilityLevelSwapped('A0JQ',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call UnitApplyTimedLifeBJ(20.,'BTLF',bj_lastCreatedUnit)
set OO1II=OOI1OIO(700.,I1OII[0],Condition(function IIOIO1IO))
call ForGroupBJ(OO1II,function IIOIO11O)
call RemoveLocation(I1OII[0])
call DestroyGroup(OO1II)
endfunction
function IIOI1I1O takes nothing returns boolean
return GetSpellAbilityId()=='A03D'
endfunction
function IIOI1OIO takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit t=GetSpellTargetUnit()
local effect OOIOIOOI=AddSpecialEffectTarget("Abilities\\Weapons\\ZigguratFrostMissile\\ZigguratFrostMissile.mdl",u,"weapon")
call TriggerSleepAction(.0)
call SetUnitPosition(u,GetUnitX(t),GetUnitY(t))
call UnitAddAbility(u,'A01Z')
call TriggerSleepAction(6.)
call UnitRemoveAbility(u,'A01Z')
call TriggerSleepAction(.5)
call DestroyEffect(OOIOIOOI)
set OOIOIOOI=null
set u=null
set t=null
endfunction
function IIOI1O1O takes nothing returns boolean
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local unit F=GetFilterUnit()
if not(IsUnitInGroup(F,O1IOI[K])or IsUnitAlly(F,IIO1O[K])or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call UnitShareVision(F,IIO1O[K],true)
call SetUnitFacingToFaceUnitTimed(I1IOO[K],F,0)
call IssueTargetOrderById(I1IOO[K],$D007F,F)
call GroupAddUnit(O1IOI[K],F)
call UnitShareVision(F,IIO1O[K],false)
endif
set F=null
return false
endfunction
function IIOI11IO takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real lx=(((O111I[K])*1.)+((50)*1.)*Cos(((IOOIO[K])*1.)*3.14159/180.))
local real ly=(((III1O[K])*1.)+((50)*1.)*Sin(((IOOIO[K])*1.)*3.14159/180.))
set O111I[K]=lx
set III1O[K]=ly
if OO1II1O(O111I[K],III1O[K],O11OI[K],IIIOO[K])<=60 or not(lx>I11OO or lx<OIIOO or ly>I111O or ly<OIIIO)then
call SetUnitPosition(I1IIO[K],O11OI[K],IIIOO[K])
call ShowUnit(I1IIO[K],true)
call DestroyEffect(IIO1OI[K])
call SelectUnitForPlayerSingle(I1IIO[K],IIO1O[K])
call GroupClear(O1IOI[K])
call OO1OIOO(K)
else
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",lx,ly))
call GroupEnumUnitsInRange(OII1O,lx,ly,278,Condition(function IIOI1O1O))
endif
endfunction
function IIOI11OO takes nothing returns boolean
return GetSpellAbilityId()=='ANcl'
endfunction
function IIOI111O takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local effect OOIOIOOI=AddSpecialEffectTarget("Abilities\\Weapons\\ZigguratFrostMissile\\ZigguratFrostMissile.mdl",u,"weapon")
local real lx=GetUnitX(u)
local real ly=GetUnitY(u)
local real O1IIO1O=OO1IIOO(lx,ly,GetSpellTargetX(),GetSpellTargetY())
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',lx,ly,GetUnitFacing(u))
call ShowUnit(u,false)
call ShowUnit(e,false)
call UnitAddAbility(e,'ANsb')
call SetUnitAbilityLevel(e,'ANsb',GetUnitAbilityLevel(u,'ANcl'))
call SetUnitUserData(e,27)
if O1IOI[K]==null then
set O1IOI[K]=CreateGroup()
else
call GroupClear(O1IOI[K])
endif
set IIO1O[K]=GetTriggerPlayer()
set I1IIO[K]=u
set I1IOO[K]=e
set O11OI[K]=GetSpellTargetX()
set IIIOO[K]=GetSpellTargetY()
set O111I[K]=lx
set III1O[K]=ly
set IOOIO[K]=O1IIO1O
set IIO1OI[K]=OOIOIOOI
call TimerStart(IO1OO[K],.02,true,function IIOI11IO)
set u=null
set OOIOIOOI=null
endfunction
function IIOOIIOO takes nothing returns boolean
return(GetSpellAbilityId()=='A097')or(GetSpellAbilityId()=='A0AP')
endfunction
function IIOOII1O takes nothing returns boolean
return(IIOOIIOO())
endfunction
function IIOOIOIO takes nothing returns boolean
return(GetSpellAbilityId()=='A097')
endfunction
function IIOOIOOO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
set OIO1O[0]=DistanceBetweenPoints(I1OII[0],I1OII[1])
set OIO1O[1]=AngleBetweenPoints(I1OII[0],I1OII[1])
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
if(IIOOIOIO())then
call O1OI1IO(GetTriggerUnit(),OIO1O[0],OIO1O[1],.21,null,O1II1OI)
call GroupClear(OIOOOI[2])
else
call O1OI1IO(GetTriggerUnit(),OIO1O[0],OIO1O[1],.21,null,O1II1II)
call GroupClear(OIOOOI[1])
endif
endfunction
function IIOOI1IO takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitInGroup(F,OIOOOI[1])or IsUnitAlly(F,GetOwningPlayer(I1IIO[I1O1O]))or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call GroupAddUnit(OIOOOI[1],F)
call UnitDamageTarget(I1IIO[I1O1O],F,'d'+300*GetUnitAbilityLevel(I1IIO[I1O1O],'A0AP'),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\MissileDeath.mdl",F,"origin"))
endif
set F=null
return false
endfunction
function IIOOI1OO takes nothing returns nothing
call GroupEnumUnitsInRange(OII1O,GetUnitX(I1IIO[I1O1O]),GetUnitY(I1IIO[I1O1O]),200.,Condition(function IIOOI1IO))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(I1IIO[I1O1O]),GetUnitY(I1IIO[I1O1O])))
endfunction
function IIOOOIIO takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitInGroup(F,OIOOOI[2])or IsUnitAlly(F,GetOwningPlayer(I1IIO[I1O1O]))or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call GroupAddUnit(OIOOOI[2],F)
call UnitDamageTarget(I1IIO[I1O1O],F,'d'+300*GetUnitAbilityLevel(I1IIO[I1O1O],'A097'),true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\MissileDeath.mdl",F,"origin"))
endif
set F=null
return false
endfunction
function IIOOOIOO takes nothing returns nothing
call GroupEnumUnitsInRange(OII1O,GetUnitX(I1IIO[I1O1O]),GetUnitY(I1IIO[I1O1O]),200.,Condition(function IIOOOIIO))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(I1IIO[I1O1O]),GetUnitY(I1IIO[I1O1O])))
endfunction
function IIOOOOIO takes nothing returns boolean
return GetSpellAbilityId()=='A07Q'
endfunction
function IIOOOOOO takes nothing returns nothing
call UnitRemoveAbility(OII1IIO,'Avul')
call UnitRemoveAbility(OII1IIO,'AIa4')
call PauseUnit(OII1IIO,false)
call SelectUnitForPlayerSingle(OII1IIO,GetOwningPlayer(OII1IIO))
endfunction
function IIOOOO1O takes nothing returns nothing
call UnitRemoveAbility(OII1IOO,'Avul')
call UnitRemoveAbility(OII1IOO,'AIa4')
call PauseUnit(OII1IOO,false)
call UnitDamageTarget(OII1IIO,OII1IOO,OII111O,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
set rpcontrol[GetPlayerId(GetOwningPlayer(OII1IOO))]=true
call CinematicFadeBJ(2,1.,"ReplaceableTextures\\CameraMasks\\DiagonalSlash_mask.blp",100.,0,0,50.)
endfunction
function IIOOO1IO takes nothing returns nothing
local real x=(((OII1O1O)*1.)+((400)*1.)*Cos(((GetUnitFacing(OII1IOO))*1.)*3.14159/180.))
local real y=(((OII11IO)*1.)+((400)*1.)*Sin(((GetUnitFacing(OII1IOO))*1.)*3.14159/180.))
call UnitRemoveAbility(OII1IOO,'AIa4')
call OO1IOIO(OII1IIO,x,y)
call ShowUnit(OII1IIO,true)
call O1OO11O(OII1IIO,800,$B4+GetUnitFacing(OII1IOO),1,null,null,.1,6,3,true,0,true,0)
call SetUnitAnimation(OII1IIO,"slam")
call TimerStart(OII1OIO,.5,false,function IIOOOO1O)
call TimerStart(OII1OOO,1.5,false,function IIOOOOOO)
endfunction
function IIOOO1OO takes nothing returns nothing
local integer I=1
local real x
local real y
set OII11OO=OII11OO-16
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",OII1IOO,"chest"))
loop
exitwhen I>5
set x=(((OII1O1O)*1.)+((OII11OO)*1.)*Cos(((72*I)*1.)*3.14159/180.))
set y=(((OII11IO)*1.)+((OII11OO)*1.)*Sin(((72*I)*1.)*3.14159/180.))
call OO1IOIO(OIIO11O[I],x,y)
set I=I+1
endloop
endfunction
function IIOOO11O takes nothing returns nothing
local integer I=1
local real x
local real y
if OII1I1O==4 then
call PauseTimer(OII1OOO)
call PauseTimer(OII1OIO)
loop
exitwhen I>5
call KillUnit(OIIO11O[I])
call RemoveUnit(OIIO11O[I])
set I=I+1
endloop
call IIOOO1IO()
return
endif
set OII1I1O=OII1I1O+1
set OII11OO=$C8
call SetUnitAnimation(OII1IOO,"death")
loop
exitwhen I>5
set x=(((OII1O1O)*1.)+(($C8)*1.)*Cos(((72*I)*1.)*3.14159/180.))
set y=(((OII11IO)*1.)+(($C8)*1.)*Sin(((72*I)*1.)*3.14159/180.))
call OO1IOIO(OIIO11O[I],x,y)
set I=I+1
endloop
call TimerStart(OII1OOO,.05,true,function IIOOO1OO)
endfunction
function IIOO1IIO takes nothing returns nothing
local integer I=1
local real x
local real y                         
set OII1IIO=GetTriggerUnit()
set OII1IOO=GetSpellTargetUnit()
set rpcontrol[GetPlayerId(GetOwningPlayer(OII1IOO))]=false
set OII1I1O=0
set OII111O=$7D0+$7D0*GetUnitAbilityLevel(OII1IIO,'A07Q')
set OII1O1O=GetUnitX(OII1IOO)
set OII11IO=GetUnitY(OII1IOO)
call ShowUnit(OII1IIO,false)
call PauseUnit(OII1IIO,true)
call PauseUnit(OII1IOO,true)
call UnitAddAbility(OII1IIO,'Avul')
call UnitAddAbility(OII1IOO,'Avul')
call UnitAddAbility(OII1IIO,'AIa4')
call UnitAddAbility(OII1IOO,'AIa4')
call SetUnitFacing(OII1IIO,GetUnitFacing(OII1IOO)+$B4)
loop
exitwhen I>5
set x=(((OII1O1O)*1.)+(($C8)*1.)*Cos(((72*I)*1.)*3.14159/180.))
set y=(((OII11IO)*1.)+(($C8)*1.)*Sin(((72*I)*1.)*3.14159/180.))
set OIIO11O[I]=CreateUnit(GetTriggerPlayer(),'o014',x,y,$B4+72*I)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",OIIO11O[I],"origin"))
set I=I+1
endloop
set I=1
call TriggerSleepAction(.2)
loop
exitwhen I>5
call SetUnitAnimation(OIIO11O[I],"spin")
set I=I+1
endloop
call IIOOO11O()
call TimerStart(OII1OIO,.6,true,function IIOOO11O)
endfunction
function IIOO1IOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0K8')
endfunction
function IIOO1I1O takes nothing returns nothing
set OI1OO[0]=GetTriggerUnit()
set OI1OO[1]=GetSpellTargetUnit()
set OI11O[0]=GetUnitLoc(GetTriggerUnit())
set OI11O[1]=GetUnitLoc(GetSpellTargetUnit())
set OOIIO=0
call ShowUnitHide(OI1OO[0])
set I1OII[0]=OOIOO1O(OI11O[0],GetRandomReal(.0,600.),GetRandomReal(0,360))
call CreateNUnitsAtLocFacingLocBJ(1,'h02O',GetTriggerPlayer(),I1OII[0],OI11O[1])
call SetUnitAnimation(bj_lastCreatedUnit,"spell")
call UnitApplyTimedLifeBJ(.45,'BTLF',bj_lastCreatedUnit)
call AddSpecialEffectTargetUnitBJ("origin",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if GetUnitLevel(OI1OO[0])<18 then
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,OI11O[1])
else
call IssuePointOrderLoc(bj_lastCreatedUnit,"shockwave",OI11O[1])
endif
call RemoveLocation(I1OII[0])
call StartTimerBJ(OI1IO,true,.11)
endfunction
function IIOO1OOO takes nothing returns boolean
return(OOIIO==0)
endfunction
function IIOO1O1O takes nothing returns boolean
return(OOIIO<=23)
endfunction
function IIOO11IO takes nothing returns boolean
return(OOIIO<=23)
endfunction
function IIOO11OO takes nothing returns nothing
if(IIOO1OOO())then
call PauseUnit(OI1OO[0],true)
endif
set OOIIO=(OOIIO+1)
if(IIOO1O1O())then
set I1OII[0]=OOIOO1O(OI11O[0],GetRandomReal(.0,600.),GetRandomReal(0,360))
else
call PauseTimerBJ(true,OI1IO)
set I1OII[0]=OI11O[1]
endif
call CreateNUnitsAtLocFacingLocBJ(1,'h02O',GetOwningPlayer(OI1OO[0]),I1OII[0],OI11O[1])
call AddSpecialEffectTargetUnitBJ("origin",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(IIOO11IO())then
if GetUnitLevel(OI1OO[0])>17 and GetRandomInt(1,5)==3 then
call IssuePointOrderLoc(bj_lastCreatedUnit,"shockwave",OI11O[1])
else
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,OI11O[1])
endif
call UnitApplyTimedLifeBJ(.45,'BTLF',bj_lastCreatedUnit)
else
call IssueImmediateOrderById(bj_lastCreatedUnit,$D009F)
call UnitApplyTimedLifeBJ(.7,'BTLF',bj_lastCreatedUnit)
call TriggerSleepAction(.8)
call ShowUnitShow(OI1OO[0])
call PauseUnit(OI1OO[0],false)
call AddSpecialEffectTargetUnitBJ("origin",OI1OO[0],"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(OI11O[0])
call RemoveLocation(OI11O[1])
endif
call RemoveLocation(I1OII[0])
endfunction
function IIO1IIIO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h02O')
endfunction
function IIO1IIOO takes nothing returns nothing
call KillUnit(GetTriggerUnit())
call RemoveUnit(GetTriggerUnit())
endfunction
function IIO1IOIO takes nothing returns boolean
return(GetSpellAbilityId()=='A0I1')
endfunction
function IIO1IOOO takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit t=GetSpellTargetUnit()
call TriggerSleepAction(.0)
if GetWidgetLife(t)>.41 then
call SetUnitPosition(u,GetUnitX(t),GetUnitY(t))
endif
set u=null
set t=null
endfunction
function IIO1I1IO takes nothing returns boolean
return(GetLearnedSkill()=='AIa6')
endfunction
function IIO1I1OO takes nothing returns nothing
call SetUnitAbilityLevelSwapped('A0MY',GetTriggerUnit(),GetUnitAbilityLevelSwapped('AIa6',GetTriggerUnit()))
endfunction
function IIO1OIIO takes nothing returns boolean
return GetLearnedSkill()=='AIa6'
endfunction
function IIO1OIOO takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A02Y')
if GetUnitAbilityLevel(GetTriggerUnit(),'A107')>0 then
call UnitAddAbility(GetTriggerUnit(),'A407')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A407')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A207')
call SetPlayerAbilityAvailable(GetTriggerPlayer(),'A407',false)
else
call UnitAddAbility(GetTriggerUnit(),'A07I')
call SetUnitAbilityLevel(GetTriggerUnit(),'A07I',GetUnitAbilityLevel(GetTriggerUnit(),'AIa6'))
call SetUnitAbilityLevel(GetTriggerUnit(),'A0AJ',GetUnitAbilityLevel(GetTriggerUnit(),'AIa6'))
endif
if GetUnitAbilityLevel(GetTriggerUnit(),'AIa6')==1 or GetUnitAbilityLevel(GetTriggerUnit(),'A207')==1 then
set OIOIIIO=CreateUnit(Player($C),'e02B',-7000,-7800,80)
call UnitAddAbility(OIOIIIO,'AUfn')
call EnableTrigger(I1OOOI[$C])
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A02Y')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A0AJ')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A07I')
endif
endfunction
function IIO1OOIO takes nothing returns boolean
return(GetSpellAbilityId()=='AHwe')
endfunction
function IIO1OOOO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=OOIOO1O(I1OII[0],200.,GetUnitFacing(GetTriggerUnit()))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'h015',GetTriggerPlayer(),I1OII[1],GetUnitFacing(GetTriggerUnit()))
call UnitApplyTimedLifeBJ(40.,'BTLF',bj_lastCreatedUnit)
call AddSpecialEffectTargetUnitBJ("origin",bj_lastCreatedUnit,"Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'hmtm',GetTriggerPlayer(),I1OII[1],GetUnitFacing(GetTriggerUnit()))
call UnitApplyTimedLifeBJ(40.,'BTLF',bj_lastCreatedUnit)
call AddSpecialEffectTargetUnitBJ("origin",bj_lastCreatedUnit,"Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function IIO1O1IO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h015')or(GetUnitTypeId(GetTriggerUnit())=='hmtm')
endfunction
function IIO1O1OO takes nothing returns boolean
return(IIO1O1IO())
endfunction
function IIO1O11O takes nothing returns nothing
call KillUnit(GetTriggerUnit())
call RemoveUnit(GetTriggerUnit())
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(I1OII[0],"Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(I1OII[0])
endfunction
function IIO11IOO takes nothing returns nothing
call SetPlayerTechResearchedSwap('R00I',(GetUnitLevel(GetTriggerUnit())/3),GetTriggerPlayer())
endfunction
function IIO11OIO takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())=='net1'
endfunction
function istower takes nothing returns boolean
return GetUnitTypeId(GetFilterUnit())=='net1' and GetWidgetLife(GetFilterUnit())>.41
endfunction
function IIO11OOO takes nothing returns nothing
if CountUnitsInGroup(GetUnitsOfPlayerMatching(GetTriggerPlayer(),Condition(function istower)))>4 then
call TriggerSleepAction(0.1)
call RemoveUnit(GetTriggerUnit())
call CreateTextTagUnitBJ("已達最大數量",GetTriggerUnit(),0,16.,200.,'d',.0,0)
call ShowTextTagForceBJ(true,bj_lastCreatedTextTag,bj_FORCE_ALL_PLAYERS)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,2.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,5.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
endif
endfunction
function II1IIIIO takes nothing returns boolean
return(GetSpellAbilityId()=='ACro')
endfunction
function II1IIIOO takes nothing returns nothing
call KillUnit(GetTriggerUnit())
endfunction
function II1IIOIO takes nothing returns nothing
local real OOOOIIOI=GetRandomReal(0,360)
local real II1IIOOO=GetRandomReal($96,350)
local real X=(((GetUnitX(OIOIOIO))*1.)+((II1IIOOO)*1.)*Cos(((OOOOIIOI)*1.)*3.14159/180.))
local real Y=(((GetUnitY(OIOIOIO))*1.)+((II1IIOOO)*1.)*Sin(((OOOOIIOI)*1.)*3.14159/180.))
local unit E=CreateUnit(OIOII1O,'e01Z',X,Y,OOOOIIOI)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",X,Y))
call ShowUnit(E,false)
call SetUnitUserData(E,28)
call UnitApplyTimedLife(E,'BTLF',3)
call UnitAddAbility(E,'A0LE')
call SetUnitAbilityLevel(E,'A0LE',OIOI1IO)
call IssueTargetOrderById(E,$D007F,OIOIOIO)
set E=null
set OIOIOOO=OIOIOOO+1
if OIOIOOO>=OIOIO1O then
call PauseTimer(OIOIIOO)
endif
endfunction
function II1IIO1O takes nothing returns boolean
return GetSpellAbilityId()=='A00X'
endfunction
function II1II1IO takes nothing returns nothing
local unit u=GetTriggerUnit()
set OIOIOIO=GetSpellTargetUnit()
set OIOII1O=GetTriggerPlayer()
set OIOIOOO=0
set OIOIO1O=1+GetUnitAbilityLevel(u,'A00X')
set OIOI1IO=GetUnitAbilityLevel(u,'A00X')
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call TriggerSleepAction(1)
call TimerStart(OIOIIOO,1.,true,function II1IIOIO)
set u=null
endfunction
function II1II11O takes nothing returns boolean
return(GetLearnedSkill()=='AUim')and(IsUnitIllusion(GetTriggerUnit())==false)
endfunction
function II1IOIIO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('AUim',GetTriggerUnit())==4)
endfunction
function II1IOIOO takes nothing returns nothing
call SetPlayerTechResearchedSwap('R00L',GetUnitAbilityLevelSwapped('AUim',GetTriggerUnit()),GetOwningPlayer(GetTriggerUnit()))
call EnableTrigger(O1I1O1I)
if(II1IOIIO())then
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function II1IOOIO takes nothing returns boolean
return(GetSpellAbilityId()=='AUim')
endfunction
function II1IOOOO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
set OIO1O[0]=(AngleBetweenPoints(I1OII[0],I1OII[1])+90.)
set bj_forLoopAIndex=-4
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[2]=OOIOO1O(I1OII[1],(180.*I2R(bj_forLoopAIndex)),OIO1O[0])
call AddSpecialEffectLocBJ(I1OII[2],"Abilities\\Spells\\Undead\\DarkRitual\\DarkRitualTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'ugho',GetTriggerPlayer(),I1OII[2],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(32.,'BTLF',bj_lastCreatedUnit)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function II1IO1IO takes nothing returns boolean
return(GetSpellAbilityId()=='A01A')
endfunction
function II1IO1OO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(2,'e006',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],250.,(72.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'e006',GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
endfunction
function II1I1IIO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(I1OII[0],"war3mapImported\\RedCharkaExplosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,28)
call UnitAddAbility(bj_lastCreatedUnit,'AHtc')
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0080)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OII[0])
endfunction
function II1I1I1O takes nothing returns boolean
return(GetLearnedSkill()=='A00Z')and(IsUnitIllusion(GetTriggerUnit())==false)
endfunction
function II1I1OIO takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A004')
if GetUnitAbilityLevelSwapped('A00Z',GetTriggerUnit())>GetUnitAbilityLevelSwapped('A004',GetTriggerUnit()) then
call SetUnitAbilityLevelSwapped('A004',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A00Z',GetTriggerUnit()))
endif
if OIOI1I[8]<(.0+(250.*I2R(GetUnitAbilityLevelSwapped('A004',GetTriggerUnit())))) then
set OIOI1I[8]=(.0+(250.*I2R(GetUnitAbilityLevelSwapped('A004',GetTriggerUnit()))))
endif
call EnableTrigger(I1OOOI[8])
endfunction
function II1I1O1O takes nothing returns boolean
return(GetSpellAbilityId()=='A011')
endfunction
function II1I11IO takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'e00E',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'e02H',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.3,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OII[0])
endfunction
function II1I111O takes nothing returns boolean
return(GetSpellAbilityId()=='A09Z')
endfunction
function II1OIIIO takes nothing returns nothing
local unit u=GetTriggerUnit()
call UnitAddAbility(u,'A0D9')
call SetUnitAbilityLevel(u,'A0D9',GetUnitAbilityLevel(u,'A09Z'))
call DestroyEffect(I1O1II[1])
call DestroyEffect(I1O1II[2])
call UnitAddAbility(GetTriggerUnit(),'A0M7')
call AddSpecialEffectTargetUnitBJ("head",GetTriggerUnit(),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilMissile.mdl")
set I1O1II[1]=bj_lastCreatedEffect
call AddSpecialEffectTargetUnitBJ("weapon",GetTriggerUnit(),"Abilities\\Spells\\Undead\\DeathCoil\\DeathCoilMissile.mdl")
set I1O1II[2]=bj_lastCreatedEffect
call EnableTrigger(I1OOOI[4])
call TriggerSleepAction((15.5+(5.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))))
call DisableTrigger(I1OOOI[4])
call UnitRemoveAbility(u,'A0D9')
call UnitRemoveAbility(u,'A0M7')
call DestroyEffect(I1O1II[1])
call DestroyEffect(I1O1II[2])
set u=null
endfunction
function II1OII1O takes nothing returns boolean
return(GetSpellAbilityId()=='AUls')
endfunction
function II1OIOIO takes nothing returns nothing
call SetPlayerTechResearchedSwap('Rost',GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()),GetTriggerPlayer())
endfunction
function II1OIO1O takes nothing returns boolean
return(GetSpellAbilityId()=='A0MW')
endfunction
function II1OI1IO takes nothing returns nothing
local unit u=GetTriggerUnit()
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'ACbl')
call SetUnitAbilityLevelSwapped('ACbl',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
call IssueTargetOrderById(bj_lastCreatedUnit,$D0085,GetTriggerUnit())
call RemoveLocation(I1OII[0])
call TriggerSleepAction(.25)
call SetUnitPathing(u,false)
call TriggerSleepAction(10.)
call SetUnitPathing(u,true)
set u=null
endfunction
function II1OI11O takes nothing returns boolean
return(GetLearnedSkill()=='A09S')and(IsUnitIllusion(GetTriggerUnit())==false)
endfunction
function II1OOIIO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A09S',GetTriggerUnit())==4)
endfunction
function II1OOIOO takes nothing returns nothing
set OIO1OI=(OIO1OI+20.)
call SetUnitScalePercent(GetTriggerUnit(),OIO1OI,OIO1OI,OIO1OI)
if(II1OOIIO())then
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function xiangzong1 takes nothing returns boolean
return GetLearnedSkill()=='A0B0'
endfunction
function xiangzong2 takes nothing returns nothing
call EnableTrigger(I1OOOI[17])
endfunction
function xiangzong3 takes nothing returns nothing
if xiangzonglimit>0 then
if GetUnitAbilityLevel(IOO1OI,'A0B0')!=0 then
set xiangzonglimit=xiangzonglimit-1
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(IOO1OI),GetUnitLoc(IO1III),bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,36)
call UnitAddAbility(bj_lastCreatedUnit,'A0YT')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0YT',GetUnitAbilityLevel(IOO1OI,'A0B0'))
call IssueTargetOrderById(bj_lastCreatedUnit,$D0097,IO1III)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call DisableTrigger(I1OOOI[17])
call EnableTrigger(I1OOOI[17])
endif
if GetUnitAbilityLevel(IO1III,'A0B0')!=0 and GetUnitAbilityLevel(IOO1OI,'A0B0')==0 and IsUnitEnemy(IO1III,GetOwningPlayer(IOO1OI)) then
set xiangzonglimit=xiangzonglimit-1
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(IO1III),GetUnitLoc(IOO1OI),bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,36)
call UnitAddAbility(bj_lastCreatedUnit,'A0YT')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0YT',GetUnitAbilityLevel(IO1III,'A0B0'))
call IssueTargetOrderById(bj_lastCreatedUnit,$D0097,IOO1OI)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call DisableTrigger(I1OOOI[17])
call EnableTrigger(I1OOOI[17])
endif
if xiangzonglimit<10 and xiangzonglimitregen then
set xiangzonglimitregen=false
loop
call TriggerSleepAction(0.1)
set xiangzonglimit=xiangzonglimit+1
exitwhen xiangzonglimit>=10
endloop
set xiangzonglimitregen=true
endif
endif
endfunction
function shichuan21 takes nothing returns boolean
return GetUnitTypeId(GetSummonedUnit())=='n00U' or GetUnitTypeId(GetSummonedUnit())=='n00V' or GetUnitTypeId(GetSummonedUnit())=='n00W' or GetUnitTypeId(GetSummonedUnit())=='n00Y'
endfunction
function shichuan22 takes nothing returns nothing
call UnitAddAbility(GetSummonedUnit(),'A0Z9')
if GetUnitTypeId(GetSummonedUnit())=='n00Y' then
call SetUnitAbilityLevel(GetSummonedUnit(),'A0Z9',4)
elseif GetUnitTypeId(GetSummonedUnit())=='n00W' then
call SetUnitAbilityLevel(GetSummonedUnit(),'A0Z9',3)
elseif GetUnitTypeId(GetSummonedUnit())=='n00V' then
call SetUnitAbilityLevel(GetSummonedUnit(),'A0Z9',2)
endif
call EnableTrigger(I1OOOI[19])
endfunction
function shichuan2t1 takes nothing returns nothing
call DisableTrigger(I1OOOI[19])
if GetUnitAbilityLevel(IOO1OI,'A0Z9')>0 then
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(IOO1OI),Location(GetUnitX(IO1III),GetUnitY(IO1III)),bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,53)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A0Z8')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0Z8',GetUnitAbilityLevelSwapped('A0Z9',IOO1OI))
call IssueTargetOrderById(bj_lastCreatedUnit,$D0279,IO1III)
endif
call EnableTrigger(I1OOOI[19])
endfunction
function xin1size1 takes nothing returns boolean
return(SubStringBJ(GetEventPlayerChatString(),1,2)=="-w" and GetTriggerPlayer()==GetOwningPlayer(xin1u))
endfunction
function xin1size2 takes nothing returns nothing
local integer getinput=S2I(SubStringBJ(GetEventPlayerChatString(),3,$A))
if getinput<0 or getinput>2750 then
set getinput=1250
endif
set xin1size=getinput
call DisplayTimedTextToForce(OOOIIIO(GetTriggerPlayer()),5.,("統槍自動發射距離: "+I2S(getinput)))
endfunction
function zongmao04 takes nothing returns boolean
local unit e
if SquareRoot((GetUnitX(GetFilterUnit())-GetUnitX(zongmao0u))*(GetUnitX(GetFilterUnit())-GetUnitX(zongmao0u))+(GetUnitY(GetFilterUnit())-GetUnitY(zongmao0u))*(GetUnitY(GetFilterUnit())-GetUnitY(zongmao0u)))>600 then
if IsUnitInGroup(GetFilterUnit(),zongmao0limit) then
call GroupRemoveUnit(zongmao0limit,GetFilterUnit())
endif
elseif SquareRoot((GetUnitX(GetFilterUnit())-GetUnitX(zongmao0u))*(GetUnitX(GetFilterUnit())-GetUnitX(zongmao0u))+(GetUnitY(GetFilterUnit())-GetUnitY(zongmao0u))*(GetUnitY(GetFilterUnit())-GetUnitY(zongmao0u)))<=400 then
if not(IsUnitInGroup(GetFilterUnit(),zongmao0limit) or GetWidgetLife(GetFilterUnit())<.41 or IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE) or IsUnitAlly(GetFilterUnit(),GetOwningPlayer(zongmao0u))) then
call GroupAddUnit(zongmao0limit,GetFilterUnit())
if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<GetUnitState(zongmao0u,UNIT_STATE_LIFE) then
call UnitDamageTargetBJ(zongmao0u,GetFilterUnit(),GetHeroAgi(zongmao0u,true)*2*SquareRoot(SquareRoot(GetHeroLevel(zongmao0u))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl",GetFilterUnit(),"chest"))
endif
if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) then
call CreateUnitAtLoc(GetTriggerPlayer(),'e01Z',GetUnitLoc(GetFilterUnit()),0)
call UnitAddAbility(bj_lastCreatedUnit,'A0ZI')
call SetUnitUserData(bj_lastCreatedUnit,52)
call IssueTargetOrderById(bj_lastCreatedUnit,$D0267,GetFilterUnit())
call UnitApplyTimedLife(bj_lastCreatedUnit,'BTLF',3.)
endif
endif
endif
return false
endfunction
function zongmao03 takes nothing returns nothing
local group a=CreateGroup()                                         
if not(GetWidgetLife(zongmao0u)<.41) then
call GroupEnumUnitsInRange(a,GetUnitX(zongmao0u),GetUnitY(zongmao0u),800,Condition(function zongmao04))
endif
endfunction
function zongmao01 takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())=='H025'
endfunction
function zongmao02 takes nothing returns nothing
set zongmao0u=GetTriggerUnit()
call TimerStart(zongmao0timer,0.5,true,function zongmao03)
endfunction
function xin14 takes nothing returns boolean
local unit e
if SquareRoot((GetUnitX(GetFilterUnit())-GetUnitX(xin1u))*(GetUnitX(GetFilterUnit())-GetUnitX(xin1u))+(GetUnitY(GetFilterUnit())-GetUnitY(xin1u))*(GetUnitY(GetFilterUnit())-GetUnitY(xin1u)))>2750 then
if IsUnitInGroup(GetFilterUnit(),xin1limit) then
call GroupRemoveUnit(xin1limit,GetFilterUnit())
endif
elseif SquareRoot((GetUnitX(GetFilterUnit())-GetUnitX(xin1u))*(GetUnitX(GetFilterUnit())-GetUnitX(xin1u))+(GetUnitY(GetFilterUnit())-GetUnitY(xin1u))*(GetUnitY(GetFilterUnit())-GetUnitY(xin1u)))<=xin1size then
if not(IsUnitInGroup(GetFilterUnit(),xin1limit) or GetWidgetLife(GetFilterUnit())<.41 or IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE) or IsUnitAlly(GetFilterUnit(),GetOwningPlayer(xin1u))) then
call GroupAddUnit(xin1limit,GetFilterUnit())
set e=CreateUnit(GetOwningPlayer(xin1u),'e01Z',GetUnitX(xin1u),GetUnitY(xin1u),GetUnitFacing(xin1u))
call UnitAddAbility(e,'A05G')
call SetUnitUserData(e,52)
call SetUnitAbilityLevel(e,'A05G',GetUnitAbilityLevel(xin1u,'A05G'))
call IssuePointOrderById(e,$D00FA,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))
call UnitApplyTimedLife(e,'BTLF',3.)
endif
endif
return false
endfunction
function xin13 takes nothing returns nothing
local group a=CreateGroup()                                         
if not(GetWidgetLife(xin1u)<.41) and GetUnitAbilityLevel(xin1u,'A05G')>0 then
call GroupEnumUnitsInRange(a,GetUnitX(xin1u),GetUnitY(xin1u),3500,Condition(function xin14))
endif
endfunction
function xin11 takes nothing returns boolean
return GetLearnedSkill()=='A05G'
endfunction
function xin12 takes nothing returns nothing
set xin1u=GetTriggerUnit()
if (GetUnitAbilityLevel(GetTriggerUnit(),'A05G')==1) then
call TriggerRegisterPlayerChatEvent(xin1sizet,GetTriggerPlayer(),"-w",false)
endif
call TimerStart(xin1timer,0.5,true,function xin13)
endfunction
function benyuan14 takes nothing returns boolean
local unit e
local unit u=GetFilterUnit()
if SquareRoot((GetUnitX(u)-GetUnitX(benyuan1u))*(GetUnitX(u)-GetUnitX(benyuan1u))+(GetUnitY(u)-GetUnitY(benyuan1u))*(GetUnitY(u)-GetUnitY(benyuan1u)))>700 then
if IsUnitInGroup(u,benyuan1limit) then
call GroupRemoveUnit(benyuan1limit,u)
endif
elseif SquareRoot((GetUnitX(u)-GetUnitX(benyuan1u))*(GetUnitX(u)-GetUnitX(benyuan1u))+(GetUnitY(u)-GetUnitY(benyuan1u))*(GetUnitY(u)-GetUnitY(benyuan1u)))<=700 then
if not(IsUnitInGroup(u,benyuan1limit) or GetWidgetLife(u)<.41 or IsUnitType(u,UNIT_TYPE_STRUCTURE) or IsUnitAlly(u,GetOwningPlayer(benyuan1u))) then
call UnitShareVision(u,GetOwningPlayer(benyuan1u),true)
call GroupAddUnit(benyuan1limit,u)
set e=CreateUnit(GetOwningPlayer(benyuan1u),'e01Z',GetUnitX(benyuan1u),GetUnitY(benyuan1u),GetUnitFacing(benyuan1u))
call UnitAddAbility(e,'A0HK')
call SetUnitUserData(e,52)
call SetUnitAbilityLevel(e,'A0HK',GetUnitAbilityLevel(benyuan1u,'A0HK'))
call IssueTargetOrderById(e,$D00D3,u)
call UnitApplyTimedLife(e,'BTLF',3.)
call UnitShareVision(u,GetOwningPlayer(benyuan1u),false)
endif
endif
return false
endfunction
function benyuan13 takes nothing returns nothing
local group a=CreateGroup()
local integer testingc=GetUnitAbilityLevel(benyuan1u,'A0HK')
if not(GetWidgetLife(benyuan1u)<.41) and GetUnitAbilityLevel(benyuan1u,'A0HK')>0 then
call GroupEnumUnitsInRange(a,GetUnitX(benyuan1u),GetUnitY(benyuan1u),1600.,Condition(function benyuan14))
endif
endfunction
function benyuan11 takes nothing returns boolean
return GetLearnedSkill()=='A0HK'
endfunction
function benyuan12 takes nothing returns nothing
set benyuan1u=GetTriggerUnit()
call TimerStart(benyuan1timer,0.5,true,function benyuan13)
endfunction
function baidi33 takes nothing returns nothing
local unit e
if not(GetWidgetLife(baidi3u)<.41) then
set e=CreateUnit(GetOwningPlayer(baidi3u),IO1IOO[1],GetUnitX(baidi3u)+GetRandomReal(-400,400),GetUnitY(baidi3u)+GetRandomReal(-400,400),GetRandomReal(0,360))
call UnitApplyTimedLife(e,'BTLF',40+GetUnitAbilityLevel(baidi3u,'A02D')*5)
endif
endfunction
function baidi31 takes nothing returns boolean
return GetLearnedSkill()=='A02D'
endfunction
function baidi32 takes nothing returns nothing
set baidi3u=GetTriggerUnit()
call TimerStart(baidi3timer,2.25-GetUnitAbilityLevelSwapped('A02D',baidi3u)*.25,true,function baidi33)
endfunction
function shi1t1 takes nothing returns nothing
if not(GetWidgetLife(shi1u)<.41) then
call UnitRemoveBuffsExBJ(1,2,shi1u,false,false)
if GetRandomInt(1,GetUnitAbilityLevel(shi1u,'A0ZE')+2)==2 then
call AddSpecialEffectTargetUnitBJ("chest",shi1u,"Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitState(shi1u,UNIT_STATE_LIFE,GetUnitState(shi1u,UNIT_STATE_LIFE)+50+GetUnitState(shi1u,UNIT_STATE_MAX_LIFE)*.025)
endif
endif
endfunction
function shi11 takes nothing returns boolean
return GetLearnedSkill()=='A0ZE'
endfunction
function shi12 takes nothing returns nothing
set shi1u=GetTriggerUnit()
call TimerStart(shi1timer,.25*(5-GetUnitAbilityLevel(shi1u,'A0ZE')),true,function shi1t1)
endfunction
function shi21 takes nothing returns boolean
return GetSpellAbilityId()=='A0ZD'
endfunction
function shi22 takes nothing returns nothing
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A0JI')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0JI',GetUnitAbilityLevelSwapped('A0ZD',GetTriggerUnit()))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0244)
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A0J7')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0J7',GetUnitAbilityLevelSwapped('A0ZD',GetTriggerUnit()))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D023E)
endfunction
function arrow11 takes nothing returns boolean
return GetLearnedSkill()=='A0IQ'
endfunction
function arrow12 takes nothing returns nothing
call EnableTrigger(I1OOOI[20])
endfunction
function arrow1t1 takes nothing returns nothing
call DisableTrigger(I1OOOI[20])
if GetUnitAbilityLevel(IOO1OI,'A0IQ')>0 then
call CreateNUnitsAtLoc(1,'e02I',GetOwningPlayer(IOO1OI),Location(GetUnitX(IO1III),GetUnitY(IO1III)),bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,$B)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A0ZA')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0ZA',GetUnitAbilityLevelSwapped('A0IQ',IOO1OI))
call IssueTargetOrderById(bj_lastCreatedUnit,$D0113,IO1III)
elseif GetUnitAbilityLevel(IO1III,'A0IQ')>0 then
call CreateNUnitsAtLoc(1,'e02I',GetOwningPlayer(IO1III),Location(GetUnitX(IOO1OI),GetUnitY(IOO1OI)),bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,$B)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A0ZA')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0ZA',GetUnitAbilityLevelSwapped('A0IQ',IO1III))
call IssueTargetOrderById(bj_lastCreatedUnit,$D0113,IOO1OI)
endif
call EnableTrigger(I1OOOI[20])
endfunction
function erlongs21 takes nothing returns boolean
return GetLearnedSkill()=='A0YR'
endfunction
function erlongs22 takes nothing returns nothing
call EnableTrigger(I1OOOI[16])
endfunction
function erlongs23 takes nothing returns nothing
if GetUnitAbilityLevel(IOO1OI,'A0YR')!=0 then
set erlongcount=erlongcount+1
if GetUnitAbilityLevel(IOO1OI,'A0YY')>0 then
call UnitRemoveAbility(IOO1OI,'A0YY')
endif
if GetUnitAbilityLevel(IOO1OI,'A0Z2')>0 then
call UnitRemoveAbility(IOO1OI,'A0Z2')
endif
if (erlongcount>12-2*GetUnitAbilityLevel(IOO1OI,'A0YR')) then
call AddSpecialEffectLocBJ(GetUnitLoc(IO1III),"war3mapImported\\RedCharkaExplosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(IOO1OI),GetUnitLoc(IO1III),bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,51)
call UnitAddAbility(bj_lastCreatedUnit,'AHtc')
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0080)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(IOO1OI),GetUnitLoc(IOO1OI),bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,51)
call UnitAddAbility(bj_lastCreatedUnit,'A0I7')
if GetUnitLevel(IOO1OI)>6 then
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0I7',4)
elseif GetUnitLevel(IOO1OI)>4 then
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0I7',3)
elseif GetUnitLevel(IOO1OI)>2 then
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0I7',2)
endif
call IssueTargetOrderById(bj_lastCreatedUnit,$D0264,IO1III)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
set erlongcount=0
endif
call DisableTrigger(I1OOOI[16])
call CreateTextTagUnitBJ(I2S(erlongcount),IOO1OI,0,6.,150.,25,.0,0)
call ShowTextTagForceBJ(true,bj_lastCreatedTextTag,bj_FORCE_ALL_PLAYERS)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,2.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call EnableTrigger(I1OOOI[16])
if erlongcount==0 and GetUnitAbilityLevel(IOO1OI,'A0YY')==0 then
call UnitAddAbility(IOO1OI,'A0YY')
call UnitAddAbility(IOO1OI,'A0Z2')
call TriggerSleepAction(3.)
call UnitRemoveAbility(IOO1OI,'A0Z2')
if GetUnitAbilityLevel(IOO1OI,'A0YY')>0 then
call UnitRemoveAbility(IOO1OI,'A0YY')
endif
endif
endif
endfunction
function erlongs11 takes nothing returns boolean
return GetSpellAbilityId()=='A0YQ'
endfunction
function erlongs12 takes nothing returns nothing
local unit u=GetTriggerUnit()
local integer I=500*GetUnitAbilityLevel(u,'A0YQ')
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"war3mapImported\\RedCharkaExplosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,51)
call UnitAddAbility(bj_lastCreatedUnit,'AHtc')
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0080)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
if GetHeroStr(u,false)>=GetHeroAgi(u,false) and GetHeroStr(u,false)>=GetHeroInt(u,false) then
call SetHeroStr(u,GetHeroStr(u,false)+I,true)
call TriggerSleepAction(3.)
call SetHeroStr(u,GetHeroStr(u,false)-I,true)
call SetUnitState(u,UNIT_STATE_LIFE,GetUnitState(u,UNIT_STATE_MAX_LIFE)-(GetUnitState(u,UNIT_STATE_MAX_LIFE)-GetUnitState(u,UNIT_STATE_LIFE))/4)
elseif  GetHeroAgi(u,false)>=GetHeroStr(u,false) and GetHeroAgi(u,false)>=GetHeroInt(u,false) then
call SetHeroAgi(u,GetHeroAgi(u,false)+I,true)
call UnitAddAbility(u,'A0YS')
call TriggerSleepAction(3.)
call UnitRemoveAbility(u,'A0YS')
call SetHeroAgi(u,GetHeroAgi(u,false)-I,true)
else
call SetHeroInt(u,GetHeroInt(u,false)+I,true)
call TriggerSleepAction(3.)
call SetHeroInt(u,GetHeroInt(u,false)-I,true)
call SetUnitState(u,UNIT_STATE_MANA,GetUnitState(u,UNIT_STATE_MAX_MANA)-(GetUnitState(u,UNIT_STATE_MAX_MANA)-GetUnitState(u,UNIT_STATE_MANA))/4)
endif
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"war3mapImported\\RedCharkaExplosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,51)
call UnitAddAbility(bj_lastCreatedUnit,'AHtc')
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0080)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
set u=null
endfunction
function II1OOOIO takes nothing returns boolean
return GetSpellAbilityId()=='A08Y'
endfunction
function II1OOOOO takes nothing returns nothing
local unit u=GetTriggerUnit()
local integer I=20*GetUnitAbilityLevel(u,'A08Y')
call SetHeroStr(u,GetHeroStr(u,false)+I,true)
call TriggerSleepAction(80.)
call SetHeroStr(u,GetHeroStr(u,false)-I,true)
set u=null
endfunction
function II1OO1IO takes nothing returns boolean
return(GetLearnedSkill()=='A0HJ')and(IsUnitIllusion(GetTriggerUnit())==false)
endfunction
function II1OO1OO takes nothing returns nothing
call ModifyHeroStat(0,GetLearningUnit(),0,$C8)
endfunction
function II1O1IIO takes nothing returns boolean
return GetSpellAbilityId()=='A0MZ'
endfunction
function II1O1IOO takes nothing returns boolean
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,IIO1O[K])or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(I1IIO[K],F,II1OO[K],true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FireBallMissile\\FireBallMissile.mdl",F,"chest"))
endif
return false
endfunction
function II1O1I1O takes nothing returns boolean
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,IIO1O[K])or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
set IIIIOI[0]=IIIIOI[0]+1
endif
return false
endfunction
function II1O1OIO takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real x
local real y
local real O1II11O
local unit e
set IIIIOI[0]=0
set II1IO[K]=II1IO[K]+.01
if II1IO[K]>1.5 then
set II1IO[K]=1.5
endif
set x=(((GetUnitX(I1IOO[K]))*1.)+((II1IO[K]*90)*1.)*Cos(((IOOIO[K])*1.)*3.14159/180.))
set y=(((GetUnitY(I1IOO[K]))*1.)+((II1IO[K]*90)*1.)*Sin(((IOOIO[K])*1.)*3.14159/180.))
call OO1IOIO(I1IOO[K],x,y)
call GroupEnumUnitsInRange(OII1O,x,y,256,Condition(function II1O1I1O))
if IIIIOI[0]>0 or(x<I11OO or x>OIIOO or y<I111O or y>OIIIO)then
set e=CreateUnit(IIO1O[K],'e01Z',x,y,0)
call GroupEnumUnitsInRange(OII1O,x,y,388,Condition(function II1O1IOO))
call UnitAddAbility(e,'Awrh')
call SetUnitAbilityLevel(e,'Awrh',O1OII[K])
call UnitApplyTimedLife(e,'BTLF',3)
call SetUnitUserData(e,45)
call IssueImmediateOrderById(e,$D009F)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x,y))
call KillUnit(I1IOO[K])
call OO1OIOO(K)
endif
endfunction
function II1O1OOO takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local real O1IIO1O=OO1IIOO(GetUnitX(u),GetUnitY(u),GetSpellTargetX(),GetSpellTargetY())
local unit e=CreateUnit(GetTriggerPlayer(),'h01S',GetUnitX(u),GetUnitY(u),O1IIO1O)
set II1IO[K]=0
set II1OO[K]=$C8+$C8*GetUnitAbilityLevel(u,'A0MZ')
set O1OII[K]=GetUnitAbilityLevel(u,'A0MZ')
set I1IIO[K]=u
set I1IOO[K]=e
set IOOIO[K]=O1IIO1O
set IIO1O[K]=GetTriggerPlayer()
call TimerStart(IO1OO[K],.03,true,function II1O1OIO)
set e=null
set u=null
endfunction
function II1O11IO takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer S=LoadInteger(OOOII,GetHandleId(t),0)
call SetWidgetLife(OOIIIOO[S],GetWidgetLife(OOIIIOO[S])+OOIII1O[S])
call FlushChildHashtable(OOOII,GetHandleId(t))
call OOO1IOO(S)
set t=null
endfunction
function II1O11OO takes nothing returns nothing
local integer S=OOO1IIO()
if OOIIIIO[S]==null then
set OOIIIIO[S]=CreateTimer()
set OOIIIOO[S]=GetTriggerUnit()
endif
set OOIII1O[S]=GetEventDamage()
set OIOOIIO=OIOOIIO+OOIII1O[S]
call SaveInteger(OOOII,GetHandleId(OOIIIIO[S]),0,S)
call TimerStart(OOIIIIO[S],0,false,function II1O11IO)
endfunction
function II1O111O takes nothing returns boolean
return GetSpellAbilityId()=='AEfk'
endfunction
function II11IIIO takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitEnemy(F,OIOOI1O)==false or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(OIOOIOO,F,OIOOIIO,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl",F,"origin"))
endif
set F=null
return false
endfunction
function II11IIOO takes nothing returns nothing
local unit u=GetTriggerUnit()
local effect e=AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfSanctuary\\Staff_Sanctuary_Target.mdl",u,"head")
set OIOOIOO=u
set OIOOI1O=GetTriggerPlayer()
if OIOI11O==0 then
set OIOI1OO=CreateTrigger()
call TriggerRegisterUnitEvent(OIOI1OO,u,EVENT_UNIT_DAMAGED)
call TriggerAddAction(OIOI1OO,function II1O11OO)
set OIOI11O=1
endif
set OIOOIIO=0
call EnableTrigger(OIOI1OO)
call TriggerSleepAction(2.5)
call DisableTrigger(OIOI1OO)
if OIOOIIO>GetUnitState(u,UNIT_STATE_MAX_LIFE)then
set OIOOIIO=GetUnitState(u,UNIT_STATE_MAX_LIFE)
endif
call DestroyEffect(e)
call GroupEnumUnitsInRange(OII1O,GetUnitX(u),GetUnitY(u),400,Condition(function II11IIIO))
set e=null
set u=null
endfunction
function II11II1O takes nothing returns nothing
call SetWidgetLife(OIOOO1O,GetWidgetLife(OIOOO1O)+OIOOOOO)
endfunction
function II11IOIO takes nothing returns nothing
set OIOOO1O=GetTriggerUnit()
set OIOOOOO=GetEventDamage()
set OIOIOI=OIOIOI+GetEventDamage()
call TimerStart(OIOOOIO,.0,false,function II11II1O)
endfunction
function II11IO1O takes nothing returns boolean
return(GetSpellAbilityId()=='A0AD')
endfunction
function II11I1IO takes nothing returns nothing
set O1IIO=GetTriggerUnit()
call PlaySoundOnUnitBJ(O11OOO,'d',GetTriggerUnit())
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
set O1IOO=OOIOO1O(I1OII[0],1000.,AngleBetweenPoints(I1OII[0],I1OII[1]))
call ShowUnitHide(GetTriggerUnit())
call StartTimerBJ(OO11O,false,.3)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function II11I11O takes nothing returns nothing
call SetUnitPositionLoc(O1IIO,O1IOO)
call ShowUnitShow(O1IIO)
call SelectUnitForPlayerSingle(O1IIO,GetOwningPlayer(O1IIO))
call RemoveLocation(O1IOO)
endfunction
function II11OIOO takes nothing returns boolean
return(GetSpellAbilityId()=='A008')
endfunction
function II11OI1O takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=OOIOO1O(I1OII[0],75.,GetUnitFacing(GetTriggerUnit()))
call CreateNUnitsAtLocFacingLocBJ(6,'e005',GetTriggerPlayer(),I1OII[1],GetSpellTargetLoc())
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call AddSpecialEffectTargetUnitBJ("weapon",GetTriggerUnit(),"Abilities\\Weapons\\RedDragonBreath\\RedDragonMissile.mdl")
set OI=bj_lastCreatedEffect
call OOIOI1O(1.)
call DestroyEffect(OI)
endfunction
function II11OOOO takes nothing returns boolean
return(GetLearnedSkill()=='A0B4')
endfunction
function II11OO1O takes nothing returns nothing
call SetUnitAbilityLevelSwapped('AEfk',GetTriggerUnit(),(GetUnitAbilityLevelSwapped('A0B4',GetTriggerUnit())+1))
endfunction
function II11O1OO takes nothing returns boolean
return GetSpellAbilityId()=='A0B4'
endfunction
function II11O11O takes nothing returns nothing
local unit u=GetTriggerUnit()
local integer I=20*GetUnitAbilityLevel(u,'A0B4')
call SetHeroAgi(u,GetHeroAgi(u,false)+I,true)
call TriggerSleepAction(32.)
call SetHeroAgi(u,GetHeroAgi(u,false)-I,true)
set u=null
endfunction
function II111IOO takes nothing returns boolean
return(GetSpellAbilityId()=='A06I')or(GetSpellAbilityId()=='A051')
endfunction
function II111I1O takes nothing returns boolean
return(II111IOO())
endfunction
function II111OIO takes nothing returns boolean
return(GetSpellAbilityId()=='A06I')
endfunction
function II111OOO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
if(II111OIO())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],500.,((90.*I2R(bj_forLoopAIndex))+GetUnitFacing(GetTriggerUnit())))
call AddSpecialEffectLocBJ(I1OII[1],"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],500.,((90.*I2R(bj_forLoopAIndex))+GetUnitFacing(GetTriggerUnit())))
call AddSpecialEffectLocBJ(I1OII[1],"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
call RemoveLocation(I1OII[0])
endfunction
function II1111IO takes nothing returns boolean
return(GetSpellAbilityId()=='A06S')
endfunction
function II1111OO takes nothing returns boolean
return(IIIIOI[0]==1)
endfunction
function II11111O takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A0D8')
call SetUnitAbilityLevelSwapped('A0D8',GetTriggerUnit(),GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),0)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),0,IIIIOI[0]+1)
call TriggerSleepAction(100.)
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),0)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),0,IIIIOI[0]-1)
if(II1111OO())then
call UnitRemoveAbility(GetTriggerUnit(),'A0D8')
endif
endfunction
function hhtsj0 takes nothing returns boolean
local unit F=GetFilterUnit()
if not(GetWidgetLife(F)<.41 or IsUnitAlly(F,GetOwningPlayer(GetTriggerUnit())))then
call UnitDamageTarget(GetTriggerUnit(),F,GetHeroLevel(GetTriggerUnit())*100,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNIVERSAL,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",F,"origin"))
if not(IsUnitType(F,UNIT_TYPE_STRUCTURE)) then
call SetUnitState(F,UNIT_STATE_MANA,0.)
endif
endif
set F=null
return false
endfunction
function hhtsj1 takes nothing returns boolean
return(GetSpellAbilityId()=='A0Z7')
endfunction
function hhtsj2 takes nothing returns nothing
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
local group yabi=CreateGroup()
local integer herolv=GetHeroLevel(GetTriggerUnit())
call UnitApplyTimedLife(e,'BTLF',3.)
call UnitAddAbility(e,'A0Z6')
call SetUnitUserData(e,54)
call IssuePointOrderById(e,$D0100,GetUnitX(e),GetUnitY(e))
call GroupEnumUnitsInRange(yabi,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),500.+GetUnitAbilityLevel(GetTriggerUnit(),'A0Z7')*500,Condition(function hhtsj0))
if GetUnitAbilityLevel(GetTriggerUnit(),'A0Z7')==2 then
call SetHeroAgi(GetTriggerUnit(),GetHeroAgi(GetTriggerUnit(),false)+herolv*100,true)
call TriggerSleepAction(5.)
call SetHeroAgi(GetTriggerUnit(),GetHeroAgi(GetTriggerUnit(),false)-herolv*100,true)
elseif GetHeroLevel(GetTriggerUnit())>15 then
call SetUnitAbilityLevel(GetTriggerUnit(),'A0Z7',2)
endif
endfunction
function IOIIIIOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0HV')
endfunction
function IOIIII1O takes nothing returns boolean
return(IIIIOI[0]==1)
endfunction
function IOIIIOIO takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A0HW')
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),1)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),1,IIIIOI[0]+1)
call TriggerSleepAction(90.)
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),1)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),1,IIIIOI[0]-1)
if(IOIIII1O())then
call UnitRemoveAbility(GetTriggerUnit(),'A0HW')
endif
endfunction
function IOIIIO1O takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local location post=OOIOO1O(GetUnitLoc(I1IOO[K]),100.,GetUnitFacing(I1IOO[K]))
call SetUnitPositionLoc(I1IIO[K],GetUnitLoc(I1IOO[K]))
call SetUnitAnimation(I1IOO[K],"attack")
call IssuePointOrderById(I1IIO[K],$D009D,GetLocationX(post),GetLocationY(post))
set O1OII[K]=O1OII[K]+1
if O1OII[K]==9 then
call SetUnitTimeScale(I1IOO[K],1.)
call OO1OIOO(K)
endif
endfunction
function IOIII1IO takes nothing returns boolean
return GetSpellAbilityId()=='A0EW'
endfunction
function IOIII1OO takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',GetUnitX(u),GetUnitY(u),GetUnitFacing(u))
set O11OI[K]=GetSpellTargetX()
set IIIOO[K]=GetSpellTargetY()
call UnitApplyTimedLife(e,'BTLF',5)
call SetUnitUserData(e,25)
call SetUnitTimeScale(u,2.5)
call SetUnitAnimation(u,"attack")
set I1IIO[K]=e
set I1IOO[K]=u
set O1OII[K]=0
call UnitAddAbility(e,'A0EX')
call SetUnitAbilityLevel(e,'A0EX',GetUnitAbilityLevel(u,'A0EW'))
call IssuePointOrderById(e,$D009D,O11OI[K],IIIOO[K])
call TimerStart(IO1OO[K],.3,true,function IOIIIO1O)
set u=null
set e=null
endfunction
function IOIIOIIO takes nothing returns boolean
return(GetSpellAbilityId()=='A0EU')
endfunction
function IOIIOIOO takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())<=(GetUnitStateSwap(UNIT_STATE_MAX_LIFE,GetSpellTargetUnit())*1.))
endfunction
function IOIIOI1O takes nothing returns nothing
if(IOIIOIOO())then
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A0EV')
call SetUnitAbilityLevelSwapped('A0EV',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0EU',GetTriggerUnit()))
call IssueTargetOrderById(bj_lastCreatedUnit,$D00DD,GetTriggerUnit())
call RemoveLocation(I1OII[0])
call TriggerSleepAction(.0)
call IssueTargetOrderById(GetTriggerUnit(),$D000F,GetSpellTargetUnit())
endif
endfunction
function IOIIOOOO takes nothing returns boolean
return(GetLearnedSkill()=='A0F0' and GetUnitAbilityLevel(GetTriggerUnit(),'A0F0')==1)
endfunction
function IOIIOO1O takes nothing returns nothing
call TriggerRegisterUnitEvent(O1O1OII,GetTriggerUnit(),EVENT_UNIT_ATTACKED)
endfunction
function IOIIO1OO takes nothing returns boolean
return(IsUnitType(GetAttacker(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function IOIIO11O takes nothing returns nothing
if(IOIIO1OO() and (GetUnitAbilityLevel(GetTriggerUnit(),'A0F0')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'A104')>0))then
if GetUnitAbilityLevelSwapped('A104',GetTriggerUnit())==0 then
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),(30.+(70.*I2R(GetUnitAbilityLevelSwapped('A0F0',GetTriggerUnit())))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetAttacker(),40.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
endif
call AddSpecialEffectTargetUnitBJ("chest",GetEventDamageSource(),"Abilities\\Spells\\Other\\Cleave\\CleaveDamageTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endif
endfunction
function IOII1IOO takes nothing returns boolean
return GetLearnedSkill()=='A0EP'
endfunction
function IOII1I1O takes nothing returns nothing
set I1OO=GetTriggerUnit()
set IIO1II=GetUnitAbilityLevel(GetTriggerUnit(),'A0EP')
if IIO1II==2 then
call DestroyTrigger(GetTriggeringTrigger())
else
call UnitAddAbility(GetTriggerUnit(),'A0LR')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A0LR')
call EnableTrigger(O1O1O1I)
endif
endfunction
function IOII1OOO takes nothing returns nothing
if GetWidgetLife(I1OO)<=GetUnitState(I1OO,UNIT_STATE_MAX_LIFE)*.25then 
if GetUnitAbilityLevel(I1OO,'A0EQ')==0 then
call UnitAddAbility(I1OO,'A0ES')
call UnitAddAbility(I1OO,'A0EQ')
call SetUnitAbilityLevel(I1OO,'A0ES',IIO1II*2)
call SetUnitAbilityLevel(I1OO,'A0EQ',IIO1II*2)
else
call SetUnitAbilityLevel(I1OO,'A0ES',IIO1II*2)
call SetUnitAbilityLevel(I1OO,'A0EQ',IIO1II*2)
endif
elseif GetWidgetLife(I1OO)<=GetUnitState(I1OO,UNIT_STATE_MAX_LIFE)*.50then
if IIO1II==2 then
if GetUnitAbilityLevel(I1OO,'A0EQ')==0 then
call UnitAddAbility(I1OO,'A0ES')
call UnitAddAbility(I1OO,'A0EQ')
call SetUnitAbilityLevel(I1OO,'A0ES',3)
call SetUnitAbilityLevel(I1OO,'A0EQ',3)
else
call SetUnitAbilityLevel(I1OO,'A0ES',3)
call SetUnitAbilityLevel(I1OO,'A0EQ',3)
endif
endif
elseif GetWidgetLife(I1OO)<=GetUnitState(I1OO,UNIT_STATE_MAX_LIFE)*.75then
if GetUnitAbilityLevel(I1OO,'A0EQ')==0 then
call UnitAddAbility(I1OO,'A0ES')
call UnitAddAbility(I1OO,'A0EQ')
call SetUnitAbilityLevel(I1OO,'A0ES',IIO1II)
call SetUnitAbilityLevel(I1OO,'A0EQ',IIO1II)
else
call SetUnitAbilityLevel(I1OO,'A0ES',IIO1II)
call SetUnitAbilityLevel(I1OO,'A0EQ',IIO1II)
endif
elseif GetWidgetLife(I1OO)<=GetUnitState(I1OO,UNIT_STATE_MAX_LIFE)then
if IIO1II==2 then
if GetUnitAbilityLevel(I1OO,'A0EQ')==0 then
call UnitAddAbility(I1OO,'A0ES')
call UnitAddAbility(I1OO,'A0EQ')
call SetUnitAbilityLevel(I1OO,'A0ES',1)
call SetUnitAbilityLevel(I1OO,'A0EQ',1)
else
call SetUnitAbilityLevel(I1OO,'A0ES',1)
call SetUnitAbilityLevel(I1OO,'A0EQ',1)
endif
else
if GetUnitAbilityLevel(I1OO,'A0EQ')>0 then
call UnitRemoveAbility(I1OO,'A0EQ')
call UnitRemoveAbility(I1OO,'A0ES')
call SetUnitAbilityLevel(I1OO,'A0LS',1)
endif
endif
endif
endfunction
function IOII11IO takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real x
local real y
local unit e
set IOOOO[K]=IOOOO[K]-2.
set IOOIO[K]=IOOIO[K]-7.2
set x=(((O11OI[K])*1.)+((IOOOO[K])*1.)*Cos(((IOOIO[K])*1.)*3.14159/180.))
set y=(((IIIOO[K])*1.)+((IOOOO[K])*1.)*Sin(((IOOIO[K])*1.)*3.14159/180.))
call SetUnitFlyHeight(I1IIO[K],IOOOO[K],.0)
call SetUnitPosition(I1IIO[K],x,y)
if IOOOO[K]<=0 then
set IOOIO[K]=.0
set e=CreateUnit(IIO1O[K],'h03L',x,y,0)
call SetUnitAbilityLevel(e,'A0FY',O1OII[K])
call IssueImmediateOrderById(e,$D009F)
call KillUnit(I1IIO[K])
call OO1OIOO(K)
endif
endfunction
function IOII11OO takes nothing returns boolean
return GetSpellAbilityId()=='A0GV'
endfunction
function IOII111O takes nothing returns nothing
local integer K
local unit u=GetTriggerUnit()
local unit e
local real O1IIO1O=356.4
local real O1II11O=800
local real x=(((GetSpellTargetX())*1.)+((O1II11O)*1.)*Cos(((O1IIO1O)*1.)*3.14159/180.))
local real y=(((GetSpellTargetY())*1.)+((O1II11O)*1.)*Sin(((O1IIO1O)*1.)*3.14159/180.))
local real x2=GetSpellTargetX()
local real y2=GetSpellTargetY()
call TriggerSleepAction(.5)
set K=OO1OIIO()
set e=CreateUnit(GetOwningPlayer(u),'h03I',x,y,0)
set O1OII[K]=GetUnitAbilityLevel(u,'A0GV')
set IIO1O[K]=GetOwningPlayer(u)
set IOOOO[K]=O1II11O
set IOOIO[K]=O1IIO1O
set I1IIO[K]=e
set O11OI[K]=x2
set IIIOO[K]=y2
call TimerStart(IO1OO[K],.01,true,function IOII11IO)
set u=null
set e=null
endfunction
function IOIOIIOO takes nothing returns boolean
return(GetSpellAbilityId()=='Aeye')
endfunction
function IOIOII1O takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateDestructableLoc('ATtr',I1OII[0],GetRandomReal(0,360),GetRandomReal(1.,1.3),GetRandomInt(0,9))
call RemoveLocation(I1OII[0])
endfunction
function IOIOIOOO takes nothing returns boolean
return(GetSpellAbilityId()=='ACf3')
endfunction
function IOIOIO1O takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitScalePercent(GetSpellTargetUnit(),135.,135.,135.)
call SetUnitVertexColorBJ(GetSpellTargetUnit(),50.,50.,50.,0)
call UnitAddAbility(GetSpellTargetUnit(),'A0N0')
call UnitAddAbility(GetSpellTargetUnit(),'AId0')
call UnitAddAbility(GetSpellTargetUnit(),'AIt9')
call SetUnitAbilityLevelSwapped('A0N0',GetSpellTargetUnit(),((GetHeroLevel(GetTriggerUnit())*2)+5))
call SetUnitAbilityLevelSwapped('AId0',GetSpellTargetUnit(),(GetHeroLevel(GetTriggerUnit())/$A))
call SetUnitAbilityLevelSwapped('AIt9',GetSpellTargetUnit(),(GetHeroLevel(GetTriggerUnit())/$A))
endfunction
function IOIOI1OO takes nothing returns boolean
return(GetSpellAbilityId()=='A0KP')
endfunction
function IOIOI11O takes nothing returns nothing
local unit u
local unit m
local real x=GetUnitX(GetSpellTargetUnit())
local real y=GetUnitY(GetSpellTargetUnit())
local group g=CreateGroup()
local integer castspell=GetSpellAbilityId()
local integer ml 
if treethree==false then
set treethreecast=GetTriggerUnit()
set ml=GetUnitCurrentOrder(treethreecast)
set treethree=true
call GroupEnumUnitsInRange(g,x,y,500,null)
loop
set u=FirstOfGroup(g)
exitwhen u==null
if IsUnitType(u,UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(u,GetOwningPlayer(treethreecast)) then
set m=CreateUnit(GetOwningPlayer(treethreecast),'e01Z',x,y,0)
call UnitAddAbility(m,'A0YF')
call SetUnitAbilityLevel(m,'A0YF',GetUnitAbilityLevel(treethreecast,castspell))
call IssueTargetOrderById(m,ml,u)
call UnitDamageTargetBJ(treethreecast,u,((200.*I2R(GetUnitAbilityLevelSwapped('A0YF',m)))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
call GroupRemoveUnit(g,u)
endloop
call DestroyGroup(g)
set g=null
set u=null
set m=null
set treethree=false
endif
endfunction
function IOIOOIOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0GY')
endfunction
function IOIOOI1O takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
set OIO1O[0]=(3.+(1.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$C
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],250.,(30.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'ehip',GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,I1OII[1])
call UnitAddAbility(bj_lastCreatedUnit,'A0YH')
if 1<GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()) then
call UnitAddAbility(bj_lastCreatedUnit,'A0YI')
endif
if 2<GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()) then
call UnitAddAbility(bj_lastCreatedUnit,'A0YJ')
endif
if 3<GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()) then
call UnitAddAbility(bj_lastCreatedUnit,'A0YK')
endif
call SetUnitPathing(bj_lastCreatedUnit,true)
call UnitApplyTimedLifeBJ(OIO1O[0],'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd*3
set I1OII[1]=OOIOO1O(I1OII[0],750.,(10.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'ehip',GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,I1OII[1])
call UnitAddAbility(bj_lastCreatedUnit,'A0YH')
if 1<GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()) then
call UnitAddAbility(bj_lastCreatedUnit,'A0YI')
endif
if 2<GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()) then
call UnitAddAbility(bj_lastCreatedUnit,'A0YJ')
endif
if 3<GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()) then
call UnitAddAbility(bj_lastCreatedUnit,'A0YK')
endif
call SetUnitPathing(bj_lastCreatedUnit,true)
call UnitApplyTimedLifeBJ(OIO1O[0],'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
endfunction
function IOIOOOOO takes nothing returns boolean
return GetSpellAbilityId()=='A0AW'
endfunction
function IOIOOO1O takes nothing returns nothing
local player p=GetTriggerPlayer()
local unit u=GetTriggerUnit()
local integer bigtimes=1+2*GetUnitAbilityLevel(u,'A0AW')
local integer smallloopindex=0
loop
set I1OII[0]=GetUnitLoc(u)
set IIIIOI[0]=GetUnitAbilityLevel(u,'A0AW')
call CreateNUnitsAtLoc(1,'e02G',p,I1OII[0],0)
call ShowUnit(bj_lastCreatedUnit,false)
call SetUnitScale(bj_lastCreatedUnit,2,2,2)
call SetUnitUserData(bj_lastCreatedUnit,20)
call UnitApplyTimedLife(bj_lastCreatedUnit,'BTLF',3.)
call UnitAddAbility(bj_lastCreatedUnit,'A0AV')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0AV',IIIIOI[0])
set bj_forLoopAIndex=1
loop
exitwhen bj_forLoopAIndex>36
set I1OII[1]=OOIOO1O(I1OII[0],32.,(10.*bj_forLoopAIndex))
call SetUnitFacingTimed(bj_lastCreatedUnit,10.*bj_forLoopAIndex,0)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,I1OII[1])
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
call TriggerSleepAction(0.5)
if GetHeroLevel(u)>15 then
set bj_forLoopAIndex=1
loop
exitwhen bj_forLoopAIndex>36
set I1OII[0]=OOIOO1O(GetUnitLoc(u),1000.,(10.*bj_forLoopAIndex))
set IIIIOI[0]=GetUnitAbilityLevel(u,'A0AW')
call CreateNUnitsAtLoc(1,'e02G',p,I1OII[0],0)
call ShowUnit(bj_lastCreatedUnit,false)
call SetUnitScale(bj_lastCreatedUnit,2,2,2)
call SetUnitUserData(bj_lastCreatedUnit,20)
call UnitApplyTimedLife(bj_lastCreatedUnit,'BTLF',3.)
call UnitAddAbility(bj_lastCreatedUnit,'A0AV')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0AV',IIIIOI[0])
set smallloopindex=0
loop
set I1OII[1]=OOIOO1O(I1OII[0],32.,10.*bj_forLoopAIndex+(90.*smallloopindex))
call SetUnitFacingTimed(bj_lastCreatedUnit,10.*bj_forLoopAIndex+90.*smallloopindex,0)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,I1OII[1])
call RemoveLocation(I1OII[1])
exitwhen smallloopindex==3
set smallloopindex=smallloopindex+1
endloop
call RemoveLocation(I1OII[0])
set bj_forLoopAIndex=bj_forLoopAIndex+2
endloop
endif
exitwhen bigtimes<=1
set bigtimes=bigtimes-1
call TriggerSleepAction(0.5)
endloop
set u=null
set p=null
endfunction
function IOIOO1OO takes nothing returns boolean
return(GetSpellAbilityId()=='A0AK')
endfunction
function IOIOO11O takes nothing returns nothing
local integer skilllevel=1
set IIOO[0]=.0
set IIOO[1]=(6.+I2R(GetUnitLevel(GetTriggerUnit()))+(4.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
set IIIO[6]=GetTriggerUnit()
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call KillUnit(IIIO[bj_forLoopAIndex])
set I1OII[1]=OOIOO1O(I1OII[0],150.,(72.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'u004',GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
set IIIO[bj_forLoopAIndex]=bj_lastCreatedUnit
call RemoveLocation(I1OII[1])
if GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())>1 then
call KillUnit(straightthree[bj_forLoopAIndex])
set I1OII[1]=OOIOO1O(I1OII[0],200.,(72.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'u004',GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
set straightthree[bj_forLoopAIndex]=bj_lastCreatedUnit
call RemoveLocation(I1OII[1])
endif
if GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())>2 then
call KillUnit(straightthree[bj_forLoopAIndex+5])
set I1OII[1]=OOIOO1O(I1OII[0],250.,(72.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'u004',GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
set straightthree[bj_forLoopAIndex+5]=bj_lastCreatedUnit
call RemoveLocation(I1OII[1])
endif
if GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())>3 then
call KillUnit(straightthree[bj_forLoopAIndex+10])
set I1OII[1]=OOIOO1O(I1OII[0],300.,(72.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'u004',GetTriggerPlayer(),I1OII[1],bj_UNIT_FACING)
set straightthree[bj_forLoopAIndex+10]=bj_lastCreatedUnit
call RemoveLocation(I1OII[1])
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
call StartTimerBJ(IIIO1I,true,.05)
endfunction
function IOIO1IOO takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitEnemy(F,GetOwningPlayer(IIIO[6]))==false or GetWidgetLife(F)<.41 or IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(IIIO[6],F,IIOO[1],true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FaerieDragonMissile\\FaerieDragonMissile.mdl",F,"origin"))
endif
set F=null
return false
endfunction
function IOIO1I1O takes nothing returns nothing
local integer I=1
local real x=GetUnitX(IIIO[6])
local real y=GetUnitY(IIIO[6])
local real lx
local real ly
local real O1IIO1O
set IIOO[0]=IIOO[0]+5
set I1OII[0]=GetUnitLoc(IIIO[6])
set I=1
loop
exitwhen I>5
set O1IIO1O=IIOO[0]+(72*I)
set lx=(((x)*1.)+(($96)*1.)*Cos(((O1IIO1O)*1.)*3.14159/180.))
set ly=(((y)*1.)+(($96)*1.)*Sin(((O1IIO1O)*1.)*3.14159/180.))
call SetUnitFacing(IIIO[I],O1IIO1O)
call SetUnitPosition(IIIO[I],lx,ly)
call GroupEnumUnitsInRange(OII1O,lx,ly,100.,Condition(function IOIO1IOO))
set O1IIO1O=IIOO[0]+(72*I)
set lx=(((x)*1.)+(50+($96)*1.)*Sin(((O1IIO1O)*1.)*3.14159/180.))
set ly=(((y)*1.)+(50+($96)*1.)*Cos(((O1IIO1O)*1.)*3.14159/180.))
call SetUnitFacing(straightthree[I],-O1IIO1O)
call SetUnitPosition(straightthree[I],lx,ly)
call GroupEnumUnitsInRange(OII1O,lx,ly,100.,Condition(function IOIO1IOO))
set O1IIO1O=IIOO[0]+(72*I)
set lx=(((x)*1.)-(100+($96)*1.)*Cos(((O1IIO1O)*1.)*3.14159/180.))
set ly=(((y)*1.)-(100+($96)*1.)*Sin(((O1IIO1O)*1.)*3.14159/180.))
call SetUnitFacing(straightthree[I+5],O1IIO1O)
call SetUnitPosition(straightthree[I+5],lx,ly)
call GroupEnumUnitsInRange(OII1O,lx,ly,100.,Condition(function IOIO1IOO))
set O1IIO1O=IIOO[0]+(72*I)
set lx=(((x)*1.)-(150+($96)*1.)*Sin(((O1IIO1O)*1.)*3.14159/180.))
set ly=(((y)*1.)-(150+($96)*1.)*Cos(((O1IIO1O)*1.)*3.14159/180.))
call SetUnitFacing(straightthree[I+10],-O1IIO1O)
call SetUnitPosition(straightthree[I+10],lx,ly)
call GroupEnumUnitsInRange(OII1O,lx,ly,100.,Condition(function IOIO1IOO))
set I=I+1
endloop
set I=1
if IIOO[0]>=4000. then
set IIOO[0]=.0
loop
exitwhen I>5
call KillUnit(IIIO[I])
call KillUnit(straightthree[I])
call KillUnit(straightthree[I+5])
call KillUnit(straightthree[I+10])
set I=I+1
endloop
call PauseTimer(IIIO1I)
endif
endfunction
function IOIO1OOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0MJ')
endfunction
function Trig_Petrifaction_Func006Func002002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Petrifaction_Func006Func002002003002 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function IOIO1O1O takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)))!=null
endfunction
function IOIO11IO takes nothing returns nothing
call SetUnitFacingToFaceUnitTimed(bj_lastCreatedUnit,GetEnumUnit(),0)
call IssueTargetOrderById(bj_lastCreatedUnit,$D008F,GetEnumUnit())
endfunction
function IOIO11OO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set OIO1O[0]=GetUnitFacing(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'Aprg')
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$A
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[2]=OOIOO1O(I1OII[0],(200.*I2R(bj_forLoopAIndex)),OIO1O[0])
set OO1II=OOI1OIO(250.,I1OII[2],Condition(function IOIO1O1O))
call ForGroupBJ(OO1II,function IOIO11IO)
call DestroyGroup(OO1II)
call RemoveLocation(I1OII[2])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
endfunction
function IOI1IIIO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n01J')and(GetUnitAbilityLevelSwapped('Amgl',GetTriggerUnit())==0)
endfunction
function IOI1IIOO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'n01J',Player($F),I1OII[0],bj_UNIT_FACING)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitAddAbility(bj_lastCreatedUnit,'Amgl')
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],500.,(60.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'n01J',Player($F),I1OII[1],bj_UNIT_FACING)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitAddAbility(bj_lastCreatedUnit,'Amgl')
call SetUnitScalePercent(bj_lastCreatedUnit,300.,300.,300.)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
endfunction
function IOI1IOIO takes nothing returns boolean
return(GetSpellAbilityId()=='A0L3')
endfunction
function IOI1IOOO takes nothing returns nothing
set OO1O=GetSpellAbilityUnit()
set I1OII[0]=GetUnitLoc(OO1O)
set I1OII[1]=GetSpellTargetLoc()
set O1IO[1]=DistanceBetweenPoints(I1OII[0],I1OII[1])
set O1IO[2]=.0
set O1IO[3]=(100.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))
set O1IO[4]=AngleBetweenPoints(I1OII[0],I1OII[1])
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call EnableTrigger(O11I11I)
call SetUnitTimeScalePercent(OO1O,50.)
call SetUnitAnimation(OO1O,"attack")
call SetUnitPathing(OO1O,false)
endfunction
function Trig_Flash_Run_Func007002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Flash_Run_Func007002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Flash_Run_Func007002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(OO1O)))
endfunction
function Trig_Flash_Run_Func007002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(OO1O))))
endfunction
function IOI1I1IO takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(OO1O)))))))!=null
endfunction
function IOI1I1OO takes nothing returns nothing
call UnitDamageTargetBJ(OO1O,GetEnumUnit(),O1IO[3],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endfunction
function IOI1I11O takes nothing returns boolean
return(OO1O==null)or(O1IO[2]>=O1IO[1])
endfunction
function IOI1OIIO takes nothing returns boolean
return(IOI1I11O())
endfunction
function IOI1OIOO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(OO1O)
set I1OII[1]=OOIOO1O(I1OII[0],45.,O1IO[4])
set O1IO[2]=(O1IO[2]+45.)
call SetUnitPositionLoc(OO1O,I1OII[1])
call AddSpecialEffectLocBJ(I1OII[0],"Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeEmbers.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set OO1II=OOI1OIO(128.,I1OII[0],Condition(function IOI1I1IO))
call ForGroupBJ(OO1II,function IOI1I1OO)
call DestroyGroup(OO1II)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
if(IOI1OIIO())then
call SetUnitPathing(OO1O,true)
call SetUnitTimeScalePercent(OO1O,100.)
call ResetUnitAnimation(OO1O)
call DisableTrigger(GetTriggeringTrigger())
set OO1O=null
endif
endfunction
function IOI1OOIO takes nothing returns boolean
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local unit F=GetFilterUnit()
local real x
local real y
if not(IsUnitAlly(F,IIO1O[K])or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE)or IsUnitType(F,UNIT_TYPE_MAGIC_IMMUNE))then
set x=GetUnitX(F)
set y=GetUnitY(F)
call UnitDamageTarget(I1IIO[K],F,200.,true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",F,"origin"))
set IIO11I=OO1IIOO(O11OI[K],IIIOO[K],x,y)
set II1III=false
set IOOI1I=false
set II1IOI=18
set IOI1II=.03
set IOI1OI=.75
set IOI11I=.45
set IOOIOI=F
call ConditionalTriggerExecute(IIIOO1I)
endif
set F=null
return false
endfunction
function IOI1OOOO takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
set O1OII[K]=O1OII[K]+1
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\WarDrums\\DrumsCasterHeal.mdl",I1IIO[K],"origin"))
if O1OII[K]==O1OOI[K]or GetWidgetLife(I1IIO[K])<.41 then
call OO1OIOO(K)
else
call GroupEnumUnitsInRange(OII1O,O11OI[K],IIIOO[K],448.,Condition(function IOI1OOIO))
endif
endfunction
function IOI1OO1O takes nothing returns boolean
return GetUnitTypeId(GetSummonedUnit())=='hwtw'
endfunction
function IOI1O1IO takes nothing returns nothing
local integer K=OO1OIIO()
local unit s=GetSummonedUnit()
set O1OII[K]=0
set O1OOI[K]=$C+8*GetUnitAbilityLevel(GetSummoningUnit(),'AOsw')
set O11OI[K]=GetUnitX(s)
set IIIOO[K]=GetUnitY(s)
set I1IIO[K]=s
set IIO1O[K]=GetTriggerPlayer()
call TimerStart(IO1OO[K],.4,true,function IOI1OOOO)
set s=null
endfunction
function IOI1O11O takes nothing returns boolean
return(GetLearnedSkill()=='A0BT')
endfunction
function IOI11IIO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0BT',GetTriggerUnit())==4)
endfunction
function IOI11IOO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0BT',GetTriggerUnit())==1 or GetUnitAbilityLevelSwapped('A102',GetTriggerUnit())>0)
endfunction
function IOI11I1O takes nothing returns nothing
call SetPlayerTechResearchedSwap('R006',GetUnitAbilityLevelSwapped('A0BT',GetTriggerUnit()),GetTriggerPlayer())
if(IOI11IOO())then
call EnableTrigger(O11OI1I)
call TriggerRegisterUnitEvent(O11OI1I,GetTriggerUnit(),EVENT_UNIT_ATTACKED)
else
if(IOI11IIO())then
endif
endif
endfunction
function IOI11OOO takes nothing returns boolean
return(not(TimerGetRemaining(IIII1O)!=0 or GetUnitAbilityLevel(GetAttacker(),'Aloc')>0 or IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)or IsUnitAlly(GetAttacker(),GetTriggerPlayer())or GetRandomInt(1,4)>3)and IsUnitInRange(GetAttacker(),GetTriggerUnit(),$3E8))!=null
endfunction
function IOI11O1O takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',GetUnitX(u),GetUnitY(u),0)
call SetUnitFlyHeight(e,60.,.0)
call UnitAddAbility(e,'ANc2')
call SetUnitUserData(e,39)
if GetUnitAbilityLevel(u,'A0BT')>0 then
call SetUnitAbilityLevel(e,'ANc2',GetUnitAbilityLevel(u,'A0BT'))
endif
call IssuePointOrderById(e,$D02AC,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()))
call UnitApplyTimedLife(e,'BTLF',3)
call TimerStart(IIII1O,.3,false,null)
set u=null
set e=null
endfunction
function IOI111OO takes nothing returns boolean
return GetSpellAbilityId()=='ACrf'
endfunction
function IOI1111O takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,GetTriggerPlayer())or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call UnitAddAbility(F,'AIti')
call UnitDamageTarget(OO11II[1],F,.0,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call IssueTargetOrderById(F,$D000F,OO11II[1])
return true
endif
return false
endfunction
function IOOIIIIO takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),'AIti')
endfunction
function IOOIIIOO takes nothing returns nothing
local unit u=GetTriggerUnit()
local real LV=R2I(GetUnitAbilityLevel(u,'ACrf'))
set OO1O1I[1]=CreateGroup()
set OO11II[1]=GetTriggerUnit()
call GroupEnumUnitsInRange(OO1O1I[1],GetSpellTargetX(),GetSpellTargetY(),300.,Condition(function IOI1111O))
call EnableTrigger(O11OOII)
call UnitAddAbility(u,'AId1')
call SetUnitAbilityLevel(u,'AId1',GetUnitAbilityLevel(u,'ACrf'))
call TriggerSleepAction(LV+1)
call ForGroup(OO1O1I[1],function IOOIIIIO)
call DestroyGroup(OO1O1I[1])
call DisableTrigger(O11OOII)
call TriggerSleepAction(9-LV)
call UnitRemoveAbility(u,'AId1')
set u=null
endfunction
function IOOIIOIO takes nothing returns boolean
return(IsUnitInGroup(GetTriggerUnit(),OO1O1I[1]))and(GetUnitStateSwap(UNIT_STATE_LIFE,OO11II[1])>.41)
endfunction
function IOOIIOOO takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call IssueTargetOrderById(GetTriggerUnit(),$D000F,OO11II[1])
call EnableTrigger(GetTriggeringTrigger())
endfunction
function IOOII1IO takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,GetTriggerPlayer())or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call SetUnitFacingToFaceUnitTimed(bj_lastCreatedUnit,F,0)
call IssueTargetOrderById(bj_lastCreatedUnit,$D0267,F)
endif
return false
endfunction
function IOOII1OO takes nothing returns boolean
return GetSpellAbilityId()=='A0LB'
endfunction
function IOOII11O takes nothing returns nothing
local integer I=1
local real x=GetUnitX(GetTriggerUnit())
local real y=GetUnitY(GetTriggerUnit())
local real x2
local real y2
local unit e
local effect array OOIOIOOI
loop
exitwhen I>20
set x2=(((x)*1.)+((500)*1.)*Cos(((18*I)*1.)*3.14159/180.))
set y2=(((y)*1.)+((500)*1.)*Sin(((18*I)*1.)*3.14159/180.))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x2,y2))
set OOIOIOOI[I]=AddSpecialEffect("Doodads\\Ashenvale\\Rocks\\AshenRock\\AshenRock8.mdl",x2,y2)
set e=CreateUnit(GetTriggerPlayer(),'uobs',x2,y2,GetRandomReal(1,360))
call UnitApplyTimedLife(e,'BTLF',15.)
call SetUnitPathing(e,false)
call SetUnitX(e,x2)
call SetUnitY(e,y2)
call SetUnitPathing(e,true)
set e=null
set I=I+1
endloop
set e=CreateUnit(GetTriggerPlayer(),'e01Z',x,y,0)
set bj_lastCreatedUnit=e
call UnitAddAbility(e,'A0MG')
call SetUnitAbilityLevel(e,'A0MG',GetUnitAbilityLevel(GetTriggerUnit(),'A0LB'))
call SetUnitUserData(e,39)
call UnitApplyTimedLife(e,'BTLF',9.)
call GroupEnumUnitsInRange(OII1O,x,y,500,Condition(function IOOII1IO))
set e=null
call TriggerSleepAction(15.)
set I=1
loop
exitwhen I>20
call DestroyEffect(OOIOIOOI[I])
set OOIOIOOI[I]=null
set I=I+1
endloop
endfunction
function IOOIOIOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0MI')
endfunction
function IOOIOI1O takes nothing returns nothing
set O11III=GetTriggerUnit()
set O1O11I=0
call StartTimerBJ(O1O1OI,true,.2)
endfunction
function IOOIOOOO takes nothing returns boolean
return(O1O11I>=$A)
endfunction
function IOOIOO1O takes nothing returns nothing
set O1O11I=(O1O11I+1)
set I1OII[0]=GetUnitLoc(O11III)
call SetUnitAnimation(O11III,"slam")
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(O11III),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'ANc3')
call SetUnitAbilityLevelSwapped('ANc3',bj_lastCreatedUnit,O1O11I)
call UnitApplyTimedLifeBJ(5.,'BTLF',bj_lastCreatedUnit)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D02AC,I1OII[0])
call SetUnitUserData(bj_lastCreatedUnit,39)
call RemoveLocation(I1OII[0])
if(IOOIOOOO())then
call PauseTimerBJ(true,O1O1OI)
endif
endfunction
function IOOIO1OO takes nothing returns boolean
return(GetSpellAbilityId()=='A0MI')
endfunction
function IOOIO11O takes nothing returns nothing
call PauseTimerBJ(true,O1O1OI)
endfunction
function IOOI1IOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0EH')
endfunction
function IOOI1I1O takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,26)
call UnitApplyTimedLifeBJ(5.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'ANc1')
call SetUnitAbilityLevelSwapped('ANc1',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0EH',GetTriggerUnit()))
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D02AC,I1OII[1])
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function IOOI1OOO takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitEnemy(F,GetOwningPlayer(GetTriggerUnit()))==false or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call SetUnitPosition(F,OIO1O[1],OIO1O[2])
endif
set F=null
return false
endfunction
function IOOI1O1O takes nothing returns boolean
return GetSpellAbilityId()=='A0EI'
endfunction
function IOOI11IO takes nothing returns nothing
local unit u=GetTriggerUnit()
local real x
local real y
local integer I=1
call TriggerSleepAction(.0)
set OIO1O[1]=GetUnitX(u)
set OIO1O[2]=GetUnitY(u)
loop
exitwhen I>72
set x=(((OIO1O[1])*1.)+((GetRandomReal(875,$3E8))*1.)*Cos(((I*5)*1.)*3.14159/180.))
set y=(((OIO1O[2])*1.)+((GetRandomReal(875,$3E8))*1.)*Sin(((I*5)*1.)*3.14159/180.))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))
set I=I+1
endloop
call GroupEnumUnitsInRange(OII1O,OIO1O[1],OIO1O[2],$3E8,Condition(function IOOI1OOO))
set u=null
endfunction
function IOOI111O takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
if GetUnitAbilityLevel(I1IIO[K],'B04H')==0 or GetWidgetLife(I1IIO[K])<.41 then
call DestroyEffect(IIO1OI[K])
call KillUnit(I1IOO[K])
call OO1OIOO(K)
else
call SetUnitAnimation(I1IIO[K],"attack slam")
call SetUnitPosition(I1IOO[K],GetUnitX(I1IIO[K]),GetUnitY(I1IIO[K]))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(I1IIO[K]),GetUnitY(I1IIO[K])))
call IssueImmediateOrderById(I1IOO[K],$D0080)
call TimerStart(IO1OO[K],TimerGetTimeout(IO1OO[K])+.01,false,function IOOI111O)
endif
endfunction
function IOOOIIIO takes nothing returns boolean
return GetSpellAbilityId()=='A0EG'
endfunction
function IOOOIIOO takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',GetUnitX(u),GetUnitY(u),0)
call SetUnitUserData(e,26)
call UnitAddAbility(e,'A0EJ')
call SetUnitAbilityLevel(e,'A0EJ',GetUnitAbilityLevel(u,'A0EG'))
set I1IIO[K]=u
set I1IOO[K]=e
set IIO1OI[K]=AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl",u,"overhead")
call TimerStart(IO1OO[K],.19-.06*GetUnitAbilityLevel(u,'A0EG'),false,function IOOI111O)
set u=null
set e=null
endfunction
function IOOOIOIO takes nothing returns boolean
return(GetLearnedSkill()=='A0MB')
endfunction
function IOOOIOOO takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
call TriggerRegisterPlayerChatEvent(O111OOI,GetTriggerPlayer(),"-s",false)
endfunction
function IOOOI1IO takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,GetOwningPlayer(O11IO))or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(O11IO,F,OIO1O[2],true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endif
if not(GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))and(IsUnitType(F,UNIT_TYPE_HERO)or(not(IsUnitAlly(F,GetOwningPlayer(O11IO))or GetPlayerController(GetOwningPlayer(F))==MAP_CONTROL_COMPUTER)))then
call SetUnitPosition(F,OIO1O[3],OIO1O[4])
endif
set F=null
return false
endfunction
function IOOOI1OO takes nothing returns boolean
return GetSpellAbilityId()=='A0MB'
endfunction
function IOOOI11O takes nothing returns nothing
local unit u=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local integer I=1
local real IOOOOIIO=$C8+$C8*GetUnitAbilityLevel(u,'A0MB')
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\BlackArrow\\BlackArrowMissile.mdl",x,y))
call TriggerSleepAction(O1111I)
set O11IO=u
set OIO1O[0]=x
set OIO1O[1]=y
set OIO1O[2]=IOOOOIIO
set OIO1O[3]=GetUnitX(u)
set OIO1O[4]=GetUnitY(u)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\BlackArrow\\BlackArrowMissile.mdl",x,y))
call GroupEnumUnitsInRange(OII1O,x,y,1000.,Condition(function IOOOI1IO))
loop
exitwhen I>18
set x=(((OIO1O[0])*1.)+((500)*1.)*Cos(((I*20)*1.)*3.14159/180.))
set y=(((OIO1O[1])*1.)+((500)*1.)*Sin(((I*20)*1.)*3.14159/180.))
call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\GlowingRunes\\GlowingRunes7.mdl",x,y))
set I=I+1
endloop
set u=null
endfunction
function IOOOOI1O takes nothing returns boolean
return(SubStringBJ(GetEventPlayerChatString(),1,2)=="-s")
endfunction
function IOOOOOIO takes nothing returns boolean
return(O1111I<1.)
endfunction
function IOOOOOOO takes nothing returns boolean
return(O1111I>5.)
endfunction
function IOOOOO1O takes nothing returns nothing
set O1111I=S2R(SubStringBJ(GetEventPlayerChatString(),3,$A))
if(IOOOOOOO())then
set O1111I=5.
else
if(IOOOOOIO())then
set O1111I=1.
endif
endif
call DisplayTimedTextToForce(OOOIIIO(GetTriggerPlayer()),10.,("調整實界滑移秒數為 "+R2S(O1111I)))
endfunction
function IOOOO1OO takes nothing returns boolean
return(GetSpellAbilityId()=='A0MA')
endfunction
function Trig_DarkRoge_Func002002003001 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_DarkRoge_Func002002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_DarkRoge_Func002002003002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_DarkRoge_Func002002003002 takes nothing returns boolean
return(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)))!=null
endfunction
function IOOOO11O takes nothing returns boolean
return(GetBooleanAnd((IsUnitAlly(GetFilterUnit(),GetTriggerPlayer())),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)))))!=null
endfunction
function IOOO1IIO takes nothing returns nothing
call SetWidgetLife(GetEnumUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetEnumUnit())+(100.+(200.*I2R(GetUnitAbilityLevelSwapped('A0MA',GetTriggerUnit()))))))
endfunction
function Trig_DarkRoge_Func005002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_DarkRoge_Func005002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_DarkRoge_Func005002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_DarkRoge_Func005002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function IOOO1IOO takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function IOOO1I1O takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(100.+(200.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function IOOO1OIO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set OO1II=OOI1OIO(1000.,I1OII[0],Condition(function IOOOO11O))
call ForGroupBJ(OO1II,function IOOO1IIO)
call DestroyGroup(OO1II)
set OO1II=OOI1OIO(1000.,I1OII[0],Condition(function IOOO1IOO))
call ForGroupBJ(OO1II,function IOOO1I1O)
call DestroyGroup(OO1II)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=72
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],1000.,(5.*I2R(bj_forLoopAIndex)))
call AddSpecialEffectLocBJ(I1OII[1],"Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
endfunction
function IOOO1O1O takes nothing returns boolean
return(GetLearnedSkill()=='AOae')
endfunction
function IOOO11IO takes nothing returns nothing
call EnableTrigger(I1OOOI[4])
endfunction
function IOOO111O takes nothing returns boolean
return(GetSpellAbilityId()=='AIxk')
endfunction
function IOO1IIIO takes nothing returns boolean
return(IIIIOI[0]==1)
endfunction
function IOO1IIOO takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A0KZ')
call SetUnitAbilityLevelSwapped('A0KZ',GetTriggerUnit(),GetUnitAbilityLevelSwapped('AIxk',GetTriggerUnit()))
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),1)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),1,IIIIOI[0]+1)
call TriggerSleepAction((10.+(10.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))))
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),1)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),1,IIIIOI[0]-1)
if(IOO1IIIO())then
call UnitRemoveAbility(GetTriggerUnit(),'A0KZ')
endif
endfunction
function IOO1I1IO takes nothing returns boolean
return GetSpellAbilityId()=='A0NG' or GetSpellAbilityId()=='A0NI'
endfunction
function IOO1I1OO takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit p=GetSpellTargetUnit()
local real O1II11O=OO1II1O(GetUnitX(p),GetUnitY(p),GetUnitX(u),GetUnitY(u))-'d'
local real O1IIO1O=OO1IIOO(GetUnitX(p),GetUnitY(p),GetUnitX(u),GetUnitY(u))
local integer repeatpull=0
if GetSpellAbilityId()=='A0NI' then
call O1OI1IO(u,O1II11O,O1IIO1O+$B4,.5,null,null)
else
call O1OI1IO(p,O1II11O,O1IIO1O,.5,null,null)
endif
if IsUnitEnemy(p,GetTriggerPlayer())then
call IssueImmediateOrderById(p,$D0004)
call UnitDamageTarget(u,p,500*GetUnitAbilityLevel(u,'A0NI'),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call UnitDamageTarget(u,p,500*GetUnitAbilityLevel(u,'A0NG'),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call TriggerSleepAction(.3)
loop
exitwhen GetWidgetLife(p)<.41
call TriggerSleepAction(.2)
exitwhen repeatpull>14
call IssueImmediateOrderById(p,$D0004)
call CreateTextTagUnitBJ("追魂鎖定",p,0,6.,100.,'d',.0,20)
call ShowTextTagForceBJ(true,bj_lastCreatedTextTag,bj_FORCE_ALL_PLAYERS)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,.2)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,.4)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
set O1II11O=OO1II1O(GetUnitX(p),GetUnitY(p),GetUnitX(u),GetUnitY(u))-'d'
set O1IIO1O=OO1IIOO(GetUnitX(p),GetUnitY(p),GetUnitX(u),GetUnitY(u))
call O1OI1IO(p,O1II11O,O1IIO1O,.3,null,null)
if GetUnitState(p,UNIT_STATE_LIFE)*.04>10 then
call UnitDamageTargetBJ(u,p,GetUnitState(p,UNIT_STATE_LIFE)*.04,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)
else
call UnitDamageTargetBJ(u,p,30,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)
endif
set repeatpull=repeatpull+1
endloop
loop
exitwhen GetWidgetLife(p)<.41
exitwhen repeatpull>19
call TriggerSleepAction(.1)
call IssueImmediateOrderById(p,$D0004)
set repeatpull=repeatpull+1
endloop
call CreateTextTagUnitBJ("鎖定解除",p,0,6.,100.,'d',.0,0)
call ShowTextTagForceBJ(true,bj_lastCreatedTextTag,bj_FORCE_ALL_PLAYERS)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
endif
set p=null
set u=null
endfunction
function IOO1OIIO takes nothing returns boolean
return(GetSpellAbilityId()=='APra')
endfunction
function Trig_Leading_Func002002003001 takes nothing returns boolean
return(IsUnitAlly(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_Leading_Func002002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Leading_Func002002003002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Leading_Func002002003002 takes nothing returns boolean
return(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)))!=null
endfunction
function IOO1OIOO takes nothing returns boolean
return(GetBooleanAnd((IsUnitAlly(GetFilterUnit(),GetTriggerPlayer())),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)))))!=null
endfunction
function IOO1OI1O takes nothing returns nothing
call SetUnitFacingToFaceUnitTimed(bj_lastCreatedUnit,GetEnumUnit(),0)
call IssueTargetOrderById(bj_lastCreatedUnit,$D0085,GetEnumUnit())
endfunction
function IOO1OOIO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set OO1II=OOI1OIO(1200.,I1OII[0],Condition(function IOO1OIOO))
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'ACbb')
call SetUnitAbilityLevelSwapped('ACbb',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call UnitApplyTimedLifeBJ(4.,'BTLF',bj_lastCreatedUnit)
call ForGroupBJ(OO1II,function IOO1OI1O)
call DestroyGroup(OO1II)
call RemoveLocation(I1OII[0])
endfunction
function IOO1OO1O takes nothing returns boolean
return(GetLearnedSkill()=='Awar')
endfunction
function IOO1O1IO takes nothing returns nothing
call SetPlayerTechResearchedSwap('Ropg',GetUnitAbilityLevelSwapped('Awar',GetTriggerUnit()),GetTriggerPlayer())
endfunction
function IOO1O11O takes nothing returns nothing
local real R
if GetHeroAgi(OIO1IIO,true)*1.5<=50 then
set R=50
else
set R=GetHeroAgi(OIO1IIO,true)*1.5
endif
call UnitDamageTarget(OIO1IIO,OIOO11O,R,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
if GetRandomInt(0,1)==1 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",OIOO11O,"chest"))
elseif GetRandomInt(0,1)==1 then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",OIOO11O,"head"))
else
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",OIOO11O,"head"))
endif
endfunction
function IOO11IIO takes nothing returns nothing
call UnitRemoveAbility(OIO1IIO,'Avul')
endfunction
function IOO11IOO takes nothing returns boolean
return GetSpellAbilityId()=='Amls'
endfunction
function IOO11I1O takes nothing returns nothing
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT then
set OIO1IIO=GetTriggerUnit()
set OIOO11O=GetSpellTargetUnit()
call TimerStart(OIOO1IO,.1,true,function IOO1O11O)
call TimerStart(OIOO1OO,GetUnitAbilityLevel(OIO1IIO,'Amls')+2,false,function IOO11IIO)
call UnitAddAbility(OIO1IIO,'Avul')
else
call UnitRemoveAbility(OIO1IIO,'Avul')
call PauseTimer(OIOO1IO)
endif
endfunction
function IOO11OOO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H01X')
endfunction
function IOO11O1O takes nothing returns boolean
return(GetIssuedOrderId()==$D0057)
endfunction
function IOO111IO takes nothing returns nothing
if(IOO11O1O())then
call UnitAddAbility(GetTriggerUnit(),'A0NJ')
else
call UnitRemoveAbility(GetTriggerUnit(),'A0NJ')
endif
endfunction
function IOO1111O takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n02B')or(GetUnitTypeId(GetTriggerUnit())=='n02C')
endfunction
function IO1IIIIO takes nothing returns boolean
return(IOO1111O())
endfunction
function IO1IIIOO takes nothing returns nothing
call RemoveGuardPosition(GetSummonedUnit())
set I1OOIO=GetUnitTypeId(GetSummoningUnit())
call SetUnitAbilityLevelSwapped('A0DO',GetSummonedUnit(),GetUnitAbilityLevelSwapped('A0DF',GetSummoningUnit()))
set I1OOII=GetSummonedUnit()
call StartTimerBJ(I1OOOO,false,40.)
call EnableTrigger(IIII1OO)
endfunction
function IO1IIOIO takes nothing returns nothing
call DisableTrigger(IIII1OO)
endfunction
function IO1IIO1O takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())==I1OOIO)
endfunction
function IO1II1IO takes nothing returns nothing
call RemoveGuardPosition(I1OOII)
call IssueTargetOrderById(I1OOII,$D000F,GetTriggerUnit())
endfunction
function IO1II11O takes nothing returns boolean
return GetSpellAbilityId()=='A0Y5'
endfunction
function IO1IOIIO takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,IIO1O[IIIIOI[0]])or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(I1IIO[IIIIOI[0]],F,II1IO[IIIIOI[0]],true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
endif
set F=null
return false
endfunction
function IO1IOIOO takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local integer I
local real x
local real y
local real O1II11O
local real O1IIO1O
set I=0
loop
exitwhen I>9
set O1II11O=GetRandomReal('d',300)
set O1IIO1O=GetRandomReal(0,360)
set x=(((O11OI[K])*1.)+((O1II11O)*1.)*Cos(((O1IIO1O)*1.)*3.14159/180.))
set y=(((IIIOO[K])*1.)+((O1II11O)*1.)*Sin(((O1IIO1O)*1.)*3.14159/180.))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleHitTarget.mdl",x,y))
set I=I+1
endloop
set IIIIOI[0]=K
call GroupEnumUnitsInRange(G2,O11OI[K],IIIOO[K],400,Condition(function IO1IOIIO))
set O1OII[K]=O1OII[K]+1
if O1OII[K]>=O1OOI[K]then
call OO1OIOO(K)
endif
endfunction
function IO1IOI1O takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',GetSpellTargetX(),GetSpellTargetY(),0)
local unit e2=CreateUnit(GetTriggerPlayer(),'h02U',GetSpellTargetX(),GetSpellTargetY(),0)
call SetUnitTimeScale(e2,.7)
call UnitAddAbility(e,'A0Y7')
call SetUnitAbilityLevel(e,'A0Y7',GetUnitAbilityLevel(GetTriggerUnit(),'A0Y5'))
call IssueImmediateOrderById(e,$D009F)
call SetUnitUserData(e,49)
call UnitApplyTimedLife(e,'BTLF',5)
call UnitApplyTimedLife(e2,'BTLF',5)
set I1IIO[K]=u
set II1IO[K]=30+30*GetUnitAbilityLevel(u,'A0Y5')
set IIO1O[K]=GetTriggerPlayer()
set O11OI[K]=GetUnitX(e)
set IIIOO[K]=GetUnitY(e)
set O1OII[K]=0
set O1OOI[K]=$A
call TimerStart(IO1OO[K],.4,true,function IO1IOIOO)
set u=null
set e=null
set e2=null
endfunction
function IO1IOOOO takes nothing returns boolean
return GetSpellAbilityId()=='A0Y8'
endfunction
function IO1IOO1O takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,OIO1OOO)or GetWidgetLife(F)<.41)then
set OIO11OO=OIO11OO+1
set OIO111O[OIO11OO]=F
endif
set F=null
return false
endfunction
function IO1IO1IO takes nothing returns nothing
local unit IO1IO1OO
set OIO11OO=0
call GroupEnumUnitsInRange(OII1O,GetUnitX(OIO1I1O),GetUnitY(OIO1I1O),500,Condition(function IO1IOO1O))
set IO1IO1OO=OIO111O[GetRandomInt(0,OIO11OO)]
call OO1IOIO(OIO1OIO,GetUnitX(IO1IO1OO),GetUnitY(IO1IO1OO))
call IssueImmediateOrderById(OIO1OIO,$D009F)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl",GetUnitX(IO1IO1OO),GetUnitY(IO1IO1OO)))
set OIO1O1O=OIO1O1O+1
if OIO1O1O>=OIO11IO then
call UnitRemoveAbility(OIO1I1O,'B063')
call PauseTimer(OIO1IOO)
endif
endfunction
function IO1IO11O takes nothing returns nothing
set OIO1I1O=GetTriggerUnit()
set OIO1OOO=GetTriggerPlayer()
set OIO1OIO=CreateUnit(OIO1OOO,'e01Z',GetUnitX(OIO1I1O),GetUnitY(OIO1I1O),0)
set OIO1O1O=0
set OIO11IO=8+2*GetUnitAbilityLevel(OIO1I1O,'A0Y8')
call UnitAddAbility(OIO1OIO,'A0Y7')
call SetUnitAbilityLevel(OIO1OIO,'A0Y7',GetUnitAbilityLevel(OIO1I1O,'A0Y8')+4)
call TimerStart(OIO1IOO,.5,true,function IO1IO1IO)
endfunction
function IO1I1IOO takes nothing returns boolean
return GetSpellAbilityId()=='A0N5'
endfunction
function IO1I1I1O takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),0)
local real x=(((GetUnitX(GetSpellTargetUnit()))*1.)+(($80)*1.)*Cos(((GetUnitFacing(u)+$B4)*1.)*3.14159/180.))
local real y=(((GetUnitY(GetSpellTargetUnit()))*1.)+(($80)*1.)*Sin(((GetUnitFacing(u)+$B4)*1.)*3.14159/180.))
call SetUnitX(GetTriggerUnit(),x)
call SetUnitY(GetTriggerUnit(),y)
call UnitAddAbility(e,'A0GN')
call SetUnitUserData(e,47)
call SetUnitAbilityLevel(e,'A0GN',GetUnitAbilityLevel(GetTriggerUnit(),'A0N5'))
call UnitApplyTimedLife(e,'BTLF',3)
if IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_STRUCTURE)then
call UnitDamageTarget(GetTriggerUnit(),GetSpellTargetUnit(),(50.+(100.*GetUnitAbilityLevel(GetTriggerUnit(),'A0N5'))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
else
call UnitDamageTarget(GetTriggerUnit(),GetSpellTargetUnit(),(100.+(200.*GetUnitAbilityLevel(GetTriggerUnit(),'A0N5'))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endif
call IssueImmediateOrderById(e,$D009F)
set e=null
endfunction
function IO1I1OOO takes nothing returns boolean
return GetSpellAbilityId()=='A05I'
endfunction
function IO1I1O1O takes nothing returns nothing
local unit u=GetTriggerUnit()
call UnitAddAbility(u,'Aspb')
call UnitAddAbility(u,'AId3')
call UnitMakeAbilityPermanent(u,true,'Aspb')
call UnitMakeAbilityPermanent(u,true,'AId3')
call SetUnitAbilityLevel(u,'ACpv',GetUnitAbilityLevel(u,'A05I'))
call SetUnitAbilityLevel(u,'A0NB',GetUnitAbilityLevel(u,'A05I'))
call SetUnitAbilityLevel(u,'AId3',GetUnitAbilityLevel(u,'A05I'))
call TriggerSleepAction(5)
call UnitRemoveAbility(u,'Aspb')
call UnitRemoveAbility(u,'AId3')
set u=null
endfunction
function IO1I11OO takes nothing returns boolean
return GetSpellAbilityId()=='AOhw'
endfunction
function IO1I111O takes nothing returns nothing
local unit t=GetSpellTargetUnit()
call UnitAddAbility(t,'AId4')
call UnitAddAbility(t,'A0C8')
call UnitAddAbility(t,'A0L6')
call SetUnitAbilityLevel(t,'AId4',GetUnitAbilityLevel(GetTriggerUnit(),'AOhw'))
call SetUnitAbilityLevel(t,'A0C8',GetUnitAbilityLevel(GetTriggerUnit(),'AOhw'))
call SetUnitAbilityLevel(t,'A0L6',GetUnitAbilityLevel(GetTriggerUnit(),'AOhw'))
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(t),$A)
call SaveInteger(OOOII,GetHandleId(t),$A,IIIIOI[0]+1)
call TriggerSleepAction(30.)
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(t),$A)
call SaveInteger(OOOII,GetHandleId(t),$A,IIIIOI[0]-1)
if IIIIOI[0]==1 then
call UnitRemoveAbility(t,'AId4')
call UnitRemoveAbility(t,'A0C8')
call UnitRemoveAbility(t,'A0L6')
endif
endfunction
function IO1OIIOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0L1')and(GetUnitAbilityLevelSwapped('A0L1',GetTriggerUnit())==2)
endfunction
function IO1OII1O takes nothing returns nothing
call SetPlayerTechResearchedSwap('R00B',1,GetTriggerPlayer())
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function IO1OIOOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0E4')
endfunction
function IO1OIO1O takes nothing returns nothing
set OIO1O[0]=(100.+(200.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
call SetWidgetLife(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+OIO1O[0]))
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),OIO1O[0],ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
endfunction
function IO1OI1OO takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='Amgr')
endfunction
function IO1OI11O takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A0D0')
call SetUnitAbilityLevelSwapped('A0D0',GetTriggerUnit(),GetUnitAbilityLevelSwapped('Amgr',GetTriggerUnit()))
set OII1OI=GetUnitAbilityLevelSwapped('Amgr',GetTriggerUnit())
call EnableTrigger(I1OOOI[6])
endfunction
function IO1OOIOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0FJ')
endfunction
function IO1OOI1O takes nothing returns boolean
return(IIIIOI[0]==1)
endfunction
function IO1OOOIO takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A0FW')
call SetUnitAbilityLevelSwapped('A0FW',GetTriggerUnit(),GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),0)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),0,IIIIOI[0]+1)
call TriggerSleepAction(32.)
set IIIIOI[0]=LoadInteger(OOOII,GetHandleId(GetTriggerUnit()),0)
call SaveInteger(OOOII,GetHandleId(GetTriggerUnit()),0,IIIIOI[0]-1)
if(IO1OOI1O())then
call UnitRemoveAbility(GetTriggerUnit(),'A0FW')
endif
endfunction
function IO1OOO1O takes nothing returns boolean
return(GetSpellAbilityId()=='A0FZ')
endfunction
function IO1OO1IO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$C
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],32.,(30.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call SetUnitUserData(bj_lastCreatedUnit,24)
call UnitAddAbility(bj_lastCreatedUnit,'A0G0')
call SetUnitAbilityLevelSwapped('A0G0',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0FZ',GetTriggerUnit()))
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D024B,I1OII[1])
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
endfunction
function IO1OO11O takes nothing returns boolean
return(GetSpellAbilityId()=='A0FL')
endfunction
function IO1O1IIO takes nothing returns boolean
return(UnitHasBuffBJ(IIOO1I,'B04T')==false)
endfunction
function IO1O1IOO takes nothing returns nothing
set IIOO1I=GetTriggerUnit()
set IIOOOI=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())
call EnableTrigger(III1IOO)
call TriggerSleepAction(41.)
if(IO1O1IIO())then
call DisableTrigger(III1IOO)
endif
endfunction
function IO1O1OIO takes nothing returns boolean
return(GetTriggerUnit()==IIOO1I)
endfunction
function IO1O1OOO takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B04T')==false)
endfunction
function IO1O1O1O takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B04T'))and(TimerGetRemaining(I11O1I)==.0)
endfunction
function IO1O11IO takes nothing returns nothing
if(IO1O1O1O())then
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'h03C',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,IIOOII[IIOOOI])
call StartTimerBJ(I11O1I,false,.3)
call RemoveLocation(I1OII[0])
else
if(IO1O1OOO())then
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endfunction
function IO1O111O takes nothing returns boolean
return(GetSpellAbilityId()=='A04Z')
endfunction
function IO11IIIO takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("chest",GetSpellTargetUnit(),"Abilities\\Spells\\Undead\\DarkSummoning\\DarkSummonMissile.mdl")
set OI=bj_lastCreatedEffect
set OOI[1]=GetTriggerUnit()
set OOI[2]=GetSpellTargetUnit()
call OOIOI1O(.75)
set I1OII[0]=GetUnitLoc(OOI[1])
call SetUnitPositionLocFacingLocBJ(OOI[2],I1OII[0],I1OII[0])
call RemoveLocation(I1OII[0])
call OOIOI1O(.2)
call DestroyEffect(OI)
endfunction
function IO11II1O takes nothing returns boolean
return(GetSpellAbilityId()=='A03T')
endfunction
function IO11IOIO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call CreateNUnitsAtLoc(2,'e008',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call TerrainDeformationRippleBJ(4.,false,I1OII[0],1000.,1000.,100.,.07,200.)
call RemoveLocation(I1OII[0])
endfunction
function IO11IO1O takes nothing returns boolean
return(GetSpellAbilityId()=='ACcl')
endfunction
function IO11I1IO takes nothing returns nothing
call StopSoundBJ(O1111O,false)
call PlaySoundOnUnitBJ(O1111O,'d',GetTriggerUnit())
endfunction
function IO11I11O takes nothing returns boolean
return(GetSpellAbilityId()=='ACcl')
endfunction
function IO11OIIO takes nothing returns nothing
call PlaySoundOnUnitBJ(IIIIIII,'d',GetTriggerUnit())
call SetUnitTimeScalePercent(OI1O1I[0],300.)
set OI11OI=0
set OI1O1I[0]=GetTriggerUnit()
set OI1O1I[1]=GetSpellTargetUnit()
call PauseUnit(GetTriggerUnit(),true)
call StartTimerBJ(OI11II,false,.01)
call TriggerExecute(III11IO)
endfunction
function Trig_Returnofswallow_timer_Func002002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Returnofswallow_timer_Func002002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_Returnofswallow_timer_Func002002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(OI1O1I[0])))
endfunction
function Trig_Returnofswallow_timer_Func002002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(OI1O1I[0]))))
endfunction
function IO11OI1O takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(OI1O1I[0])))))))!=null
endfunction
function IO11OOIO takes nothing returns nothing
call UnitDamageTargetBJ(OI1O1I[0],GetEnumUnit(),1333.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
endfunction
function IO11OOOO takes nothing returns boolean
return(OI11OI==3)
endfunction
function IO11OO1O takes nothing returns nothing
set I1OII[0]=GetUnitLoc(OI1O1I[1])
set OO1II=OOI1OIO(400.,I1OII[0],Condition(function IO11OI1O))
call SetUnitAnimation(OI1O1I[0],"attack slam")
call ForGroupBJ(OO1II,function IO11OOIO)
call CreateNUnitsAtLoc(1,'e01B',Player($F),I1OII[0],bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,125.)
call CreateNUnitsAtLoc(1,'e01S',Player($F),I1OII[0],bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,125.)
call KillUnit(bj_lastCreatedUnit)
call SetUnitPositionLoc(OI1O1I[0],I1OII[0])
set OI11OI=(OI11OI+1)
call DestroyGroup(OO1II)
call RemoveLocation(I1OII[0])
if(IO11OOOO())then
call SetUnitTimeScalePercent(OI1O1I[0],100.)
call PauseUnit(OI1O1I[0],false)
call PauseTimerBJ(true,OI11II)
else
call StartTimerBJ(OI11II,false,.25)
endif
endfunction
function IO11O1OO takes nothing returns boolean
return GetSpellAbilityId()=='Awfb'
endfunction
function IO11O11O takes nothing returns nothing
local integer I=0
local integer IO111IIO
local integer IO111IOO
local integer IO111I1O
local unit t=GetSpellTargetUnit()
loop
exitwhen I==7
if UnitItemInSlot(t,I)!=null and GetItemTypeId(UnitItemInSlot(t,I))!='lhst' then
set I=1
exitwhen true
endif
set I=I+1
endloop
if I==6 or IsUnitIllusion(t)then
return
endif
call CreateTextTagUnitBJ("哈哈哈哈哈...",t,0,10.,100.,'d',.0,0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,2.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,4.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
loop
set I=GetRandomInt(0,5)
if UnitItemInSlot(t,I)!=null and GetItemTypeId(UnitItemInSlot(t,I))!='I029' then
set IO111I1O=I
set IO111IOO=GetItemTypeId(UnitItemInSlot(t,IO111I1O))
set IO111IIO=GetItemCharges(UnitItemInSlot(t,IO111I1O))
exitwhen true
endif
endloop
call SaveInteger(OOOII,GetHandleId(t),$C,IO111IOO)
call SaveInteger(OOOII,GetHandleId(t),$D,IO111IIO)
call SaveInteger(OOOII,GetHandleId(t),$E,IO111I1O)
call RemoveItem(UnitItemInSlot(t,IO111I1O))
call UnitAddItemToSlotById(t,'I029',IO111I1O)
call TriggerSleepAction(30)
call RemoveItem(UnitItemInSlot(t,IO111I1O))
if GetWidgetLife(t)>.41 then
call UnitAddItemToSlotById(t,IO111IOO,IO111I1O)
call SetItemCharges(UnitItemInSlot(t,IO111I1O),IO111IIO)
endif
set t=null
endfunction
function IO111OOO takes nothing returns boolean
return(GetLearnedSkill()=='A0JV')and(IsUnitIllusion(GetTriggerUnit())==false)
endfunction
function IO111O1O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0JV',GetTriggerUnit())==4)
endfunction
function IO1111IO takes nothing returns nothing
call IncUnitAbilityLevel(GetTriggerUnit(),'Awfb')
if(IO111O1O())then
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function IO11111O takes nothing returns boolean
return(GetLearnedSkill()=='A0JV')
endfunction
function I1IIIIIO takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
call EnableTrigger(IIOIIOO)
endfunction
function I1IIII1O takes nothing returns boolean
return(not(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))or IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false or GetUnitAbilityLevel(GetAttacker(),'Bfzy')==0 or GetRandomInt(1,'d')>=($A+$A*GetUnitAbilityLevel(GetAttacker(),'Bfzy'))/0.6 or IsUnitIllusion(GetTriggerUnit())))!=null
endfunction
function I1IIIOIO takes nothing returns nothing
local integer R=0
local item I
local item FI
loop
exitwhen R>6
set I=UnitItemInSlot(GetTriggerUnit(),R)
if GetItemType(I)==ITEM_TYPE_PURCHASABLE then
if GetRandomInt(0,R)<=1 then
set FI=I
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\SpellSteal\\SpellStealMissile.mdl",GetTriggerUnit(),"origin"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\SpellSteal\\SpellStealMissile.mdl",GetTriggerUnit(),"chest"))
endif
endif
set R=R+1
endloop
call UnitAddItem(GetAttacker(),FI)
set I=null
endfunction
function I1IIIO1O takes nothing returns boolean
return(GetSpellAbilityId()=='A04E')
endfunction
function I1III1IO takes nothing returns boolean
return(GetPlayerState(GetOwningPlayer(GetSpellTargetUnit()),PLAYER_STATE_RESOURCE_GOLD)<IIIIOI[0])
endfunction
function I1III1OO takes nothing returns nothing
set IIIIOI[0]=($3E8*GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
set OIO1O[0]=(700.+(200.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
if(I1III1IO())then
set IIIIOI[0]=GetPlayerState(GetOwningPlayer(GetSpellTargetUnit()),PLAYER_STATE_RESOURCE_GOLD)
endif
call AdjustPlayerStateBJ((1*IIIIOI[0]),GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ((-1*IIIIOI[0]),GetOwningPlayer(GetSpellTargetUnit()),PLAYER_STATE_RESOURCE_GOLD)
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),OIO1O[0],ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
call CreateTextTagUnitBJ(("|CFFFFCC00-"+I2S(IIIIOI[0])),GetSpellTargetUnit(),0,$A,'d','d','d',0)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,1.5)
endfunction
function I1IIOIIO takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A07L')
endfunction
function wellethree takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A05H')
endfunction
function I1IIOIOO takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(I1OOOI[$A])
endfunction
function wellethreeatt takes nothing returns nothing
call EnableTrigger(I1OOOI[$D])
endfunction
function wellethreeatt2 takes nothing returns nothing
local real damagepoint=(GetUnitState(IO1III,UNIT_STATE_MAX_LIFE)-GetUnitState(IO1III,UNIT_STATE_LIFE))*GetUnitAbilityLevel(IOO1OI,'A05H')*.025
if GetUnitState(IO1III,UNIT_STATE_MAX_LIFE)<3000. then
set damagepoint=damagepoint+75.*GetUnitAbilityLevel(IOO1OI,'A05H')
else
set damagepoint=damagepoint+GetUnitState(IO1III,UNIT_STATE_MAX_LIFE)*GetUnitAbilityLevel(IOO1OI,'A05H')*.025
endif
if GetUnitAbilityLevel(IOO1OI,'A05H')!=0 then
call DisableTrigger(wellethreett)
if GetUnitState(IO1III,UNIT_STATE_LIFE)<=damagepoint then
call SetUnitState(IO1III,UNIT_STATE_LIFE,1)
else
call UnitDamageTargetBJ(IOO1OI,IO1III,damagepoint,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)
endif
call EnableTrigger(wellethreett)
endif
endfunction
function longchuant1 takes nothing returns nothing
if not(IsUnitIllusion(IOO1OI)or GetUnitAbilityLevel(IOO1OI,'A0GA')==0 or IsUnitType(IO1III,UNIT_TYPE_STRUCTURE)) then
if GetUnitTypeId(IOO1OI)=='O01R' or GetUnitTypeId(IOO1OI)=='O01S' then
call DisableTrigger(longchuant)
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(IOO1OI),GetUnitLoc(IO1III),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A0Z5')
call IssueTargetOrder(bj_lastCreatedUnit,"banish",IO1III)
call TriggerSleepAction(1.)
call EnableTrigger(longchuant)
endif
endif
endfunction
function benduothree takes nothing returns nothing
local real damagepoint=(GetUnitState(IOO1OI,UNIT_STATE_MAX_LIFE)-GetUnitState(IOO1OI,UNIT_STATE_LIFE))*GetUnitAbilityLevel(IOO1OI,'ACce')*.15
if not(IsUnitIllusion(IOO1OI)or GetUnitAbilityLevel(IOO1OI,'ACce')==0 or IsUnitType(IO1III,UNIT_TYPE_STRUCTURE)) then
call DisableTrigger(benduothreet)
if (GetUnitState(IO1III,UNIT_STATE_LIFE)<1500+GetUnitAbilityLevel(IOO1OI,'ACce')*500.) then
set damagepoint=damagepoint+(1500+GetUnitAbilityLevel(IOO1OI,'ACce')*500.-GetUnitState(IOO1OI,UNIT_STATE_LIFE))*(GetUnitAbilityLevel(IOO1OI,'ACce')*.1+.1)
endif
if GetUnitState(IO1III,UNIT_STATE_LIFE)<=damagepoint then
call SetUnitState(IO1III,UNIT_STATE_LIFE,1)
else
call UnitDamageTargetBJ(IOO1OI,IO1III,damagepoint,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)
endif 
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",IO1III,"chest"))
call EnableTrigger(benduothreet)
endif
endfunction
function teateathree takes nothing returns nothing
if GetPlayerId(GetOwningPlayer(IOO1OI))==teateathreeplayer then
if GetUnitAbilityLevel(IOO1OI,'AIsb')==0 then
call UnitAddAbility(IOO1OI,'AIsb')
call SetUnitAbilityLevelSwapped('AIsb',IOO1OI,1)
endif
call SetUnitAbilityLevelSwapped('A0N4',IOO1OI,GetUnitAbilityLevelSwapped('AIsb',IOO1OI))
call UnitMakeAbilityPermanent(IOO1OI,true,'A0N4')
endif
if not((GetUnitAbilityLevel(IOO1OI,'AIsb')==0 and GetUnitAbilityLevel(IOO1OI,'A0N4')==0) or IsUnitType(IO1III,UNIT_TYPE_STRUCTURE) or GetUnitAbilityLevel(IO1III,'B05V')==0) then
call DisableTrigger(teateathreet)
call UnitDamageTargetBJ(IOO1OI,IO1III,teateathreedam,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)
set teateathreedam=teateathreedam+100
set teateathreeplayer=GetPlayerId(GetOwningPlayer(IOO1OI))
call EnableTrigger(teateathreet)
else
set teateathreedam=100
endif
endfunction
function I1IIOOIO takes nothing returns boolean
return(GetSpellAbilityId()=='ANfb')
endfunction
function I1IIOOOO takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit t=GetSpellTargetUnit()
set OIO1O[0]=((55.+GetRandomReal(1.,18.))+I2R(GetHeroStatBJ(1,GetTriggerUnit(),true)))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set OIO1O[0]=(I2R(GetItemLevel(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex)))+OIO1O[0])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set OIO1O[0]=(5.*OIO1O[0])
set I1OII[0]=GetUnitLoc(GetSpellTargetUnit())
call CreateNUnitsAtLoc(1,'e01Z',Player($F),I1OII[0],bj_UNIT_FACING)
call SetUnitScalePercent(bj_lastCreatedUnit,150.,150.,150.)
call UnitAddAbility(bj_lastCreatedUnit,'A0AY')
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],50.,(18.*I2R(bj_forLoopAIndex)))
call SetUnitFacingToFaceLocTimed(bj_lastCreatedUnit,I1OII[1],0)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,I1OII[1])
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
call UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),OIO1O[0],ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
call CreateTextTagUnitBJ((I2S(R2I(OIO1O[0]))+"!"),GetSpellTargetUnit(),0,11.,45.,75.,75.,0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64.,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,3.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,4.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call UnitAddAbility(u,'A0MF')
call TriggerSleepAction(.0)
call SetUnitPosition(u,GetUnitX(t),GetUnitY(t))
call IssueTargetOrderById(u,$D000F,t)
call TriggerSleepAction(6.)
call UnitRemoveAbility(u,'A0MF')
set u=null
set t=null
endfunction
function I1IIO1IO takes nothing returns boolean
return GetSpellAbilityId()=='A057'
endfunction
function I1IIO1OO takes nothing returns nothing
local unit t=GetSpellTargetUnit()
call SetWidgetLife(t,((200.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))+GetUnitStateSwap(UNIT_STATE_LIFE,t)))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Heal\\HealTarget.mdl",GetSpellTargetUnit(),"origin"))
call UnitAddAbility(t,'A0HU')
call SaveInteger(OOOII,GetHandleId(t),18,LoadInteger(OOOII,GetHandleId(t),18)+1)
call TriggerSleepAction(30.)
call SaveInteger(OOOII,GetHandleId(t),18,LoadInteger(OOOII,GetHandleId(t),18)-1)
if LoadInteger(OOOII,GetHandleId(t),18)==0 then
call UnitRemoveAbility(t,'A0HU')
endif
set t=null
endfunction
function I1II1IIO takes nothing returns boolean
return(GetSpellAbilityId()=='A09J')
endfunction
function I1II1IOO takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'emtg',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,$B)
call UnitAddAbility(bj_lastCreatedUnit,'A09O')
call UnitApplyTimedLifeBJ(5.,'BTLF',bj_lastCreatedUnit)
call SetUnitAbilityLevelSwapped('A09O',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A09J',GetSpellAbilityUnit()))
call IssueTargetOrderById(bj_lastCreatedUnit,$D0102,GetSpellAbilityUnit())
call RemoveLocation(I1OII[0])
endfunction
function I1II1OIO takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,GetTriggerPlayer())or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call UnitAddAbility(F,'A0LL')
call SetUnitAbilityLevel(F,'A0LM',IIIIOI[0])
endif
set F=null
return false
endfunction
function I1II1OOO takes nothing returns nothing
local unit E=GetEnumUnit()
if GetUnitAbilityLevel(E,'B01N')==0 then
call UnitRemoveAbility(E,'A0LL')
endif
set E=null
endfunction
function I1II1O1O takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
call ForGroup(O1IOI[K],function I1II1OOO)
call OO1OIOO(K)
endfunction
function I1II11IO takes nothing returns boolean
return GetSpellAbilityId()=='A04C'
endfunction
function I1II11OO takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
set IIIIOI[0]=GetUnitAbilityLevel(u,'A04C')
call GroupEnumUnitsInRange(O1IOI[K],GetUnitX(u),GetUnitY(u),99999.,Condition(function I1II1OIO))
call TimerStart(IO1OO[K],20.5+5*IIIIOI[0],false,function I1II1O1O)
set u=null
endfunction
function I1IOIIIO takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A0IA') and GetUnitAbilityLevel(GetTriggerUnit(),GetLearnedSkill())==1
endfunction
function I1IOIIOO takes nothing returns nothing
call TriggerRegisterUnitEvent(IIOOIIO,GetTriggerUnit(),EVENT_UNIT_DAMAGED)
endfunction
function I1IOIOIO takes nothing returns boolean
return(GetEventDamage()>.0)
endfunction
function I1IOIOOO takes nothing returns nothing
if GetUnitAbilityLevelSwapped('A0IA',GetTriggerUnit())==0 then
call SetWidgetLife(GetTriggerUnit(),(GetEventDamage()*.11+GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())))
else
call SetWidgetLife(GetTriggerUnit(),((GetEventDamage()*(.11*I2R(GetUnitAbilityLevelSwapped('A0IA',GetTriggerUnit())))))+GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit()))
endif
endfunction
function I1IOI1IO takes nothing returns boolean
return(GetSpellAbilityId()=='A06N')
endfunction
function I1IOI1OO takes nothing returns nothing
call SetPlayerTechResearchedSwap('R00S',GetUnitAbilityLevelSwapped('A06N',GetTriggerUnit()),GetTriggerPlayer())
endfunction
function shanwangbig takes nothing returns boolean
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local unit F=GetFilterUnit()
local integer attractionx
local integer attractiony
if not(GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE) or IsUnitAlly(F,GetOwningPlayer(I1IIO[K])))then
if GetUnitX(F)>GetUnitX(I1IIO[K]) then
set attractionx=R2I(SquareRoot(GetUnitX(F)-GetUnitX(I1IIO[K])+1))*4
else
set attractionx=R2I(SquareRoot(GetUnitX(I1IIO[K])-GetUnitX(F)+1))*4
endif
if GetUnitY(F)>GetUnitY(I1IIO[K]) then
set attractiony=R2I(SquareRoot(GetUnitY(F)-GetUnitY(I1IIO[K])+1))
else
set attractiony=R2I(SquareRoot(GetUnitY(I1IIO[K])-GetUnitY(F)+1))
endif
call SetUnitX(F,(GetUnitX(F)*attractionx+GetUnitX(I1IIO[K]))/(attractionx+1))
call SetUnitY(F,(GetUnitY(F)*attractiony+GetUnitY(I1IIO[K]))/(attractiony+1))
call SetUnitState(F,UNIT_STATE_LIFE,GetUnitState(F,UNIT_STATE_LIFE)*0.998)
endif
if IsUnitEnemy(F,GetOwningPlayer(I1IIO[K])) and IsUnitType(F,UNIT_TYPE_STRUCTURE) and not(GetWidgetLife(F)<.41) and IsUnitInRange(F,I1IIO[K],800.) then
call SetUnitState(F,UNIT_STATE_LIFE,GetUnitState(F,UNIT_STATE_LIFE)*0.998)
if GetUnitState(F,UNIT_STATE_LIFE)>100 and GetRandomInt(1,4)==2 then
call SetUnitState(F,UNIT_STATE_LIFE,GetUnitState(F,UNIT_STATE_LIFE)-1)
endif
endif
set F=null
return false
endfunction
function I1IOOIIO takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real x=(((GetUnitX(I1IIO[K]))*1.)+((3000.)*1.)*Cos(((IOOIO[K])*1.)*3.14159/180.))
local real y=(((GetUnitY(I1IIO[K]))*1.)+((3000.)*1.)*Sin(((IOOIO[K])*1.)*3.14159/180.))
local group push=CreateGroup()
call IssueImmediateOrderById(I1IIO[K],$D009F)
call IssuePointOrderById(I1IIO[K],$D0012,x,y)
call GroupEnumUnitsInRange(push,GetUnitX(I1IIO[K]),GetUnitY(I1IIO[K]),2000.,Condition(function shanwangbig))
set O1OII[K]=O1OII[K]+1
if O1OII[K]>=150 then
call KillUnit(I1IIO[K])
call OO1OIOO(K)
endif
endfunction
function I1IOOIOO takes nothing returns boolean
return GetSpellAbilityId()=='A08F'
endfunction
function I1IOOI1O takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local real O1IIO1O=OO1IIOO(GetUnitX(u),GetUnitY(u),GetSpellTargetX(),GetSpellTargetY())
local unit e=CreateUnit(GetTriggerPlayer(),'e00F',GetUnitX(u),GetUnitY(u),O1IIO1O)
local real x=(((GetUnitX(u))*1.)+((3000.)*1.)*Cos(((O1IIO1O)*1.)*3.14159/180.))
local real y=(((GetUnitY(u))*1.)+((3000.)*1.)*Sin(((O1IIO1O)*1.)*3.14159/180.))
call SetUnitAbilityLevel(e,'A08H',GetUnitAbilityLevel(u,'A08F'))
call IssueImmediateOrderById(e,$D009F)
call IssuePointOrderById(e,$D0012,x,y)
set O1OII[K]=0
set I1IIO[K]=e
set IOOIO[K]=O1IIO1O
call TimerStart(IO1OO[K],.12,true,function I1IOOIIO)
set u=null
set e=null
endfunction
function I1IOOOOO takes nothing returns boolean
return(GetSpellAbilityId()=='A00P')
endfunction
function I1IOOO1O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00P',OOIOO)==1)
endfunction
function I1IOO1IO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00P',OOIOO)==2)
endfunction
function I1IOO1OO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00P',OOIOO)==3)
endfunction
function I1IOO11O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00P',OOIOO)==4)
endfunction
function I1IO1IIO takes nothing returns nothing
set OOIOO=GetTriggerUnit()
call UnitAddAbility(GetTriggerUnit(),'Avul')
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set O1I=GetSpellTargetUnit()
call OOIOI1O(.6)
set I1OII[0]=GetUnitLoc(OOIOO)
set I1OII[1]=GetUnitLoc(O1I)
set I1OII[2]=OOIOO1O(I1OII[1],100.,AngleBetweenPoints(I1OII[0],I1OII[1]))
call SetUnitPositionLocFacingLocBJ(OOIOO,I1OII[2],I1OII[1])
call SetUnitFacingToFaceUnitTimed(OOIOO,O1I,.01)
call IssueTargetOrderById(OOIOO,$D000F,O1I)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call RemoveLocation(I1OII[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TriggerSleepAction(.6)
set I1OII[0]=GetUnitLoc(OOIOO)
set I1OII[1]=GetUnitLoc(O1I)
set I1OII[2]=OOIOO1O(I1OII[1],100.,AngleBetweenPoints(I1OII[0],I1OII[1]))
call SetUnitPositionLocFacingLocBJ(OOIOO,I1OII[2],I1OII[1])
call SetUnitFacingToFaceUnitTimed(OOIOO,O1I,.01)
call IssueTargetOrderById(OOIOO,$D000F,O1I)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call RemoveLocation(I1OII[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TriggerSleepAction(.6)
set I1OII[0]=GetUnitLoc(OOIOO)
set I1OII[1]=GetUnitLoc(O1I)
set I1OII[2]=OOIOO1O(I1OII[1],100.,AngleBetweenPoints(I1OII[0],I1OII[1]))
call SetUnitPositionLocFacingLocBJ(OOIOO,I1OII[2],I1OII[1])
call SetUnitFacingToFaceUnitTimed(OOIOO,O1I,.01)
call IssueTargetOrderById(OOIOO,$D000F,O1I)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call RemoveLocation(I1OII[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(I1IOOO1O())then
call SetUnitTimeScalePercent(OOIOO,100.)
call UnitRemoveAbility(OOIOO,'Avul')
return
endif
call TriggerSleepAction(.6)
set I1OII[0]=GetUnitLoc(OOIOO)
set I1OII[1]=GetUnitLoc(O1I)
set I1OII[2]=OOIOO1O(I1OII[1],100.,AngleBetweenPoints(I1OII[0],I1OII[1]))
call SetUnitPositionLocFacingLocBJ(OOIOO,I1OII[2],I1OII[1])
call SetUnitFacingToFaceUnitTimed(OOIOO,O1I,.01)
call IssueTargetOrderById(OOIOO,$D000F,O1I)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call RemoveLocation(I1OII[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(I1IOO1IO())then
call SetUnitTimeScalePercent(OOIOO,100.)
call UnitRemoveAbility(OOIOO,'Avul')
return
endif
call TriggerSleepAction(.6)
set I1OII[0]=GetUnitLoc(OOIOO)
set I1OII[1]=GetUnitLoc(O1I)
set I1OII[2]=OOIOO1O(I1OII[1],100.,AngleBetweenPoints(I1OII[0],I1OII[1]))
call SetUnitPositionLocFacingLocBJ(OOIOO,I1OII[2],I1OII[1])
call SetUnitFacingToFaceUnitTimed(OOIOO,O1I,.01)
call IssueTargetOrderById(OOIOO,$D000F,O1I)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call RemoveLocation(I1OII[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(I1IOO1OO())then
call SetUnitTimeScalePercent(OOIOO,100.)
call UnitRemoveAbility(OOIOO,'Avul')
return
endif
call TriggerSleepAction(.6)
set I1OII[0]=GetUnitLoc(OOIOO)
set I1OII[1]=GetUnitLoc(O1I)
set I1OII[2]=OOIOO1O(I1OII[1],100.,AngleBetweenPoints(I1OII[0],I1OII[1]))
call SetUnitPositionLocFacingLocBJ(OOIOO,I1OII[2],I1OII[1])
call SetUnitFacingToFaceUnitTimed(OOIOO,O1I,.01)
call IssueTargetOrderById(OOIOO,$D000F,O1I)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call RemoveLocation(I1OII[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(I1IOO11O())then
call SetUnitTimeScalePercent(OOIOO,100.)
call UnitRemoveAbility(OOIOO,'Avul')
return
endif
call TriggerSleepAction(.6)
call SetUnitTimeScalePercent(OOIOO,80.)
call SetUnitAnimation(OOIOO,"spell throw")
call TriggerSleepAction(.25)
call SetUnitTimeScalePercent(OOIOO,100.)
call UnitRemoveAbility(OOIOO,'Avul')
endfunction
function I1IO1I1O takes nothing returns boolean
return GetSpellAbilityId()=='A06P'
endfunction
function I1IO1OIO takes nothing returns nothing
local unit u=GetTriggerUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2=GetSpellTargetX()
local real y2=GetSpellTargetY()
call O1OOOIO(u,OO1II1O(x,y,x2,y2),OO1IIOO(x,y,x2,y2),550,1,IIOOO1O)
call PauseUnit(u,true)
call SetUnitTimeScale(u,.8)
call SetUnitAnimationWithRarity(u,"spell slam",RARITY_RARE)
set u=null
endfunction
function I1IO1O1O takes nothing returns nothing
set I1OII[0]=GetUnitLoc(I1IIO[I1O1O])
call PauseUnit(I1IIO[I1O1O],false)
call CreateNUnitsAtLoc(1,'e01Z',IIO1O[I1O1O],I1OII[0],bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,8)
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A06M')
call SetUnitAbilityLevelSwapped('A06M',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A06P',I1IIO[I1O1O]))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D009F)
call CreateNUnitsAtLoc($A,'u002',Player($F),I1OII[0],bj_UNIT_FACING)
call SetUnitTimeScalePercent(I1IIO[I1O1O],80.)
call RemoveLocation(I1OII[0])
endfunction
function I1IO11OO takes unit u,unit u2 returns nothing
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x2=GetUnitX(u2)
local real y2=GetUnitY(u2)
local real a=bj_RADTODEG*Atan2(y2-y,x2-x)+GetRandomReal(-30,30)
local string es="Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl"
call UnitApplyTimedLife(CreateUnit(Player($F),'e01C',x,y,a),'BTLF',2)
call DestroyEffect(AddSpecialEffectTarget(es,u2,"head"))
call DestroyEffect(AddSpecialEffectTarget(es,u2,"chest"))
call DestroyEffect(AddSpecialEffectTarget(es,u2,"mount"))
call SetUnitPosition(u,x2+'d'*Cos(a*bj_DEGTORAD),y2+'d'*Sin(a*bj_DEGTORAD))
call SetUnitFacing(u,a)
call SetUnitAnimation(u,"Attack Slam")
call UnitDamageTarget(OOII1I,u2,GetRandomReal(325,375),true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_ACID,WEAPON_TYPE_WHOKNOWS)
call IssueImmediateOrderById(u2,$D0004)
endfunction
function I1IO111O takes unit u returns nothing
local unit tu=CreateUnit(Player($F),GetUnitTypeId(u),0,0,GetUnitFacing(u))
call SetUnitX(tu,GetUnitX(u))
call SetUnitY(tu,GetUnitY(u))
call SetUnitVertexColor(tu,$FF,$FF,$FF,$80)
call UnitAddAbility(tu,'Aloc')
call SetUnitColor(tu,GetPlayerColor(GetOwningPlayer(OOII1I)))
call GroupAddUnit(OI111I,tu)
set tu=null
endfunction
function I1I1IIIO takes nothing returns boolean
local unit u=GetFilterUnit()
local boolean b=IsUnitEnemy(u,GetOwningPlayer(OOII1I))and not IsUnitType(u,UNIT_TYPE_STRUCTURE)and GetUnitState(u,UNIT_STATE_LIFE)>0
set u=null
return b
endfunction
function I1I1IIOO takes nothing returns nothing
local unit u
local unit u2
local group g=CreateGroup()
local group g2=CreateGroup()
local boolexpr b=Condition(function I1I1IIIO)
call GroupAddGroup(OI111I,g)
if OOIIII then
call I1IO111O(OOII1I)
endif
loop
set u=FirstOfGroup(g)
exitwhen u==null
call GroupRemoveUnit(g,u)
call GroupEnumUnitsInRange(g2,GetUnitX(u),GetUnitY(u),500,b)
set u2=GroupPickRandomUnit(g2)
if u2==null then
call GroupRemoveUnit(OI111I,u)
if u!=OOII1I then
call RemoveUnit(u)
else
set OOIIII=false
endif
else
call GroupRemoveUnit(g,u2)
call I1IO11OO(u,u2)
endif
call GroupClear(g2)
endloop
set OOIIOI=OOIIOI+1
call DestroyGroup(g)
call DestroyGroup(g2)
call DestroyBoolExpr(b)
set u=null
set u2=null
set g=null
set g2=null
set b=null
if OOIIOI==$C then
loop
set u=FirstOfGroup(OI111I)
exitwhen u==null
call GroupRemoveUnit(OI111I,u)
if u!=OOII1I then
call RemoveUnit(u)
endif
endloop
else
call TimerStart(GetExpiredTimer(),.16,false,function I1I1IIOO)
endif
endfunction
function I1I1II1O takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit u2=GetSpellTargetUnit()
set OOIIOI=0
set OOII1I=u
set OOIIII=true
call TriggerSleepAction(0)
call PauseUnit(u,true)
call SetUnitInvulnerable(u,true)
call GroupAddUnit(OI111I,u)
call I1IO11OO(u,u2)
call I1IO111O(u)
call TimerStart(CreateTimer(),1,false,function I1I1IIOO)
call PauseUnit(u,false)
call SetUnitInvulnerable(u,false)
endfunction
function I1I1IOIO takes nothing returns boolean
return GetSpellAbilityId()=='ANfd'
endfunction
function I1I1IOOO takes nothing returns nothing
local trigger t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function I1I1IOIO))
call TriggerAddAction(t,function I1I1II1O)
set t=null
endfunction
function I1I1IO1O takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,OI1IIOO)or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(OI1IIIO,F,OI1I11O,true,false,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldBuff.mdl",F,"chest"))
endif
set F=null
return false
endfunction
function I1I1I1IO takes nothing returns nothing
call OO1IOIO(OI1II1O,GetUnitX(OI1IIIO),GetUnitY(OI1IIIO))
endfunction
function I1I1I1OO takes nothing returns nothing
set OI1IO1O[0]=OI1IO1O[0]+1
call GroupEnumUnitsInRange(OII1O,GetUnitX(OI1IIIO),GetUnitY(OI1IIIO),500,Condition(function I1I1IO1O))
if OI1IO1O[0]==OI1IO1O[1]or GetWidgetLife(OI1IIIO)<.41 then
call KillUnit(OI1II1O)
call PauseTimer(OI1IOIO)
call PauseTimer(OI1IOOO)
set OI1II1O=null
endif
endfunction
function I1I1I11O takes nothing returns nothing
call KillUnit(OI1II1O)
set OI1II1O=null
set OI1II1O=CreateUnit(GetTriggerPlayer(),'e01D',GetUnitX(OI1IIIO),GetUnitY(OI1IIIO),0)
call SetUnitTimeScale(OI1II1O,1.5)
set OI1IO1O[0]=0
call TimerStart(OI1IOIO,OI1I1IO,true,function I1I1I1OO)
call TimerStart(OI1IOOO,.05,true,function I1I1I1IO)
endfunction
function I1I1OIIO takes nothing returns boolean
return GetLearnedSkill()=='A00I' and IsUnitIllusion(GetTriggerUnit())!=true
endfunction
function I1I1OIOO takes nothing returns nothing
set OI1I1IO=.6-.2*GetUnitAbilityLevel(GetLearningUnit(),'A00I')
set OI1I11O='d'*GetUnitAbilityLevel(GetLearningUnit(),'A00I')
set OI1IO1O[1]=20*GetUnitAbilityLevel(GetLearningUnit(),'A00I')
if OI1I1OO then
set OI1IIIO=GetLearningUnit()
set OI1IIOO=GetOwningPlayer(OI1IIIO)
set OI1OIIO=CreateTrigger()
call TriggerRegisterUnitEvent(OI1OIIO,OI1IIIO,EVENT_UNIT_SPELL_EFFECT)
call TriggerAddAction(OI1OIIO,function I1I1I11O)
set OI1I1OO=false
endif
endfunction
function I1I1OI1O takes nothing returns boolean
return(GetSpellAbilityId()=='A080')
endfunction
function I1I1OOIO takes nothing returns nothing
call PlaySoundOnUnitBJ(O11I1O,'d',GetTriggerUnit())
endfunction
function Trig_Thunderblind_issue_Func001001 takes nothing returns boolean
return(III11O==GetTriggerPlayer())
endfunction
function I1I1OO1O takes nothing returns boolean
return(I1O1IO)
endfunction
function I1I1O1IO takes nothing returns nothing
if((III11O==GetTriggerPlayer()))then
call PlaySoundBJ(IIII1OI)
endif
if(I1I1OO1O())then
set I1O1IO=false
call DisplayTimedTextToForce(OOOIIIO(GetTriggerPlayer()),5.,("　　　　　　　　　　　　　　　|Cffffcc00不啟動移動鏡頭 |r"))
else
set I1O1IO=true
call DisplayTimedTextToForce(OOOIIIO(GetTriggerPlayer()),5.,("　　　　　　　　　　　　　　　|Cffffcc00啟動移動鏡頭 |r"))
endif
endfunction
function I1I1O11O takes nothing returns boolean
return(GetSpellAbilityId()=='ACst')
endfunction
function I1I11IIO takes nothing returns boolean
return(I1O1IO)
endfunction
function I1I11IOO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
set OIO1O[0]=DistanceBetweenPoints(I1OII[0],I1OII[1])
set OIO1O[1]=AngleBetweenPoints(I1OII[0],I1OII[1])
if(I1I11IIO())then
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),I1OII[1],.4)
endif
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call O1OO11O(GetTriggerUnit(),OIO1O[0],OIO1O[1],.4,IIO1IOO,null,.05,7,9,true,0,true,0)
endfunction
function I1I11OIO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(I1IIO[I1O1O])
call AddSpecialEffectLocBJ(I1OII[0],"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'e01Z',IIO1O[I1O1O],I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'AOw2')
call SetUnitUserData(bj_lastCreatedUnit,46)
call IssueImmediateOrderById(bj_lastCreatedUnit,$D009F)
call RemoveLocation(I1OII[0])
endfunction
function I1I11O1O takes nothing returns boolean
return(GetSpellAbilityId()=='A04B')
endfunction
function I1I111IO takes nothing returns nothing
set IIO1I[1]=400.
set IIO1I[2]=600.
set IIO1I[3]=800.
set IIO1I[4]=1000.
set IO1II=0
set IOOII=GetTriggerUnit()
set IOOOI=GetUnitLoc(GetTriggerUnit())
set IOI1I=GetUnitFacing(GetTriggerUnit())
set IO1OI=GetRandomReal(0,360)
set II1II=(II1II*RSignBJ(GetRandomReal(-1.,1)))
call EnableTrigger(IIO1OIO)
endfunction
function I1I1111O takes nothing returns boolean
return(IO1II<=IOIOI)
endfunction
function I1OIIIIO takes nothing returns boolean
return(IO1II>IOIII)
endfunction
function Trig_Danceofthunder_timer_Func001Func007Func001Func005001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Danceofthunder_timer_Func001Func007Func001Func005001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IOOII)))
endfunction
function Trig_Danceofthunder_timer_Func001Func007Func001Func005001003002002 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),IO11I)!=true)
endfunction
function Trig_Danceofthunder_timer_Func001Func007Func001Func005001003002 takes nothing returns boolean
return GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IOOII))),(IsUnitInGroup(GetFilterUnit(),IO11I)!=true))
endfunction
function I1OIIIOO takes nothing returns boolean
return GetBooleanAnd((IsUnitAliveBJ(GetFilterUnit())),(GetBooleanAnd((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(IOOII))),(IsUnitInGroup(GetFilterUnit(),IO11I)!=true))))
endfunction
function I1OIII1O takes nothing returns boolean
return(IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function I1OIIOIO takes nothing returns nothing
if not IsUnitInRangeLoc(GetEnumUnit(),I1IOI,IIOOI)then
return
endif
call GroupAddUnit(IO11I,GetEnumUnit())
if(I1OIII1O())then
call UnitDamageTargetBJ(IOOII,GetEnumUnit(),(IIO1I[GetUnitAbilityLevelSwapped('A04B',IOOII)]*.03),ATTACK_TYPE_MAGIC,DAMAGE_TYPE_UNIVERSAL)
endif
endfunction
function I1OIIOOO takes nothing returns boolean
return(IOO1I[bj_forLoopAIndex]!=null)
endfunction
function I1OIIO1O takes nothing returns boolean
return(IO1II<=(IOIII+IOIOI))
endfunction
function I1OII1IO takes nothing returns nothing
if(I1OIIO1O())then
set IO1II=(IO1II+2)
if(I1I1111O())then
set I1IOI=OOIOO1O(IOOOI,(IIOOI*CosBJ(IO1OI)),(IOI1I-90.))
call CreateNUnitsAtLoc(1,'n00L',GetOwningPlayer(IOOII),I1IOI,IOI1I)
call RemoveLocation(I1IOI)
call SetUnitFlyHeight(bj_lastCreatedUnit,(II11I+(IIOOI*SinBJ(IO1OI))),.0)
set IOO1I[IO1II]=bj_lastCreatedUnit
endif
if(I1OIIIIO())then
call RemoveUnit(IOO1I[(IO1II-IOIII)])
set IOO1I[(IO1II-IOIII)]=null
endif
call GroupClear(IO11I)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=IMinBJ(IO1II,IOIOI)
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(I1OIIOOO())then
set IIOII=((IO1II-bj_forLoopAIndex)+1)
set I1III=(IO1OI+(II1II*I2R(IIOII)))
set I1IOI=OOIOO1O(IOOOI,(II1OI*I2R(IIOII)),IOI1I)
set I1I1I=OOIOO1O(I1IOI,(IIOOI*CosBJ(I1III)),(IOI1I-90.))
call ForGroupBJ(OOI1OIO((IIOOI+100.),I1IOI,Condition(function I1OIIIOO)),function I1OIIOIO)
call SetUnitPositionLoc(IOO1I[bj_forLoopAIndex],I1I1I)
call RemoveLocation(I1IOI)
call RemoveLocation(I1I1I)
call SetUnitFlyHeight(IOO1I[bj_forLoopAIndex],(II11I+(IIOOI*SinBJ(I1III))),.0)
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
call DisableTrigger(GetTriggeringTrigger())
call RemoveLocation(IOOOI)
endif
endfunction
function I1OII11O takes nothing returns boolean
return(GetEventDamage()>.0)and(GetUnitTypeId(GetTriggerUnit())=='O01T')and(GetUnitTypeId(GetTriggerUnit())!='O01U')and(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())>=800.)and(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())<=1.)
endfunction
function I1OIOIIO takes nothing returns nothing
call UnitRemoveBuffsExBJ(1,2,GetTriggerUnit(),true,true)
endfunction
function I1OIOI1O takes nothing returns boolean
return(GetSpellAbilityId()=='A0H3')
endfunction
function I1OIOOIO takes nothing returns boolean
return(I1O1OI[2])and(GetUnitAbilityLevelSwapped('A0H6',GetTriggerUnit())>=2)
endfunction
function I1OIOOOO takes nothing returns nothing
set I1O1OI[3]=true
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
set OIO1O[0]=(AngleBetweenPoints(I1OII[0],I1OII[1])+90.)
if(I1OIOOIO())then
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],GetUnitFacing(GetTriggerUnit()))
call SetUnitScalePercent(bj_lastCreatedUnit,325.,325.,325.)
call UnitAddAbility(bj_lastCreatedUnit,'A0G4')
call UnitApplyTimedLifeBJ(8.,'BTLF',bj_lastCreatedUnit)
call SetUnitUserData(bj_lastCreatedUnit,30)
call O1IOIIO(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),18,OIO1O[0]-120.,60.,"carrionswarm",bj_lastCreatedUnit,.06,true)
endif
set bj_forLoopAIndex=-3
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[2]=OOIOO1O(I1OII[1],(150.*I2R(bj_forLoopAIndex)),OIO1O[0])
call CreateNUnitsAtLoc(1,'h03O',GetTriggerPlayer(),I1OII[2],.0)
call UnitApplyTimedLifeBJ((4.*I2R(GetUnitAbilityLevelSwapped('A0H3',GetTriggerUnit()))),'BTLF',bj_lastCreatedUnit)
call RemoveLocation(I1OII[2])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call TriggerSleepAction(1.5)
set I1O1OI[3]=false
endfunction
function I1OIO1IO takes nothing returns boolean
return(GetSpellAbilityId()=='A0F1')
endfunction
function I1OIO1OO takes nothing returns boolean
return(I1O1OI[3])and(GetUnitAbilityLevelSwapped('A0H6',GetTriggerUnit())>=1)
endfunction
function I1OIO11O takes nothing returns nothing
set I1O1OI[1]=true
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
if(I1OIO1OO())then
call CreateNUnitsAtLoc(4,'n02E',GetTriggerPlayer(),I1OII[0],GetUnitFacing(GetTriggerUnit()))
call SetUnitTimeScalePercent(bj_lastCreatedUnit,50.)
endif
call CreateNUnitsAtLoc(1,'nbdm',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call SetUnitAbilityLevelSwapped('A0EK',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0F1',GetTriggerUnit()))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0080)
call RemoveLocation(I1OII[0])
call TriggerSleepAction(1.5)
set I1O1OI[1]=false
endfunction
function I1OI1IOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0H4')
endfunction
function I1OI1I1O takes nothing returns nothing
local unit e
local unit e2
set I1O1OI[2]=true
set III1OI=GetTriggerPlayer()
set OIIO[1]=GetTriggerUnit()
set OIIO[2]=GetSpellTargetUnit()
set III11I=0
set I1OII[0]=GetUnitLoc(OIIO[1])
set I1OII[1]=GetUnitLoc(OIIO[2])
call CreateNUnitsAtLocFacingLocBJ(1,'h03M',III1OI,I1OII[0],I1OII[1])
set e=bj_lastCreatedUnit
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call SetUnitAnimation(e,"attack")
call StartTimerBJ(III1II,false,.35)
call TriggerSleepAction(.35)
call SetUnitPositionLocFacingLocBJ(e,GetUnitLoc(OIIO[2]),GetUnitLoc(OIIO[2]))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",e,"origin"))
call SetUnitAnimation(e,"spell")
call TriggerSleepAction(.3)
set I1OII[1]=GetUnitLoc(OIIO[2])
call CreateNUnitsAtLocFacingLocBJ(1,'h03N',III1OI,I1OII[1],I1OII[1])
call SetUnitAbilityLevelSwapped('A0H5',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0H4',OIIO[1]))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D009F)
call RemoveLocation(I1OII[1])
call TriggerSleepAction(.25)
call RemoveUnit(e)
call TriggerSleepAction(.6)
set I1O1OI[2]=false
endfunction
function pull21 takes nothing returns boolean
return(GetSpellAbilityId()=='A00F' and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))
endfunction
function pull22 takes nothing returns nothing
local unit dummyunit
local integer usesameskill=GetUnitCurrentOrder(GetTriggerUnit())
local unit dummyunit2=GetSpellTargetUnit()
local unit dummyunit3
call TriggerSleepAction(.1)
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),GetUnitLoc(dummyunit2),bj_UNIT_FACING)
set dummyunit3=bj_lastCreatedUnit
call UnitAddAbility(dummyunit3,'A076')
call IssueTargetOrder(dummyunit3,"thunderbolt",dummyunit2)
call UnitApplyTimedLifeBJ(1.,'BTLF',dummyunit3)
call TriggerSleepAction(0.9)
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set dummyunit=bj_lastCreatedUnit
call SetUnitUserData(dummyunit,51)
call UnitAddAbility(dummyunit,'A00F')
call IssueImmediateOrderById(GetTriggerUnit(),$D0004)
call SetUnitAbilityLevel(dummyunit,'A05K',GetUnitAbilityLevel(GetTriggerUnit(),'A00F'))
call IssueTargetOrderById(dummyunit,usesameskill,dummyunit2)
call UnitApplyTimedLifeBJ(11.,'BTLF',dummyunit)
endfunction
function pull11 takes nothing returns boolean
return(GetSpellAbilityId()=='A05K' and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))
endfunction
function pull12 takes nothing returns nothing
local unit dummyunit
local integer usesameskill=GetUnitCurrentOrder(GetTriggerUnit())
local unit dummyunit2=GetSpellTargetUnit()
local unit dummyunit3
call TriggerSleepAction(.1)
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),GetUnitLoc(dummyunit2),bj_UNIT_FACING)
set dummyunit3=bj_lastCreatedUnit
call UnitAddAbility(dummyunit3,'A076')
call IssueTargetOrder(dummyunit3,"thunderbolt",dummyunit2)
call UnitApplyTimedLifeBJ(1.,'BTLF',dummyunit3)
call TriggerSleepAction(0.9)
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
set dummyunit=bj_lastCreatedUnit
call SetUnitUserData(dummyunit,51)
call UnitAddAbility(dummyunit,'A05K')
call IssueImmediateOrderById(GetTriggerUnit(),$D0004)
call SetUnitAbilityLevel(dummyunit,'A05K',GetUnitAbilityLevel(GetTriggerUnit(),'A05K'))
call IssueTargetOrderById(dummyunit,usesameskill,dummyunit2)
call UnitApplyTimedLifeBJ(11.,'BTLF',dummyunit)
endfunction
function wuren1 takes nothing returns boolean
return(GetSpellAbilityId()=='A0CO')
endfunction
function wuren2 takes nothing returns nothing
local unit unitvision=GetSpellTargetUnit()
call UnitShareVision(unitvision,GetTriggerPlayer(),true)
if wurenu1==null then
set wurenu1=GetSpellTargetUnit()
call TriggerSleepAction(30.)
if wurenu1!=wurenu2 then
call UnitShareVision(wurenu1,GetTriggerPlayer(),false)
endif
set wurenu1=null
elseif wurenu2==null then
set wurenu2=GetSpellTargetUnit()
call TriggerSleepAction(30.)
if wurenu1!=wurenu2 then
call UnitShareVision(wurenu2,GetTriggerPlayer(),false)
endif
set wurenu2=null
else
call TriggerSleepAction(30.)
call UnitShareVision(unitvision,GetTriggerPlayer(),false)
endif
endfunction
function xiuman21 takes nothing returns boolean
return GetSpellAbilityId()=='A0IE'
endfunction
function xiuman22 takes nothing returns nothing
local unit unitvision=GetSpellTargetUnit()
call UnitShareVision(unitvision,GetTriggerPlayer(),true)
call TriggerSleepAction(25.)
call UnitShareVision(unitvision,GetTriggerPlayer(),false)
endfunction
function piancang1 takes nothing returns boolean
return(GetSpellAbilityId()=='A0IK')
endfunction
function piancang2 takes nothing returns nothing
local unit hidden=GetSpellTargetUnit()
call UnitAddAbility(hidden,'Apiv')
call TriggerSleepAction(4.+GetUnitAbilityLevel(GetTriggerUnit(),'A0IK')*2.)
call UnitRemoveAbility(hidden,'Apiv')
endfunction
function yuxi43 takes nothing returns nothing
local unit u=GetEnumUnit()
local unit newu=CreateUnitAtLoc(GetTriggerPlayer(),'e01Z',GetUnitLoc(u),0)
call UnitAddAbility(newu,'A0MD')
call SetUnitUserData(newu,52)
call SetUnitAbilityLevel(newu,'A0MD',GetUnitAbilityLevel(GetTriggerUnit(),'A0MD'))
call IssueTargetOrderById(newu,$D0267,u)
call UnitApplyTimedLife(newu,'BTLF',3.)
endfunction
function yuxi41 takes nothing returns boolean
return(GetSpellAbilityId()=='A0MD' and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))
endfunction
function yuxi42 takes nothing returns nothing
local integer count=0
if IsUnitAlly(GetTriggerUnit(),Player(0)) then
set count=5
endif
loop
call ForGroupBJ(GetRandomSubGroup(1, GetUnitsOfPlayerMatching(Player(count), Condition(function repick3))), function yuxi43)
set count=count+1
exitwhen count==5 or count==10
endloop
endfunction
function I1OI1OOO takes nothing returns boolean
return(III11I<5)
endfunction
function I1OI1O1O takes nothing returns nothing
local unit e
set III11I=(III11I+1)
if(I1OI1OOO())then
call StartTimerBJ(III1II,false,.45)
else
call PauseTimerBJ(true,III1II)
endif
set I1OII[0]=GetUnitLoc(OIIO[1])
set I1OII[1]=GetUnitLoc(OIIO[2])
call CreateNUnitsAtLocFacingLocBJ(1,'h03M',III1OI,I1OII[0],I1OII[1])
set e=bj_lastCreatedUnit
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call SetUnitAnimation(e,"attack")
call TriggerSleepAction(.35)
call SetUnitPositionLocFacingLocBJ(e,GetUnitLoc(OIIO[2]),GetUnitLoc(OIIO[2]))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",e,"origin"))
call SetUnitAnimation(e,"spell")
call TriggerSleepAction(.3)
set I1OII[1]=GetUnitLoc(OIIO[2])
call CreateNUnitsAtLocFacingLocBJ(1,'h03N',III1OI,I1OII[1],I1OII[1])
call SetUnitAbilityLevelSwapped('A0H5',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0H4',OIIO[1]))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D009F)
call RemoveLocation(I1OII[1])
call TriggerSleepAction(.25)
call RemoveUnit(e)
endfunction
function I1OI11OO takes nothing returns boolean
return(GetLearnedSkill()=='AOsh')
endfunction
function I1OI111O takes nothing returns nothing
call TriggerRegisterPlayerChatEvent(II1II1O,GetTriggerPlayer(),"-d",false)
endfunction
function I1OOIIOO takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
set O11OI[K]=(((O11OI[K])*1.)+((II1IO[K])*1.)*Cos(((IOOIO[K])*1.)*3.14159/180.))
set IIIOO[K]=(((IIIOO[K])*1.)+((II1IO[K])*1.)*Sin(((IOOIO[K])*1.)*3.14159/180.))
call SetUnitPosition(I1IOO[K],O11OI[K],IIIOO[K])
call SetUnitPosition(I1I1O[K],O11OI[K],IIIOO[K])
set O1OII[K]=O1OII[K]+1
if OO1II1O(O11OI[K],IIIOO[K],O111I[K],III1O[K])<64 or O1OII[K]>O1OOI[K]then
call RemoveUnit(I1IOO[K])
call RemoveUnit(I1I1O[K])
call SetUnitPosition(I1IIO[K],O111I[K],III1O[K])
call ShowUnit(I1IIO[K],true)
call SelectUnitForPlayerSingle(I1IIO[K],IIO1O[K])
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl",O111I[K],III1O[K]))
call OO1OIOO(K)
endif
endfunction
function I1OOII1O takes nothing returns boolean
return GetSpellAbilityId()=='AOsh'
endfunction
function I1OOIOIO takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
set IIO1O[K]=GetTriggerPlayer()
set I1IIO[K]=u
set I1IOO[K]=CreateUnit(GetTriggerPlayer(),'e026',GetUnitX(u),GetUnitY(u),0)
set I1I1O[K]=CreateUnit(GetTriggerPlayer(),'e026',GetUnitX(u),GetUnitY(u),0)
set O11OI[K]=GetUnitX(u)
set IIIOO[K]=GetUnitY(u)
set O111I[K]=GetSpellTargetX()
set III1O[K]=GetSpellTargetY()
set O1OII[K]=0
set O1OOI[K]=R2I(OO1II1O(GetUnitX(u),GetUnitY(u),GetSpellTargetX(),GetSpellTargetY())/IOOI1O)
set IOOIO[K]=OO1IIOO(GetUnitX(u),GetUnitY(u),GetSpellTargetX(),GetSpellTargetY())
set II1IO[K]=IOOI1O
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl",GetUnitX(u),GetUnitY(u)))
call ShowUnit(u,false)
call TimerStart(IO1OO[K],.03,true,function I1OOIIOO)
call TriggerSleepAction(.0)
call IssueImmediateOrderById(u,$D0004)
set u=null
endfunction
function I1OOIO1O takes nothing returns boolean
return(SubStringBJ(GetEventPlayerChatString(),1,2)=="-d")
endfunction
function I1OOI1IO takes nothing returns boolean
return(IOOI1O<20.)
endfunction
function I1OOI1OO takes nothing returns boolean
return(IOOI1O>60.)
endfunction
function Trig_Shadowmove_isse_Func003001 takes nothing returns boolean
return(III11O==GetTriggerPlayer())
endfunction
function I1OOI11O takes nothing returns nothing
set IOOI1O=S2R(SubStringBJ(GetEventPlayerChatString(),3,$A))
if(I1OOI1OO())then
set IOOI1O=60.
else
if(I1OOI1IO())then
set IOOI1O=20.
endif
endif
if((III11O==GetTriggerPlayer()))then
call PlaySoundBJ(IIII1OI)
endif
call DisplayTimedTextToForce(OOOIIIO(GetTriggerPlayer()),5.,("　　　　　　　　　　　　　　　|Cffffcc00已將影子移動間距調為 "+I2S(R2I(IOOI1O))))
endfunction
function I1OOOIOO takes nothing returns boolean
return(GetSpellAbilityId()=='ANab')
endfunction
function Trig_ShadowStrike_Func002002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_ShadowStrike_Func002002003002001 takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41)
endfunction
function Trig_ShadowStrike_Func002002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))
endfunction
function Trig_ShadowStrike_Func002002003002 takes nothing returns boolean
return GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())))
endfunction
function I1OOOI1O takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true),(GetBooleanAnd((GetUnitStateSwap(UNIT_STATE_LIFE,GetFilterUnit())>.41),(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()))))))!=null
endfunction
function I1OOOOIO takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",GetEnumUnit(),"Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(I2R(GetHeroStatBJ(0,GetTriggerUnit(),true))*(1+(1*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(100.+(100.*I2R(GetUnitAbilityLevelSwapped('ANab',GetTriggerUnit())))),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN)
endfunction
function I1OOOOOO takes nothing returns nothing
set I1OII[1]=GetUnitLoc(GetSpellTargetUnit())
set OO1II=OOI1OIO(350.,I1OII[1],Condition(function I1OOOI1O))
call ForGroupBJ(OO1II,function I1OOOOIO)
call DestroyGroup(OO1II)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=4
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
set I1OII[2]=OOIOO1O(I1OII[1],(50.*I2R(bj_forLoopBIndex)),(60.*I2R(bj_forLoopAIndex)))
call AddSpecialEffectLocBJ(I1OII[2],"Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayDamage.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(I1OII[2])
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(I1OII[1])
endfunction
function I1OOO1IO takes nothing returns nothing
call SetWidgetLife(U,OI1OI1O)
call UnitRemoveBuffsExBJ(1,2,U,false,false)
if GetUnitAbilityLevel(U,'B05N')==0 then
call PauseTimer(OI1OIOO)
endif
endfunction
function I1OOO1OO takes nothing returns boolean
return GetSpellAbilityId()=='Absk'
endfunction
function I1OOO11O takes nothing returns nothing
set U=GetTriggerUnit()
set OI1OI1O=GetWidgetLife(U)
call TimerStart(OI1OIOO,.01,true,function I1OOO1IO)
endfunction
function I1OO1IOO takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='AUts')
endfunction
function I1OO1I1O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('AUts',GetTriggerUnit())==2)
endfunction
function I1OO1OIO takes nothing returns nothing
call SetPlayerTechResearchedSwap('R00P',GetUnitAbilityLevelSwapped('AUts',GetTriggerUnit()),GetTriggerPlayer())
set killaddstr=GetPlayerId(GetTriggerPlayer())
if(I1OO1I1O())then
call DestroyTrigger(GetTriggeringTrigger())
else
set IIOOOO=GetTriggerUnit()
call TriggerRegisterUnitEvent(II1I1IO,IIOOOO,EVENT_UNIT_DAMAGED)
endif
endfunction
function I1OO1O1O takes nothing returns boolean
return(IIIIIO>400.)
endfunction
function I1OO11IO takes nothing returns nothing
set IIIIIO=(IIIIIO+GetEventDamage())
if(I1OO1O1O())then
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbility(IIOOOO,'AItc')
call UnitAddAbility(IIOOOO,'A036')
call EnableTrigger(I1OOOI[9])
endif
endfunction
function I1OO111O takes nothing returns boolean
return(GetSpellAbilityId()=='A06G')
endfunction
function I1O1IIIO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
set OIO1O[0]=AngleBetweenPoints(I1OII[0],I1OII[1])
set IIIIOI[0]=4
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],GetUnitFacing(GetTriggerUnit()))
call SetUnitScalePercent(bj_lastCreatedUnit,60.,60.,60.)
call UnitAddAbility(bj_lastCreatedUnit,'A0LK')
call SetUnitAbilityLevelSwapped('A0LK',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call UnitApplyTimedLifeBJ(6.,'BTLF',bj_lastCreatedUnit)
call SetUnitUserData(bj_lastCreatedUnit,34)
call O1IOIIO(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),IIIIOI[0],OIO1O[0]-$A,20.,"carrionswarm",bj_lastCreatedUnit,.1,false)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function I1O1II1O takes nothing returns boolean
return(GetSpellAbilityId()=='A094')
endfunction
function I1O1IOIO takes nothing returns boolean
return(GetUnitUserData(II1I)==0)
endfunction
function I1O1IOOO takes nothing returns nothing
set II1I=GetTriggerUnit()
set IOOI=GetSpellTargetUnit()
set rpcontrol[GetPlayerId(GetOwningPlayer(IOOI))]=false
call UnitAddAbility(II1I,'A0F2')
call SetUnitUserData(II1I,(GetUnitUserData(II1I)+1))
call SetUnitAbilityLevelSwapped('A0F2',GetTriggerUnit(),GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call SetUnitInvulnerable(II1I,true)
call SetUnitInvulnerable(IOOI,true)
call PauseUnit(II1I,true)
call PauseUnit(IOOI,true)
call SetUnitPathing(II1I,false)
call UnitAddAbility(II1I,'AIa4')
call UnitAddAbility(IOOI,'AIa4')
call DestroyEffect(IOII)
call AddSpecialEffectTargetUnitBJ("weapon",II1I,"Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl")
call SetUnitTimeScalePercent(II1I,300.)
set IOII=bj_lastCreatedEffect
call EnableTrigger(II1OIIO)
call OOIOI1O(2)
call DisableTrigger(II1OIIO)
set I1OII[0]=GetUnitLoc(II1I)
set I1OII[1]=GetUnitLoc(IOOI)
call SetUnitPositionLocFacingLocBJ(II1I,I1OII[0],I1OII[1])
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call OOIOI1O(.1)
call SetUnitAnimation(II1I,"slam")
call ResetUnitAnimation(IOOI)
call OOIOI1O(1.)
call SetUnitTimeScalePercent(II1I,100.)
set I1OII[0]=GetUnitLoc(IOOI)
call SetUnitInvulnerable(IOOI,false)
call UnitDamageTargetBJ(II1I,IOOI,(3000.+(750.*I2R(GetUnitAbilityLevelSwapped('A094',II1I)))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
set rpcontrol[GetPlayerId(GetOwningPlayer(IOOI))]=true
call AddSpecialEffectLocBJ(GetUnitLoc(IOOI),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call AddSpecialEffectLocBJ(GetUnitLoc(IOOI),"Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],100.,(90.*I2R(bj_forLoopAIndex)))
call AddSpecialEffectLocBJ(I1OII[1],"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=4
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],50.,(-45.+(90.*I2R(bj_forLoopBIndex))))
call AddSpecialEffectLocBJ(I1OII[1],"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(I1OII[1])
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
call PauseUnit(II1I,false)
call PauseUnit(IOOI,false)
call SetUnitInvulnerable(II1I,false)
call SetUnitPathing(II1I,true)
call RemoveLocation(I1OII[0])
call UnitRemoveAbility(II1I,'AIa4')
call UnitRemoveAbility(IOOI,'AIa4')
call TriggerSleepAction(30.)
call SetUnitUserData(II1I,(GetUnitUserData(II1I)-1))
if(I1O1IOIO())then
call UnitRemoveAbility(II1I,'A0F2')
call DestroyEffect(IOII)
endif
endfunction
function I1O1I1IO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(IOOI)
set I1OII[1]=OOIOO1O(I1OII[0],150.,(GetUnitFacing(II1I)+GetRandomReal(-80.,80.)))
call SetUnitPositionLocFacingLocBJ(II1I,I1OII[1],I1OII[0])
call SetUnitAnimationWithRarity(II1I,"attack",RARITY_FREQUENT)
call AddSpecialEffectLocBJ(I1OII[0],"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitAnimationWithRarity(IOOI,"death",RARITY_FREQUENT)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function I1O1I11O takes nothing returns nothing
set IIIIOI[0]=(GetHeroLevel(GetTriggerUnit())/5)
call SetUnitAbilityLevelSwapped('A0HQ',GetTriggerUnit(),IIIIOI[0])
endfunction
function I1O1OIOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0BA')
endfunction
function I1O1OI1O takes nothing returns nothing
set II1O=GetTriggerUnit()
call UnitAddAbility(II1O,'A0BG')
call SetUnitAbilityLevelSwapped('A0BG',GetTriggerUnit(),GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call StartTimerBJ(O11OO,false,10.)
endfunction
function I1O1OOOO takes nothing returns nothing
call UnitRemoveAbility(II1O,'A0BG')
endfunction
function I1O1O1IO takes nothing returns boolean
return (GetSpellAbilityId()=='A0YA' and GetUnitAbilityLevel(GetTriggerUnit(),'A0YW')==0) or GetSpellAbilityId()=='A0YW'
endfunction
function I1O1O1OO takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,GetOwningPlayer(O11IO))or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(O11IO,F,OIO1O[0],true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",F,"chest"))
endif
set F=null
return false
endfunction
function I1O1O11O takes nothing returns nothing
local unit u=GetTriggerUnit()
local integer I=1
set O11IO=u
set OIO1O[0]=105.+GetRandomReal(1.,20.)+GetHeroAgi(u,true)
loop
exitwhen I>6
set OIO1O[0]=GetItemLevel(UnitItemInSlot(u,I))+OIO1O[0]
set I=I+1
endloop
if GetUnitAbilityLevel(u,'A0YW')>0 then
set OIO1O[0]=OIO1O[0]*(6+(1*GetUnitAbilityLevel(u,'A0YW')))
if OIO1O[0]<=GetUnitAbilityLevel(u,'A0YW')*200+1600 then
set OIO1O[0]=GetUnitAbilityLevel(u,'A0YW')*200+1600
endif
else
set OIO1O[0]=OIO1O[0]*(2+(1*GetUnitAbilityLevel(u,'A0YA')))
if OIO1O[0]<=GetUnitAbilityLevel(u,'A0YA')*400 then
set OIO1O[0]=GetUnitAbilityLevel(u,'A0YA')*400
endif
endif
call CreateTextTagUnitBJ(I2S(R2I(OIO1O[0]))+"!",u,0,11.,100.,.0,.0,0)
call ShowTextTagForceBJ(false,bj_lastCreatedTextTag,bj_FORCE_ALL_PLAYERS)
call ShowTextTagForceBJ(true,bj_lastCreatedTextTag,OOOIIIO(GetTriggerPlayer()))
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,3.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,4.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call GroupEnumUnitsInRange(OII1O,GetUnitX(u),GetUnitY(u),1000.+GetUnitAbilityLevel(u,'A0YW')*100,Condition(function I1O1O1OO))
if GetUnitAbilityLevel(u,'A0YW')>0 and GetUnitAbilityLevel(u,'A0YW')<4 and GetRandomInt(1,linqicount)==4 then
call SetUnitAbilityLevelSwapped('A0YW',GetTriggerUnit(),GetUnitAbilityLevel(u,'A0YW')+1)
call CreateTextTagUnitBJ("卍拔提升",GetTriggerUnit(),0,14.,255,255,255,0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,32,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,4.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,6.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
set linqicount=7+GetUnitAbilityLevel(u,'A0YW')*7
endif
if GetUnitAbilityLevel(u,'A0YA')==4 and GetRandomInt(1,7)==4 and GetUnitAbilityLevel(u,'A0YW')==0 then
set linqicount=14
call SetPlayerAbilityAvailable(GetTriggerPlayer(),'A0YA',false)
call UnitAddAbility(GetTriggerUnit(),'A0YW')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A0YW')
call CreateTextTagUnitBJ("卍拔啟發",GetTriggerUnit(),0,14.,255,255,255,0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,32,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,4.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,6.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
endif
if linqicount>5 then
set linqicount=linqicount-1
endif
set u=null
endfunction
function I1O11IOO takes nothing returns boolean
return GetSpellAbilityId()=='Afod'
endfunction
function I1O11I1O takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit e=GetSpellTargetUnit()
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local integer I=1
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",u,"origin"))
set OIO1O[0]=(105.+GetRandomReal(1,20)+I2R(GetHeroStatBJ(1,GetTriggerUnit(),true)))
loop
exitwhen I>6
set OIO1O[0]=GetItemLevel(UnitItemInSlot(u,I))+OIO1O[0]
set I=I+1
endloop
set OIO1O[0]=OIO1O[0]*(.6+(.4*I2R(GetUnitAbilityLevel(u,'Afod'))))
if OIO1O[0]<=OI1OOOO[GetUnitAbilityLevel(u,'Afod')]then
set OIO1O[0]=OI1OOOO[GetUnitAbilityLevel(u,'Afod')]
endif
call UnitDamageTarget(u,e,OIO1O[0],true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call CreateTextTagUnitBJ(I2S(R2I(OIO1O[0]))+"!",e,0,11.,100.,.0,.0,0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,3.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,4.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call TriggerSleepAction(.0)
call SetUnitPosition(u,GetUnitX(e),GetUnitY(e))
call TriggerSleepAction(4.)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",GetUnitX(u),GetUnitY(u)))
call SetUnitPosition(u,x,y)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl",u,"origin"))
set u=null
set e=null
endfunction
function I1O11OOO takes nothing returns boolean
return((GetSpellAbilityId()=='A0M9' and GetUnitAbilityLevel(GetTriggerUnit(),'A0YV')==0) or GetSpellAbilityId()=='A0YV')
endfunction
function I1O11O1O takes nothing returns boolean
return(OO1IOI<=(500.+(500.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))))
endfunction
function I1O111IO takes nothing returns nothing
local real timing
call GroupClear(OOOO1I)
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
set OIO1O[0]=DistanceBetweenPoints(I1OII[0],I1OII[1])
set timing=OIO1O[0]/10000
set OIO1O[1]=AngleBetweenPoints(I1OII[0],I1OII[1])
if timing<.15 then
set timing=.15
elseif timing>1.5 then
set timing=1.5
endif
call O1OO11O(GetTriggerUnit(),OIO1O[0],OIO1O[1],timing,null,II1O1OO,.03,6,3,true,0,true,0)
set OO1I1I=GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())
set OO1IOI=((105.+GetRandomReal(1.,20.))+I2R(GetHeroStatBJ(1,GetTriggerUnit(),true)))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set OO1IOI=(I2R(GetItemLevel(UnitItemInSlotBJ(GetTriggerUnit(),bj_forLoopAIndex)))+OO1IOI)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set OO1IOI=(OO1IOI*(5.+(2*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))))
if(I1O11O1O())then
set OO1IOI=(500.+(500.*I2R(GetUnitAbilityLevelSwapped('A0M9',GetTriggerUnit()))))
endif
if GetUnitLevel(GetTriggerUnit())>15 and GetUnitAbilityLevel(GetTriggerUnit(),'A0M9')==2 and GetUnitAbilityLevel(GetTriggerUnit(),'A0YV')==0 then
call SetPlayerAbilityAvailable(GetTriggerPlayer(),'A0M9',false)
call UnitAddAbility(GetTriggerUnit(),'A0YV')
call SetUnitAbilityLevelSwapped('A0YV',GetTriggerUnit(),3)
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A0YV')
endif
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function I1O1111O takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitInGroup(F,OOOO1I)or IsUnitAlly(F,GetOwningPlayer(I1IIO[I1O1O]))or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call GroupAddUnit(OOOO1I,F)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\MissileDeath.mdl",F,"origin"))
call UnitDamageTarget(I1IIO[I1O1O],F,OO1IOI,true,false,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call CreateTextTagUnitBJ(I2S(R2I(OO1IOI))+"!",F,0,11.,100.,.0,.0,0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,3.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,4.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
endif
set F=null
return false
endfunction
function I11IIIIO takes nothing returns nothing
call GroupEnumUnitsInRange(OII1O,GetUnitX(I1IIO[I1O1O]),GetUnitY(I1IIO[I1O1O]),278.,Condition(function I1O1111O))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(I1IIO[I1O1O]),GetUnitY(I1IIO[I1O1O])))
endfunction
function I11III1O takes nothing returns boolean
return(GetSpellAbilityId()=='A0BW')
endfunction
function I11IIOIO takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call SetUnitUserData(bj_lastCreatedUnit,18)
call UnitApplyTimedLifeBJ(5.,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A0BX')
call SetUnitAbilityLevelSwapped('A0BX',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0BW',GetTriggerUnit()))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D009F)
call RemoveLocation(I1OII[0])
endfunction
function I11IIO1O takes nothing returns boolean
return(GetSpellAbilityId()=='A0BQ')
endfunction
function I11II1IO takes nothing returns nothing
set O111O=GetTriggerUnit()
call UnitAddAbility(O111O,'A0BR')
call SetUnitAbilityLevelSwapped('A0BR',GetTriggerUnit(),GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))
call StartTimerBJ(IIIIII,false,16.)
endfunction
function I11II11O takes nothing returns nothing
call UnitRemoveAbility(O111O,'A0BR')
endfunction
function I11IOIOO takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='Afbk')
endfunction
function I11IOI1O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('Afbk',GetTriggerUnit())==2)
endfunction
function I11IOOIO takes nothing returns nothing
set OIOI1I[7]=(.0+(240.*I2R(GetUnitAbilityLevelSwapped('Afbk',GetTriggerUnit()))))
set OIOOII[7]=(180.+(60.*I2R(GetUnitAbilityLevelSwapped('Afbk',GetTriggerUnit()))))
if(I11IOI1O())then
call DestroyTrigger(GetTriggeringTrigger())
else
call EnableTrigger(I1OOOI[7])
endif
endfunction
function I11IOO1O takes nothing returns boolean
return(GetUnitTypeId(GetSummoningUnit())=='H036')
endfunction
function I11IO1IO takes nothing returns boolean
return(GetUnitTypeId(GetSummonedUnit())=='H019')
endfunction
function I11IO1OO takes nothing returns nothing
if(I11IO1IO())then
call UnitRemoveAbility(GetSummonedUnit(),'A07I')
endif
endfunction
function I11I1IIO takes nothing returns boolean
return(GetSpellAbilityId()=='A0N2')
endfunction
function I11I1IOO takes nothing returns nothing
local unit u=GetSpellTargetUnit()
local real castlife=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)
local real targetlife=GetUnitState(u,UNIT_STATE_LIFE)
local real castptg=castlife/GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)
local real targetptg=targetlife/GetUnitState(u,UNIT_STATE_MAX_LIFE)
local real dam=targetlife
local integer loopindex=0
if castptg<targetptg or castlife<targetlife then
set dam=castlife
if dam>castptg*GetUnitState(u,UNIT_STATE_MAX_LIFE) then
set dam=castptg*GetUnitState(u,UNIT_STATE_MAX_LIFE)
endif
set OIO1O[0]=GetUnitStateSwap(UNIT_STATE_LIFE,u)
call UnitDamageTargetBJ(GetTriggerUnit(),u,targetlife-dam,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNKNOWN)
set OIO1O[1]=GetUnitStateSwap(UNIT_STATE_LIFE,u)
endif
call SetWidgetLife(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())+(OIO1O[0]-OIO1O[1])))
if GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)<targetptg then
call SetWidgetLife(GetTriggerUnit(),GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*targetptg)
endif
call AddSpecialEffectTargetUnitBJ("origin",u,"units\\creeps\\VoidWalker\\VoidWalker.mdl")
call DestroyEffect(bj_lastCreatedEffect)
loop
set castlife=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)
set targetlife=GetUnitState(u,UNIT_STATE_LIFE)
set dam=5
call TriggerSleepAction(.5)
if GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)<castlife then
set dam=dam+castlife-GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE) 
endif
if GetUnitState(u,UNIT_STATE_LIFE)>targetlife then
set dam=dam-targetlife+GetUnitState(u,UNIT_STATE_LIFE)
else
set dam=dam+targetlife-GetUnitState(u,UNIT_STATE_LIFE) 
endif
call UnitDamageTarget(GetTriggerUnit(),u,dam*GetUnitAbilityLevel(GetTriggerUnit(),'A0N2')/4,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
call SetWidgetLife(GetTriggerUnit(),GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+dam*GetUnitAbilityLevel(GetTriggerUnit(),'A0N2')/4)
set loopindex=loopindex+1
call AddSpecialEffectTargetUnitBJ("origin",u,"units\\creeps\\VoidWalker\\VoidWalker.mdl")
call DestroyEffect(bj_lastCreatedEffect)
exitwhen loopindex>GetUnitAbilityLevel(GetTriggerUnit(),'A0N2') or GetWidgetLife(u)<.41
endloop
endfunction
function I11I1OIO takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n029')or(GetUnitTypeId(GetTriggerUnit())=='n02D')
endfunction
function I11I1OOO takes nothing returns boolean
return(I11I1OIO())
endfunction
function I11I1O1O takes nothing returns nothing
call SetUnitAbilityLevelSwapped('ANd2',GetTriggerUnit(),3)
endfunction
function I11I11OO takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A0G5')
endfunction
function I11I111O takes nothing returns nothing
call SetPlayerTechResearchedSwap('R00J',GetUnitAbilityLevelSwapped('A0G5',GetTriggerUnit()),GetTriggerPlayer())
call SetUnitAbilityLevelSwapped('ANd2',GetSummonedUnit(),3)
endfunction
function I11OIIOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0CR')
endfunction
function dayou2 takes nothing returns boolean
if IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer()) and GetWidgetLife(GetFilterUnit())>.41 then
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),GetUnitLoc(GetFilterUnit()),GetUnitFacing(GetTriggerUnit()))
call SetUnitScalePercent(bj_lastCreatedUnit,300.,300.,300.)
call UnitAddAbility(bj_lastCreatedUnit,'A0ZG')
call SetUnitAbilityLevel(bj_lastCreatedUnit,'A0ZG',GetUnitAbilityLevel(GetTriggerUnit(),'A0CR'))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0081)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
endif
return false
endfunction
function I11OII1O takes nothing returns nothing
local group g=CreateGroup()
local integer loopindex=1
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[1]=GetSpellTargetLoc()
set I1OII[2]=OOIOO1O(I1OII[0],32.,AngleBetweenPoints(I1OII[0],I1OII[1]))
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],GetUnitFacing(GetTriggerUnit()))
call SetUnitScalePercent(bj_lastCreatedUnit,300.,300.,300.)
call UnitAddAbility(bj_lastCreatedUnit,'ACca')
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,I1OII[2])
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
loop
set I1OII[2]=OOIOO1O(I1OII[0],100.*loopindex,AngleBetweenPoints(I1OII[0],I1OII[1]))
call GroupEnumUnitsInRange(g,GetLocationX(I1OII[2]),GetLocationY(I1OII[2]),325.,Condition(function dayou2))
set loopindex=loopindex+1
exitwhen loopindex>28
call TriggerSleepAction(.005)
endloop
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
call RemoveLocation(I1OII[2])
endfunction
function I11OIOOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0CS')
endfunction
function I11OIO1O takes nothing returns nothing
set bigbig=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
set I1IO[4]=GetSpellAbilityUnit()
set IOIO[3]=GetUnitLoc(I1IO[4])
call AddSpecialEffectTargetUnitBJ("origin",I1IO[4],"Abilities\\Spells\\Other\\Tornado\\TornadoElementalSmall.mdl")
set IO1O[1]=bj_lastCreatedEffect
set IOOO[4]=.0
set IOOO[5]=2000.
set IOOO[6]=.0
set IOOO[7]=(100.+(20.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),IOIO[3],270.)
set I1IO[0]=bj_lastCreatedUnit
call SetUnitUserData(bj_lastCreatedUnit,35)
call PauseUnit(I1IO[4],true)
call SetUnitAnimation(I1IO[4],"attack")
call EnableTrigger(IOIIIIO)
call TriggerSleepAction(.6)
call SetUnitTimeScalePercent(I1IO[4],.0)
endfunction
function Trig_iz1_Func004002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_iz1_Func004002003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I1IO[4])))
endfunction
function I11OI1OO takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitEnemy(GetFilterUnit(),Player(bigbig)))))!=null
endfunction
function I11OI11O takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetEnumUnit())
set I1OII[1]=OOIOO1O(I1OII[0],15.,GetUnitFacing(GetEnumUnit()))
call SetUnitPositionLoc(GetEnumUnit(),I1OII[1])
call SetUnitFacingToFaceLocTimed(GetEnumUnit(),IOIO[3],.0)
call UnitDamageTargetBJ(I1IO[0],GetEnumUnit(),IOOO[7],ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function I11OOIIO takes nothing returns boolean
return(IOOO[4]>=IOOO[5])
endfunction
function I11OOIOO takes nothing returns nothing
set IOOO[4]=(IOOO[4]+15.)
set IOOO[6]=(IOOO[6]+1.)
call SetUnitFacingTimed(I1IO[4],IOOO[6],0)
set OO1II=OOI1OIO(800.,IOIO[3],Condition(function I11OI1OO))
call ForGroupBJ(OO1II,function I11OI11O)
call DestroyGroup(OO1II)
if(I11OOIIO())then
call SetUnitTimeScalePercent(I1IO[4],100.)
call SetUnitAnimation(I1IO[4],"spell slam")
call AddSpecialEffectLocBJ(IOIO[3],"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call DestroyEffect(IO1O[1])
call DisableTrigger(GetTriggeringTrigger())
set IOOO[4]=.0
set IOOO[5]=1000.
set IOOO[6]=.0
call RemoveLocation(IOIO[3])
call TriggerSleepAction(.2)
call EnableTrigger(IOIIIOO)
endif
endfunction
function Trig_iz3_Func003002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_iz3_Func003002003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I1IO[4])))
endfunction
function I11OOOIO takes nothing returns boolean
return(GetBooleanAnd((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false),(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I1IO[4])))))!=null
endfunction
function I11OOOOO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetEnumUnit())
set I1OII[1]=OOIOO1O(I1OII[0],-40.,GetUnitFacing(GetEnumUnit()))
call SetUnitPositionLoc(GetEnumUnit(),I1OII[1])
call UnitDamageTargetBJ(I1IO[0],GetEnumUnit(),IOOO[7],ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function I11OOO1O takes nothing returns boolean
return(IOOO[4]>=IOOO[5])
endfunction
function I11OO1IO takes nothing returns nothing
set IOOO[4]=(IOOO[4]+40.)
set IOIO[3]=GetUnitLoc(I1IO[4])
set OO1II=OOI1OIO(800.,IOIO[3],Condition(function I11OOOIO))
call ForGroupBJ(OO1II,function I11OOOOO)
call DestroyGroup(OO1II)
if(I11OOO1O())then
call SetUnitTimeScalePercent(I1IO[4],100.)
call PauseUnit(I1IO[4],false)
call DisableTrigger(GetTriggeringTrigger())
call RemoveLocation(IOIO[3])
set I1IO[4]=null
endif
endfunction
function I11OO11O takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
call OO1IOIO(I1IOO[K],GetUnitX(I1IIO[K]),GetUnitY(I1IIO[K]))
call O1I1IIO(GetUnitX(I1IIO[K]),GetUnitY(I1IIO[K]),GetRandomInt(3,$C),GetUnitFacing(I1IIO[K])-35,70,"breathoffrost",I1IOO[K])
set O1OII[K]=O1OII[K]+1
if O1OII[K]>=50 or GetWidgetLife(I1IIO[K])<.41 then
call SetUnitTimeScale(I1IIO[K],1)
call UnitApplyTimedLife(I1IOO[K],'BTLF',3.)
call OO1OIOO(K)
endif
endfunction
function I11O1IIO takes nothing returns boolean
return GetSpellAbilityId()=='AOww'
endfunction
function I11O1IOO takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',GetUnitX(u),GetUnitY(u),0)
call SetUnitUserData(e,43)
call UnitAddAbility(e,'A0ML')
call SetUnitAbilityLevel(e,'A0ML',GetUnitAbilityLevel(u,'AOww'))
call SetUnitTimeScale(e,3)
set I1IIO[K]=u
set I1IOO[K]=e
set O1OII[K]=0
set O1OOI[K]=4+4*GetUnitAbilityLevel(I1IIO[K],'AOww')
call TimerStart(IO1OO[K],.1,true,function I11OO11O)
set e=null
set u=null
endfunction
function I11O1I1O takes nothing returns boolean
return(GetSpellAbilityId()=='A027')
endfunction
function I11O1OIO takes nothing returns boolean
return(DistanceBetweenPoints(I1OII[0],I1OII[1])<=950.)
endfunction
function I11O1OOO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetSpellTargetUnit())
set I1OII[1]=GetUnitLoc(I1OO1I)
if(I11O1OIO())then
call IssueTargetOrderById(I1OO1I,$D000F,GetSpellTargetUnit())
endif
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[1])
endfunction
function I11O11IO takes nothing returns boolean
return(GetUnitTypeId(GetSummonedUnit())=='h01H')or(GetUnitTypeId(GetSummonedUnit())=='h01I')
endfunction
function I11O11OO takes nothing returns boolean
return(I11O11IO())
endfunction
function I11O111O takes nothing returns nothing
set I1OO1I=GetSummonedUnit()
endfunction
function I111IIOO takes nothing returns boolean
return(GetSpellAbilityId()=='A0FF')
endfunction
function I111II1O takes nothing returns nothing
set I1OII[0]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'n02L',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
set I11O=bj_lastCreatedUnit
call RemoveLocation(I1OII[0])
endfunction
function I111IOOO takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A0MR')
endfunction
function I111IO1O takes nothing returns nothing
call SetUnitAbilityLevelSwapped('A0Y9',GetTriggerUnit(),(GetUnitAbilityLevelSwapped('A0Y9',GetTriggerUnit())+1))
endfunction
function I111I1OO takes nothing returns boolean
return(GetSpellAbilityId()=='A0MR')
endfunction
function I111I11O takes nothing returns boolean
local unit damunit=GetFilterUnit()
if not(IsUnitAlly(damunit,GetOwningPlayer(songhealingtrig))or GetWidgetLife(damunit)<.41 or IsUnitType(damunit,UNIT_TYPE_STRUCTURE))then
call UnitDamageTargetBJ(songhealingtrig,damunit,songhealingdam,ATTACK_TYPE_HERO,DAMAGE_TYPE_UNIVERSAL)
endif
set damunit=null
return false
endfunction
function songhealing takes nothing returns nothing
local integer loopindex=0
local group damgroup=CreateGroup()
if songhealingtarg!=songhealingtrig then
call AddSpecialEffectTargetUnitBJ("origin",songhealingtarg,"Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endif
if IsUnitAlly(songhealingtarg,GetOwningPlayer(songhealingtrig)) then
loop
if (GetUnitState(songhealingtarg,UNIT_STATE_MAX_LIFE)-GetUnitState(songhealingtarg,UNIT_STATE_LIFE))<100 then
set songhealingdam=.5*(100+GetUnitStateSwap(UNIT_STATE_LIFE,songhealingtarg)-GetUnitStateSwap(UNIT_STATE_MAX_LIFE,songhealingtarg))
call GroupEnumUnitsInRange(damgroup,GetUnitX(songhealingtarg),GetUnitY(songhealingtarg),500,Condition(function I111I11O))
endif
call SetUnitState(songhealingtarg,UNIT_STATE_LIFE,GetUnitStateSwap(UNIT_STATE_LIFE,songhealingtarg)+100)
call TriggerSleepAction(.001)
set loopindex=loopindex+1
exitwhen loopindex>10*GetUnitAbilityLevelSwapped('A0MR',songhealingtrig)
endloop
else
loop
set songhealingdam=25
if GetUnitStateSwap(UNIT_STATE_LIFE,songhealingtarg)<50 then
call SetUnitState(songhealingtarg,UNIT_STATE_LIFE,1)
else
call SetUnitState(songhealingtarg,UNIT_STATE_LIFE,GetUnitStateSwap(UNIT_STATE_LIFE,songhealingtarg)-25)
endif
call GroupEnumUnitsInRange(damgroup,GetUnitX(songhealingtarg),GetUnitY(songhealingtarg),500,Condition(function I111I11O))
call TriggerSleepAction(.001)
set loopindex=loopindex+1
exitwhen loopindex>10*GetUnitAbilityLevelSwapped('A0MR',songhealingtrig)
endloop
endif
call DestroyGroup(damgroup)
set damgroup=null
endfunction
function I111OIIO takes nothing returns nothing
set songhealingtarg=GetSpellTargetUnit()
set songhealingtrig=GetTriggerUnit()
call AddSpecialEffectTargetUnitBJ("origin",songhealingtrig,"Abilities\\Spells\\Orc\\HealingWave\\HealingWaveTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call TriggerExecute(songhealingt)
endfunction
function I111OI1O takes nothing returns boolean
return(GetSpellAbilityId()=='A0Y9')
endfunction
function I111OOIO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set IIIOOO[0]=GetTriggerUnit()
call CreateNUnitsAtLoc(1,'e01Z',GetTriggerPlayer(),I1OII[0],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A0MS')
call SetUnitUserData(bj_lastCreatedUnit,44)
set IIIOOO[1]=bj_lastCreatedUnit
set IIIO1O=(2+(2*GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit())))
call IssueImmediateOrderById(IIIOOO[1],$D022E)
call StartTimerBJ(IIIOIO,true,.08)
call RemoveLocation(I1OII[0])
endfunction
function I111OO1O takes nothing returns boolean
return(IIIO1O==0)
endfunction
function I111O1IO takes nothing returns nothing
call OO1IOIO(IIIOOO[1],GetUnitX(IIIOOO[0]),GetUnitY(IIIOOO[0]))
call IssueImmediateOrderById(IIIOOO[1],$D022E)
set IIIO1O=(IIIO1O-1)
if(I111OO1O())then
call KillUnit(IIIOOO[1])
call PauseTimerBJ(true,IIIOIO)
endif
endfunction
function I111O11O takes nothing returns boolean
return(GetSpellAbilityId()=='A0FF')
endfunction
function I1111IIO takes nothing returns nothing
call KillUnit(I11O)
call RemoveUnit(I11O)
endfunction
function I1111I1O takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A0FD')
endfunction
function I1111OIO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0FD',GetTriggerUnit())==2)
endfunction
function I1111OOO takes nothing returns nothing
call SetPlayerTechResearchedSwap('R00Q',GetUnitAbilityLevelSwapped('A0FD',GetTriggerUnit()),GetTriggerPlayer())
if(I1111OIO())then
call UnitAddAbility(GetTriggerUnit(),'A0CZ')
endif
endfunction
function I11111IO takes nothing returns boolean
return(GetUnitTypeId(GetSummonedUnit())=='e00M')
endfunction
function I11111OO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
call UnitApplyTimedLifeBJ(.01,'BTLF',GetSummonedUnit())
call CreateNUnitsAtLoc(1,'e00M',GetOwningPlayer(GetSummoningUnit()),I1OII[0],bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,30.)
call UnitApplyTimedLifeBJ((7.*I2R(GetUnitAbilityLevelSwapped('A0A4',GetSummoningUnit()))),'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'e01Z',GetOwningPlayer(GetSummoningUnit()),I1OII[0],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ((7.*I2R(GetUnitAbilityLevelSwapped('A0A4',GetSummoningUnit()))),'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'AEtq')
call IssueImmediateOrderById(bj_lastCreatedUnit,$D00D8)
call RemoveLocation(I1OII[0])
endfunction
function OIIIIIIO takes nothing returns boolean
return(GetSpellAbilityId()=='ACfb')
endfunction
function OIIIIIOO takes nothing returns nothing
set OI1III=GetSpellTargetUnit()
call PlaySoundOnUnitBJ(O111OO,'d',GetSpellTargetUnit())
call AddSpecialEffectTargetUnitBJ("overhead",GetSpellTargetUnit(),"Abilities\\Spells\\Items\\AIco\\CrownOfCmndTarget.mdl")
set OI1IOI=bj_lastCreatedEffect
call EnableTrigger(IOIOO1O)
call TriggerSleepAction(20.)
call DisableTrigger(IOIOO1O)
call DestroyEffect(OI1IOI)
set OI1III=null
endfunction
function OIIIIOIO takes nothing returns boolean
return(GetTriggerUnit()==OI1III)
endfunction
function OIIIIOOO takes nothing returns nothing
if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST or GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CHANNEL then
call IssueImmediateOrderById(GetTriggerUnit(),$D0004)
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Spells\\Undead\\ReplenishHealth\\ReplenishHealthCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
return
endif
if GetIssuedOrderId()>=$D0028 and GetIssuedOrderId()<=$D002D then
call IssueImmediateOrderById(GetTriggerUnit(),$D0004)
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Spells\\Undead\\ReplenishHealth\\ReplenishHealthCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endif
endfunction
function OIIII1IO takes nothing returns nothing
set IIIIOI[0]=(GetHeroLevel(GetTriggerUnit())/5)
call SetUnitAbilityLevelSwapped('A050',GetTriggerUnit(),IIIIOI[0])
endfunction
function OIIII11O takes nothing returns boolean
local unit F=GetFilterUnit()
if not(IsUnitAlly(F,GetOwningPlayer(O11IO))or GetWidgetLife(F)<.41 or IsUnitType(F,UNIT_TYPE_STRUCTURE))then
call SetUnitX(F,OIO1O[0])
call SetUnitY(F,OIO1O[1])
call UnitDamageTarget(O11IO,F,OIO1O[2],true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNKNOWN,WEAPON_TYPE_WHOKNOWS)
endif
set F=null
return false
endfunction
function OIIIOIIO takes nothing returns boolean
return GetSpellAbilityId()=='ANrf'
endfunction
function OIIIOIOO takes nothing returns nothing
set O11IO=GetTriggerUnit()
set OIO1O[0]=GetSpellTargetX()
set OIO1O[1]=GetSpellTargetY()
set OIO1O[2]=$C8+$C8*GetUnitAbilityLevel(O11IO,'ANrf')
call DestroyEffect(AddSpecialEffect("war3mapImported\\star aura.mdx",GetSpellTargetX(),GetSpellTargetY()))
call GroupEnumUnitsInRange(OII1O,GetSpellTargetX(),GetSpellTargetY(),300+'d'*GetUnitAbilityLevel(O11IO,'ANrf'),Condition(function OIIII11O))
endfunction
function OIIIOOIO takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A0E5')
endfunction
function OIIIOOOO takes nothing returns nothing
call UnitAddAbility(GetTriggerUnit(),'A0LD')
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A0LD')
call SetUnitAbilityLevelSwapped('A0LD',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0E5',GetTriggerUnit()))
endfunction
function OIIIO1IO takes nothing returns boolean
return GetSpellAbilityId()=='A0ED'
endfunction
function OIIIO1OO takes nothing returns nothing
local unit u=GetTriggerUnit()
local unit t=GetSpellTargetUnit()
call TriggerSleepAction(.0)
if GetWidgetLife(t)>.41 and GetRandomInt(1,'d')<=99 then
call SetUnitPosition(u,GetUnitX(t),GetUnitY(t))
call UnitDamageTarget(u,t,750,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",t,"origin"))
endif
set u=null
set t=null
endfunction
function OIII1IIO takes nothing returns boolean
return(GetSpellAbilityId()=='A0JZ')
endfunction
function OIII1IOO takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function OIII1I1O takes nothing returns nothing
if(OIII1IOO())then
call SetUnitManaBJ(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetSpellTargetUnit())-(100.+(200.*I2R(GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))))))
call AddSpecialEffectTargetUnitBJ("origin",GetSpellTargetUnit(),"Abilities\\Spells\\NightElf\\ManaBurn\\ManaBurnTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call CreateTextTagUnitBJ(I2S(($C8*GetUnitAbilityLevelSwapped(GetSpellAbilityId(),GetTriggerUnit()))),GetSpellTargetUnit(),0,10.,32.,32.,100.,0)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,3.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,4.)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
endif
endfunction
function OIII1OOO takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
call SetUnitPosition(I1IIO[K],GetUnitX(I1IOO[K]),GetUnitY(I1IOO[K]))
set O1OII[K]=O1OII[K]+1
if O1OII[K]==4 then
set O1OII[K]=0
call IssueTargetOrderById(I1IIO[K],$D007F,I1IOO[K])
set O1OOI[K]=O1OOI[K]+1
if O1OOI[K]==$C then
call UnitApplyTimedLife(I1IIO[K],'BTLF',2.)
call OO1OIOO(K)
endif
endif
endfunction
function OIII1O1O takes nothing returns boolean
return GetSpellAbilityId()=='A0E5'
endfunction
function OIII11IO takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',GetUnitX(u),GetUnitY(u),0)
local unit t=GetSpellTargetUnit()
call UnitAddAbility(e,'A0E6')
call SetUnitUserData(e,23)
call SetUnitAbilityLevel(e,'A0E6',GetUnitAbilityLevel(u,'A0E5'))
call IssueTargetOrderById(e,$D007F,t)
set I1IIO[K]=e
set I1IOO[K]=t
set O1OII[K]=0
set O1OOI[K]=0
call TimerStart(IO1OO[K],.25,true,function OIII1OOO)
set u=null
set e=null
set t=null
endfunction
function OIII111O takes nothing returns boolean
return(GetLearnedSkill()=='AIsb')
endfunction
function OIIOIIIO takes nothing returns nothing
call SetUnitAbilityLevelSwapped('A0N4',GetTriggerUnit(),GetUnitAbilityLevelSwapped('AIsb',GetTriggerUnit()))
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A0N4')
set teateathreeplayer=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))
call EnableTrigger(I1OOOI[$F])
endfunction
function OIIOII1O takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
call SetUnitPosition(I1IIO[K],GetUnitX(I1I1O[K]),GetUnitY(I1I1O[K]))
call IssueTargetOrderById(I1IIO[K],$D007F,I1IOO[K])
set O1OII[K]=O1OII[K]+1
if O1OII[K]==5 then
call OO1OIOO(K)
endif
endfunction
function OIIOIOIO takes nothing returns boolean
return GetSpellAbilityId()=='A0BP'
endfunction
function OIIOIOOO takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local unit e=CreateUnit(GetTriggerPlayer(),'e01Z',GetUnitX(u),GetUnitY(u),GetUnitFacing(u))
local unit t=GetSpellTargetUnit()
call SetUnitUserData(e,17)
call UnitAddAbility(e,'A0C6')
call SetUnitAbilityLevel(e,'A0C6',GetUnitAbilityLevel(u,'A0BP'))
call IssueTargetOrderById(e,$D007F,t)
call UnitApplyTimedLife(e,'BTLF',5.)
set I1IIO[K]=e
set I1IOO[K]=t
set I1I1O[K]=u
set O1OII[K]=0
call TimerStart(IO1OO[K],.1,true,function OIIOII1O)
set t=null
set u=null
set e=null
endfunction
function OIIOI1IO takes nothing returns boolean
return(GetSpellAbilityId()=='A0K0')
endfunction
function OIIOI1OO takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0K0',GetTriggerUnit())==2)
endfunction
function OIIOI11O takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0K0',GetTriggerUnit())==1)
endfunction
function OIIOOIIO takes nothing returns nothing
set I1OII[0]=GetUnitLoc(GetTriggerUnit())
set I1OII[2]=GetUnitLoc(GetSpellTargetUnit())
set IIIIOO=I2R(GetHeroStatBJ(1,GetTriggerUnit(),true))
if(OIIOI11O())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],256,(18.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLocFacingLocBJ(1,'n026',GetTriggerPlayer(),I1OII[1],I1OII[2])
call IssueTargetOrderById(bj_lastCreatedUnit,$D000F,GetSpellTargetUnit())
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if(OIIOI1OO())then
set IIIIOO=(IIIIOO*2.)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=30
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set I1OII[1]=OOIOO1O(I1OII[0],256,(12.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLocFacingLocBJ(1,'n026',GetTriggerPlayer(),I1OII[1],I1OII[2])
call IssueTargetOrderById(bj_lastCreatedUnit,$D000F,GetSpellTargetUnit())
call RemoveLocation(I1OII[1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
endif
call RemoveLocation(I1OII[0])
call RemoveLocation(I1OII[2])
call EnableTrigger(IOI11IO)
call TriggerSleepAction(11.)
call DisableTrigger(IOI11IO)
endfunction
function OIIOOI1O takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='n026' and not(IsUnitInGroup(GetAttacker(),yuzi2g)))
endfunction
function OIIOOOIO takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),IIIIOO,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endfunction
function OIIOOO1O takes nothing returns boolean
return(IsUnitIllusion(GetTriggerUnit())==false)and(GetLearnedSkill()=='A0AO')
endfunction
function OIIOO1IO takes nothing returns nothing
call ModifyHeroStat(1,GetTriggerUnit(),0,$F)
endfunction
function OIIOO11O takes nothing returns nothing
local integer K=(GetHandleId(GetExpiredTimer())-O1I1I)
local real x=(((O11OI[K])*1.)+(('d'*O1OII[K])*1.)*Cos(((IOOIO[K])*1.)*3.14159/180.))
local real y=(((IIIOO[K])*1.)+(('d'*O1OII[K])*1.)*Sin(((IOOIO[K])*1.)*3.14159/180.))
local unit e=CreateUnit(IIO1O[K],'e01Q',x,y,IOOIO[K])
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",x,y))
call SetUnitPosition(I1IOO[K],x,y)
call SetUnitAbilityLevel(e,'ACim',O1OOI[K])
call IssueImmediateOrderById(e,$D00D1)
call UnitApplyTimedLife(e,'BTLF',3.)
set O1OII[K]=O1OII[K]+1
if O1OII[K]>=15 then
call KillUnit(I1IOO[K])
call OO1OIOO(K)
endif
set e=null
endfunction
function yuzi21 takes nothing returns boolean
return GetUnitTypeId(GetAttacker())=='n026' and IsUnitInGroup(GetAttacker(),yuzi2g)
endfunction
function yuzi22 takes nothing returns nothing
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),yuzi2dam,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
endfunction
function OIIO1IIO takes nothing returns boolean
return GetSpellAbilityId()=='A0EZ'
endfunction
function OIIO1IOO takes nothing returns nothing
local integer K=OO1OIIO()
local unit u=GetTriggerUnit()
local real O1IIO1O=OO1IIOO(GetUnitX(u),GetUnitY(u),GetSpellTargetX(),GetSpellTargetY())
local unit e=CreateUnit(GetTriggerPlayer(),'e01E',GetUnitX(u),GetUnitY(u),O1IIO1O)
local unit e2
set yuzi2dam=(GetHeroStatBJ(1,u,true)*SquareRoot(SquareRoot(SquareRoot(GetHeroStatBJ(0,u,true)*GetHeroStatBJ(2,u,true)))))/4*GetUnitAbilityLevel(u,'A0EZ')
set IIO1O[K]=GetTriggerPlayer()
set O11OI[K]=GetUnitX(u)
set IIIOO[K]=GetUnitY(u)
set O1OII[K]=1
set O1OOI[K]=GetUnitAbilityLevel(u,'A0EZ')
set I1IOO[K]=e
set IOOIO[K]=O1IIO1O
call TimerStart(IO1OO[K],.03,true,function OIIOO11O)
set e=null
set u=null
set e2=CreateUnitAtLoc(GetTriggerPlayer(),'n026',GetSpellTargetLoc(),GetUnitFacing(u))
call GroupAddUnit(yuzi2g,e2)
call EnableTrigger(yuzi2)
call UnitAddAbility(e2,'A0YH')
call UnitApplyTimedLife(e2,'BTLF',10.)
call TriggerSleepAction(10.)
call GroupRemoveUnit(yuzi2g,e2)
set e2=null
endfunction
function InitCustomTeams takes nothing returns nothing
call SetPlayerTeam(Player(0),0)
call SetPlayerState(Player(0),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(1),0)
call SetPlayerState(Player(1),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(2),0)
call SetPlayerState(Player(2),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(3),0)
call SetPlayerState(Player(3),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(4),0)
call SetPlayerState(Player(4),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player($A),0)
call SetPlayerState(Player($A),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player($A),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player($A),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player($A),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player($A),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player($A),true)
call SetPlayerAllianceStateAllyBJ(Player($A),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player($A),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player($A),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player($A),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player($A),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player($A),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player($A),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player($A),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player($A),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player($A),true)
call SetPlayerAllianceStateVisionBJ(Player($A),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player($A),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player($A),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player($A),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player($A),Player(4),true)
call SetPlayerTeam(Player(5),1)
call SetPlayerState(Player(5),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(6),1)
call SetPlayerState(Player(6),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(7),1)
call SetPlayerState(Player(7),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(8),1)
call SetPlayerState(Player(8),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(9),1)
call SetPlayerState(Player(9),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player($B),1)
call SetPlayerState(Player($B),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player($B),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player($B),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player($B),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player($B),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player($B),true)
call SetPlayerAllianceStateAllyBJ(Player($B),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player($B),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player($B),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player($B),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player($B),Player(9),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(8),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player(9),true)
call SetPlayerAllianceStateVisionBJ(Player(5),Player($B),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(8),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player(9),true)
call SetPlayerAllianceStateVisionBJ(Player(6),Player($B),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(8),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player(9),true)
call SetPlayerAllianceStateVisionBJ(Player(7),Player($B),true)
call SetPlayerAllianceStateVisionBJ(Player(8),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(8),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(8),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(8),Player(9),true)
call SetPlayerAllianceStateVisionBJ(Player(8),Player($B),true)
call SetPlayerAllianceStateVisionBJ(Player(9),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player(9),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player(9),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player(9),Player(8),true)
call SetPlayerAllianceStateVisionBJ(Player(9),Player($B),true)
call SetPlayerAllianceStateVisionBJ(Player($B),Player(5),true)
call SetPlayerAllianceStateVisionBJ(Player($B),Player(6),true)
call SetPlayerAllianceStateVisionBJ(Player($B),Player(7),true)
call SetPlayerAllianceStateVisionBJ(Player($B),Player(8),true)
call SetPlayerAllianceStateVisionBJ(Player($B),Player(9),true)
endfunction
function main takes nothing returns nothing
local weathereffect we
local integer OIIO1OIO
local trigger t
local integer i
local integer OOOOOOO
local integer OOOOO1O
local version v
local integer OOOIOOO
local trigger T
call SetCameraBounds(-8192.+GetCameraMargin(CAMERA_MARGIN_LEFT),-8192.+GetCameraMargin(CAMERA_MARGIN_BOTTOM),8192.-GetCameraMargin(CAMERA_MARGIN_RIGHT),8192.-GetCameraMargin(CAMERA_MARGIN_TOP),-8192.+GetCameraMargin(CAMERA_MARGIN_LEFT),8192.-GetCameraMargin(CAMERA_MARGIN_TOP),8192.-GetCameraMargin(CAMERA_MARGIN_RIGHT),-8192.+GetCameraMargin(CAMERA_MARGIN_BOTTOM))
call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl","Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
call NewSoundEnvironment("Default")
call SetAmbientDaySound("AshenvaleDay")
call SetAmbientNightSound("AshenvaleNight")
call SetMapMusic("Music",true,0)
set O11IIO=CreateSound("Abilities\\Spells\\Human\\StormBolt\\ThunderBoltMissileDeath.wav",false,true,true,$A,$A,"SpellsEAX")
call SetSoundParamsFromLabel(O11IIO,"StormBolt")
call SetSoundDuration(O11IIO,$8BC)
call SetSoundDistances(O11IIO,1000.,10000.)
set O11I1O=CreateSound("Units\\Human\\KnightNoRider\\KnightNoRiderWarcry1.wav",false,true,true,$A,$A,"SpellsEAX")
call SetSoundParamsFromLabel(O11I1O,"KnightNoRiderWarcry")
call SetSoundDuration(O11I1O,$8A9)
call SetSoundChannel(O11I1O,$D)
call SetSoundPitch(O11I1O,1.1)
call SetSoundDistances(O11I1O,1000.,10000.)
call SetSoundDistanceCutoff(O11I1O,3000.)
set O11OIO=CreateSound("Units\\Human\\KnightNoRider\\KnightNoRiderYes2.wav",false,true,true,$A,$A,"SpellsEAX")
call SetSoundParamsFromLabel(O11OIO,"KnightNoRiderYes")
call SetSoundDuration(O11OIO,$835)
call SetSoundChannel(O11OIO,$D)
call SetSoundPitch(O11OIO,1.1)
call SetSoundDistances(O11OIO,1000.,10000.)
call SetSoundDistanceCutoff(O11OIO,3000.)
set O11OOO=CreateSound("Units\\Human\\KnightNoRider\\KnightNoRiderYesAttack1.wav",false,true,true,$A,$A,"SpellsEAX")
call SetSoundParamsFromLabel(O11OOO,"KnightNoRiderYesAttack")
call SetSoundDuration(O11OOO,$708)
call SetSoundChannel(O11OOO,$D)
call SetSoundPitch(O11OOO,1.1)
call SetSoundDistances(O11OOO,1000.,10000.)
call SetSoundDistanceCutoff(O11OOO,3000.)
set O11O1O=CreateSound("Units\\Undead\\Banshee\\BansheeDeath.wav",false,true,true,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(O11O1O,"BansheeDeath")
call SetSoundDuration(O11O1O,$94C)
call SetSoundDistances(O11O1O,1000.,4000.)
set O111IO=CreateSound("Units\\Undead\\ObsidianStatue\\ObsidianStatueMorph.wav",false,true,true,$A,$A,"SpellsEAX")
call SetSoundParamsFromLabel(O111IO,"ObsidianStatueMorph")
call SetSoundDuration(O111IO,$D38)
call SetSoundDistances(O111IO,1000.,10000.)
set O111OO=CreateSound("war3mapImported\\FS01.wav",false,true,true,$A,$A,"DefaultEAXON")
call SetSoundDuration(O111OO,$480)
call SetSoundChannel(O111OO,0)
call SetSoundVolume(O111OO,$7F)
call SetSoundPitch(O111OO,1.)
call SetSoundDistances(O111OO,1000.,10000.)
call SetSoundDistanceCutoff(O111OO,3000.)
call SetSoundConeAngles(O111OO,.0,.0,$7F)
call SetSoundConeOrientation(O111OO,.0,.0,.0)
set O1111O=CreateSound("war3mapImported\\FS02.wav",false,true,true,$A,$A,"DefaultEAXON")
call SetSoundDuration(O1111O,$810)
call SetSoundChannel(O1111O,0)
call SetSoundVolume(O1111O,'d')
call SetSoundPitch(O1111O,1.)
call SetSoundDistances(O1111O,1000.,10000.)
call SetSoundDistanceCutoff(O1111O,3000.)
call SetSoundConeAngles(O1111O,.0,.0,$7F)
call SetSoundConeOrientation(O1111O,.0,.0,.0)
set IIIIIII=CreateSound("war3mapImported\\FS03.wav",false,true,true,$A,$A,"DefaultEAXON")
call SetSoundDuration(IIIIIII,$BD0)
call SetSoundChannel(IIIIIII,0)
call SetSoundVolume(IIIIIII,'d')
call SetSoundPitch(IIIIIII,1.)
call SetSoundDistances(IIIIIII,1000.,10000.)
call SetSoundDistanceCutoff(IIIIIII,3000.)
call SetSoundConeAngles(IIIIIII,.0,.0,$7F)
call SetSoundConeOrientation(IIIIIII,.0,.0,.0)
set IIIIIOI=CreateSound("war3mapImported\\halloweenwolves.mp3",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundDuration(IIIIIOI,$C3A)
call SetSoundChannel(IIIIIOI,0)
call SetSoundVolume(IIIIIOI,$7F)
call SetSoundPitch(IIIIIOI,1.)
set IIIII1I=CreateSound("war3mapImported\\halloweenhumantaunt02.mp3",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundDuration(IIIII1I,$694)
call SetSoundChannel(IIIII1I,0)
call SetSoundVolume(IIIII1I,$7F)
call SetSoundPitch(IIIII1I,.9)
set IIIIOII=CreateSound("war3mapImported\\female_fireinhole.wav",false,true,true,$A,$A,"DefaultEAXON")
call SetSoundDuration(IIIIOII,$651)
call SetSoundChannel(IIIIOII,0)
call SetSoundVolume(IIIIOII,$7F)
call SetSoundPitch(IIIIOII,1.)
call SetSoundDistances(IIIIOII,1000.,10000.)
call SetSoundDistanceCutoff(IIIIOII,3000.)
call SetSoundConeAngles(IIIIOII,.0,.0,$7F)
call SetSoundConeOrientation(IIIIOII,.0,.0,.0)
set IIIIOOI=CreateSound("Sound\\Interface\\Warning.wav",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(IIIIOOI,"Warning")
call SetSoundDuration(IIIIOOI,$770)
call SetSoundPitch(IIIIOOI,1.5)
set IIIIO1I=CreateSound("war3mapImported\\nuclear.wav",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundDuration(IIIIO1I,$8BF)
call SetSoundChannel(IIIIO1I,0)
call SetSoundVolume(IIIIO1I,$7F)
call SetSoundPitch(IIIIO1I,1.)
set IIII1II=CreateSound("Sound\\Interface\\Error.wav",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(IIII1II,"InterfaceError")
call SetSoundDuration(IIII1II,614)
set IIII1OI=CreateSound("Sound\\Interface\\Hint.wav",false,false,false,$A,$A,"DefaultEAXON")
call SetSoundParamsFromLabel(IIII1OI,"Hint")
call SetSoundDuration(IIII1OI,$7D6)
call SetSoundVolume(IIII1OI,'d')
set IIII11I=CreateSound("Abilities\\Spells\\Undead\\UndeadMine\\AcolyteMining.wav",false,true,true,$A,$A,"SpellsEAX")
call SetSoundParamsFromLabel(IIII11I,"AcolyteMining")
call SetSoundDuration(IIII11I,4233)
call SetSoundPitch(IIII11I,.8)
call SetSoundDistances(IIII11I,1000.,100000.)
call SetSoundDistanceCutoff(IIII11I,3000.)
set I1O1OO=Rect(6208.,-3520.,7072.,-2848.)
set I1O11O=Rect(3872.,-5216.,4608.,-4448.)
set I11IIO=Rect(2400.,-6656.,3040.,-6016.)
set I11IOO=Rect(6368.,-7168.,6976.,-6592.)
set I11I1O=Rect(-6592.,3328.,-6016.,3872.)
set I11I1O=Rect(-6592.,3328.,-6016.,3872.)
set I11OIO=Rect(-4608.,3808.,-4064.,4320.)
set I11OOO=Rect(-3680.,5824.,-3136.,6432.)
set I11O1O=Rect(-6784.,6048.,-6240.,6528.)
set I111IO=Rect(4224.,-5536.,4960.,-4768.)
set I111OO=Rect(-4896.,4096.,-4256.,4608.)
set I1111O=Rect(6272.,-4512.,7040.,-3712.)
set OIIIIO=Rect(6048.,2432.,6720.,3008.)
set OIIIOO=Rect(-4352.,4800.,-2848.,6368.)
set OIII1O=Rect(3296.,-6720.,4064.,-5952.)
set OIIOIO=Rect(5952.,3968.,6528.,4544.)
set OIIOOO=Rect(-2688.,5856.,-2112.,6464.)
set OIIO1O=Rect(-6688.,3488.,-6016.,4128.)
set OII1IO=Rect(5376.,6112.,6336.,6560.)
set OII1OO=Rect(3840.,6176.,4672.,6656.)
set OII11O=Rect(-4288.,5696.,-3456.,6432.)
set OII11O=Rect(-4288.,5696.,-3456.,6432.)
set OIOIIO=Rect(1600.,5792.,2336.,6496.)
set OIOIOO=Rect(5856.,-4768.,7296.,-3392.)
set OIOI1O=Rect(7808.,-6784.,8192.,-5472.)
set OIOOIO=Rect(-7040.,7776.,-5760.,8192.)
set OIOOOO=Rect(-7488.,6880.,-6816.,7520.)
set OIOO1O=Rect(6048.,-1056.,6656.,-480.)
set OIO1IO=Rect(3104.,-4480.,3808.,-3872.)
set OIO1OO=Rect(2336.,-3648.,2944.,-3072.)
set OIO11O=Rect(-224.,-6592.,384.,-6016.)
set OI1IIO=Rect(1280.,-2688.,1952.,-1920.)
set OI1IOO=Rect(-6720.,2496.,-5184.,4448.)
set OI1I1O=Rect(-1120.,5952.,-448.,6560.)
set OI1OIO=Rect(224.,-2272.,768.,-1696.)
set OI1OOO=Rect(-4448.,-4512.,-3552.,-3616.)
set OI1O1O=Rect(-3872.,1600.,-3200.,2272.)
set OI11IO=Rect(-6592.,576.,-5952.,1120.)
set OI11OO=Rect(-800.,-1536.,-160.,-928.)
set OI111O=Rect(-7520.,6848.,-6816.,7520.)
set OOIIIO=Rect(-1632.,-736.,-928.,-32.)
set OOIIOO=Rect(5792.,4992.,6528.,5696.)
set OOII1O=Rect(5536.,5184.,6304.,6112.)
set OOIOIO=Rect(-1056.,1376.,4672.,3072.)
set OOIOOO=Rect(-1728.,-640.,-1088.,128.)
set OOIO1O=Rect(-928.,-1440.,-288.,-640.)
set OOI1IO=Rect(5344.,-5792.,5568.,-5536.)
set OOI1OO=Rect(-6304.,-6720.,-5600.,-5856.)
set OOI11O=Rect(-2816.,224.,-2080.,1024.)
set OOOIIO=Rect(-4128.,3040.,-3424.,3648.)
set OOOIOO=Rect(1504.,-6656.,2080.,-6176.)
set OOOI1O=Rect(-6976.,-5920.,-6272.,-5184.)
set OOOOIO=Rect(-1920.,-6560.,-1216.,-5952.)
set OOOOOO=Rect(-4032.,-6624.,-3104.,-6112.)
set OOOO1O=Rect(-6784.,-6560.,-6208.,-6080.)
set OOO1IO=Rect(-6720.,-5376.,-6048.,-4768.)
set OOO1OO=Rect(-6944.,-2912.,-5952.,-2304.)
set OOO11O=Rect(-6560.,-1408.,-5952.,-768.)
set OO1IIO=Rect(384.,5920.,1184.,6432.)
set OO1IOO=Rect(-6528.,1952.,-5952.,2528.)
set OO1I1O=Rect(-1216.,-1248.,-448.,-384.)
set OO1OIO=Rect(5664.,5440.,6336.,6304.)
set OO1OOO=Rect(-7136.,6400.,-6528.,7168.)
set OO1O1O=Rect(6720.,-7712.,7392.,-6880.)
set OO11IO=Rect(-5440.,4768.,-5152.,5056.)
set OO11OO=Rect(3168.,2496.,3808.,3808.)
set OO111O=Rect(-4064.,-2912.,-3456.,-2304.)
set O1IIIO=Rect(3136.,3168.,3872.,3936.)
set O1IIOO=Rect(6336.,6176.,6592.,6560.)
set O1II1O=Rect(-128.,32.,160.,352.)
set O1IOIO=Rect(-6976.,-6912.,-6656.,-6464.)
set O1IOOO=Rect(4512.,7552.,4736.,7840.)
set O1IO1O=Rect(-384.,320.,-96.,608.)
set O1IO1O=Rect(-384.,320.,-96.,608.)
set O1IO1O=Rect(-384.,320.,-96.,608.)
set O1I1IO=Rect(-7296.,-8192.,-6560.,-7488.)
set O1I1OO=Rect(-6496.,-7456.,-6304.,-7264.)
set O1I11O=Rect(-5568.,-8032.,-5248.,-7744.)
set O1OIIO=Rect(7008.,7552.,7296.,7840.)
set O1OIOO=Rect(-2144.,-1376.,-1824.,-992.)
set O1OI1O=Rect(7840.,-6560.,8064.,-6048.)
set O1OOIO=Rect(-6720.,7840.,-6176.,8032.)
set O1OOOO=Rect(-7232.,-8000.,-6880.,-7680.)
set O1OO1O=Rect(-6144.,-7840.,-5824.,-7488.)
set O1O1IO=Rect(6976.,-7520.,7456.,-7040.)
set I1111O=Rect(6272.,-4512.,7040.,-3712.)
set I1111O=Rect(6272.,-4512.,7040.,-3712.)
set O1O1OO=CreateCameraSetup()
call CameraSetupSetField(O1O1OO,CAMERA_FIELD_ZOFFSET,.0,.0)
call CameraSetupSetField(O1O1OO,CAMERA_FIELD_ROTATION,90.,.0)
call CameraSetupSetField(O1O1OO,CAMERA_FIELD_ANGLE_OF_ATTACK,304.,.0)
call CameraSetupSetField(O1O1OO,CAMERA_FIELD_TARGET_DISTANCE,1650.,.0)
call CameraSetupSetField(O1O1OO,CAMERA_FIELD_ROLL,.0,.0)
call CameraSetupSetField(O1O1OO,CAMERA_FIELD_FIELD_OF_VIEW,70.,.0)
call CameraSetupSetField(O1O1OO,CAMERA_FIELD_FARZ,5000.,.0)
call CameraSetupSetDestPosition(O1O1OO,-6823.,7002.7,.0)
set O1O11O=CreateCameraSetup()
call CameraSetupSetField(O1O11O,CAMERA_FIELD_ZOFFSET,.0,.0)
call CameraSetupSetField(O1O11O,CAMERA_FIELD_ROTATION,90.,.0)
call CameraSetupSetField(O1O11O,CAMERA_FIELD_ANGLE_OF_ATTACK,304.,.0)
call CameraSetupSetField(O1O11O,CAMERA_FIELD_TARGET_DISTANCE,1650.,.0)
call CameraSetupSetField(O1O11O,CAMERA_FIELD_ROLL,.0,.0)
call CameraSetupSetField(O1O11O,CAMERA_FIELD_FIELD_OF_VIEW,70.,.0)
call CameraSetupSetField(O1O11O,CAMERA_FIELD_FARZ,5000.,.0)
call CameraSetupSetDestPosition(O1O11O,6883.8,-7498.3,.0)
call OOO11IO()
call OOO11OO()
call OOO1OOO()
call OOO111O()
call ConfigureNeutralVictim()
set OOIOIIO=Filter(function OOOOI1O)
set filterIssueHauntOrderAtLocBJ=Filter(function IssueHauntOrderAtLocBJFilter)
set filterEnumDestructablesInCircleBJ=Filter(function OOI1IIO)
set filterGetUnitsInRectOfPlayer=Filter(function GetUnitsInRectOfPlayerFilter)
set filterGetUnitsOfTypeIdAll=Filter(function GetUnitsOfTypeIdAllFilter)
set filterGetUnitsOfPlayerAndTypeId=Filter(function GetUnitsOfPlayerAndTypeIdFilter)
set filterMeleeTrainedUnitIsHeroBJ=Filter(function MeleeTrainedUnitIsHeroBJFilter)
set filterLivingPlayerUnitsOfTypeId=Filter(function LivingPlayerUnitsOfTypeIdFilter)
set OOOOOOO=0
loop
exitwhen OOOOOOO==16
set bj_FORCE_PLAYER[OOOOOOO]=CreateForce()
call ForceAddPlayer(bj_FORCE_PLAYER[OOOOOOO],Player(OOOOOOO))
set OOOOOOO=OOOOOOO+1
endloop
set bj_FORCE_ALL_PLAYERS=CreateForce()
call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS,null)
set bj_cineModePriorSpeed=GetGameSpeed()
set bj_cineModePriorFogSetting=IsFogEnabled()
set bj_cineModePriorMaskSetting=IsFogMaskEnabled()
set OOOOOOO=0
loop
exitwhen OOOOOOO>=bj_MAX_QUEUED_TRIGGERS
set bj_queuedExecTriggers[OOOOOOO]=null
set bj_queuedExecUseConds[OOOOOOO]=false
set OOOOOOO=OOOOOOO+1
endloop
set bj_isSinglePlayer=false
set OOOOO1O=0
set OOOOOOO=0
loop
exitwhen OOOOOOO>=$C
if(GetPlayerController(Player(OOOOOOO))==MAP_CONTROL_USER and GetPlayerSlotState(Player(OOOOOOO))==PLAYER_SLOT_STATE_PLAYING)then
set OOOOO1O=OOOOO1O+1
endif
set OOOOOOO=OOOOOOO+1
endloop
set bj_isSinglePlayer=(OOOOO1O==1)
set bj_rescueSound=CreateSoundFromLabel("Rescue",false,false,false,$2710,$2710)
set bj_questDiscoveredSound=CreateSoundFromLabel("QuestNew",false,false,false,$2710,$2710)
set bj_questUpdatedSound=CreateSoundFromLabel("QuestUpdate",false,false,false,$2710,$2710)
set bj_questCompletedSound=CreateSoundFromLabel("QuestCompleted",false,false,false,$2710,$2710)
set bj_questFailedSound=CreateSoundFromLabel("QuestFailed",false,false,false,$2710,$2710)
set bj_questHintSound=CreateSoundFromLabel("Hint",false,false,false,$2710,$2710)
set bj_questSecretSound=CreateSoundFromLabel("SecretFound",false,false,false,$2710,$2710)
set bj_questItemAcquiredSound=CreateSoundFromLabel("ItemReward",false,false,false,$2710,$2710)
set bj_questWarningSound=CreateSoundFromLabel("Warning",false,false,false,$2710,$2710)
set bj_victoryDialogSound=CreateSoundFromLabel("QuestCompleted",false,false,false,$2710,$2710)
set bj_defeatDialogSound=CreateSoundFromLabel("QuestFailed",false,false,false,$2710,$2710)
call DelayedSuspendDecayCreate()
set v=VersionGet()
if(v==VERSION_REIGN_OF_CHAOS)then
set bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V0
else
set bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V1
endif
call InitQueuedTriggers()
call InitRescuableBehaviorBJ()
call InitDNCSounds()
call InitMapRects()
call InitSummonableCaps()
set OOOIOOO=0
loop
set bj_stockAllowedPermanent[OOOIOOO]=false
set bj_stockAllowedCharged[OOOIOOO]=false
set bj_stockAllowedArtifact[OOOIOOO]=false
set OOOIOOO=OOOIOOO+1
exitwhen OOOIOOO>$A
endloop
call SetAllItemTypeSlots($B)
call SetAllUnitTypeSlots($B)
set bj_stockUpdateTimer=CreateTimer()
call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INITIAL_DELAY,false,function OOOOIIO)
set bj_stockItemPurchased=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased,Player($F),EVENT_PLAYER_UNIT_SELL_ITEM,null)
call TriggerAddAction(bj_stockItemPurchased,function RemovePurchasedItem)
call DetectGameStarted()
call ExecuteFunc("OIIO1OOO")
set OIIO1OIO=1
set IOIIOII=CreateTrigger()
loop
exitwhen OIIO1OIO>=$A
set IO111OO[OIIO1OIO]=0
set OIIO1OIO=OIIO1OIO+1
endloop
call TriggerRegisterAnyUnitEventBJ(IOIIOII,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IOIIOII,Condition(function IOIO11II))
call TriggerAddAction(IOIIOII,function IOIO11OI)
set I1OOOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1OOOOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1OOOOI,Condition(function OIIII1OI))
call TriggerAddAction(I1OOOOI,function OIIII11I)
set I11I1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I11I1II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerRegisterAnyUnitEventBJ(I11I1II,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(I11I1II,Condition(function OIOIIOII))
call TriggerAddAction(I11I1II,function OIOIIOOI)
set OII1O1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OII1O1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OII1O1I,Condition(function OOIIOIII))
call TriggerAddAction(OII1O1I,function OOIIOIOI)
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OOII1O1I))
call TriggerAddAction(t,function OOII11II)
set t=null
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OOI11I1I))
call TriggerAddAction(t,function OOI11OII)
set t=null
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OOOI111I))
call TriggerAddAction(t,function OOOOIIII)
call TriggerAddAction(I1OI1OO,function OOOI11OI)
set t=null
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(t,Condition(function OOOOOO1I))
// call TriggerAddAction(t,function OOOOO1II)
call TriggerAddAction(t,function AcavFunction)
set t=null
set OI1OOII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1OOII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OI1OOII,Condition(function OO1IO1II))
call TriggerAddAction(OI1OOII,function OO1IO1OI)
call DisableTrigger(I1O11OO)
call TriggerRegisterAnyUnitEventBJ(I1O11OO,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(I1O11OO,Condition(function OO1IOO1I))
set I11I1OO=CreateTrigger()
set OI1OO1I=CreateTrigger()
set I11IIIO[1]=.3
set I11IIIO[2]=.25
set I11IIIO[3]=.2
set I11IIIO[4]=.15
call TriggerRegisterAnyUnitEventBJ(OI1OO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerRegisterAnyUnitEventBJ(OI1OO1I,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerRegisterAnyUnitEventBJ(OI1OO1I,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(OI1OO1I,Condition(function OO1OIIII))
call TriggerAddAction(OI1OO1I,function OO1OIIOI)
call TriggerAddAction(I11I1OO,function OO1I1OII)
call TriggerAddAction(I11I11O,function OO1I11II)
call TriggerRegisterAnyUnitEventBJ(I11OIOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I11OIOO,Condition(function OO1OI1OI))
call TriggerAddAction(I11OIOO,function OO1OI11I)
call DisableTrigger(I11OI1O)
call TriggerRegisterEnterRectSimple(I11OI1O,bj_mapInitialPlayableArea)
call TriggerAddCondition(I11OI1O,Condition(function OO1OI1II))
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function OO11O11I))
call TriggerAddAction(t,function OO111III)
set t=null
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IIIIOIOO))
call TriggerAddAction(t,function IIIIOI1O)
set t=null
set t=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(t,Condition(function IIOIII1O))
call TriggerAddAction(t,function IIOIIOIO)
call TriggerAddAction(OIIIOIO,function IIOIIIOO)
set t=null
set OO1111I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO1111I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OO1111I,Condition(function IIOII1IO))
call TriggerAddAction(OO1111I,function IIOII1OO)
set O1II11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1II11I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1II11I,Condition(function IIOOOOIO))
call TriggerAddAction(O1II11I,function IIOO1IIO)
set O1OI11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OI11I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1OI11I,Condition(function II1O111O))
call TriggerAddAction(O1OI11I,function II11IIOO)
set IIOI1OO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOI1OO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIOI1OO,Condition(function I1II11IO))
call TriggerAddAction(IIOI1OO,function I1II11OO)
set IIOO1IO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOO1IO,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IIOO1IO,Condition(function I1I1OIIO))
call TriggerAddAction(IIOO1IO,function I1I1OIOO)
set II1IOOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II1IOOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II1IOOO,Condition(function I1OOO1OO))
call TriggerAddAction(II1IOOO,function I1OOO11O)
set IOIII1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOIII1O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IOIII1O,Condition(function I11O1IIO))
call TriggerAddAction(IOIII1O,function I11O1IOO)
set i=0
set i=0
loop
exitwhen(i>1)
set IO[i]=0
set OO[i]=0
set IOI[i]=false
set I1I[i]=0
set OII[i]=0
set OOOI[i]=0
set IIOO[i]=0
set IOOO[i]=0
set O1IO[i]=0
set IIO1I[i]=0
set OII1I[i]=0
set OO1OI[i]=0
set OO11I[i]=false
set O1III[i]=false
set O1IOI[i]=CreateGroup()
set O1OII[i]=0
set O1OOI[i]=0
set O1O1I[i]=0
set O11II[i]=0
set O11OI[i]=0
set O111I[i]=0
set IIIIO[i]=0
set IIIOO[i]=0
set III1O[i]=0
set IIOIO[i]=0
set II1IO[i]=0
set II1OO[i]=0
set II11O[i]=0
set IOIIO[i]=0
set IOIOO[i]=0
set IOI1O[i]=0
set IOOIO[i]=0
set IOOOO[i]=0
set IOO1O[i]=0
set IO1IO[i]=0
set IO1OO[i]=CreateTimer()
set I1OOO[i]=0
set OIOOO[i]=""
set OIO1O[i]=0
set IIIIOI[i]=0
set II1I1I[i]=false
set II1OII[i]=0
set II1OOI[i]=0
set II1O1I[i]=0
set II11II[i]=0
set II111I[i]=0
set IOIIII[i]=false
set IOIIOI[i]=0
set IOII1I[i]=0
set IOIOII[i]=0
set IOIOOI[i]=0
set IOOOII[i]=0
set IOOOOI[i]=0
set IOOO1I[i]=0
set IOO1II[i]=false
set IO11II[i]=false
set I1IIII[i]=0
set I1O1OI[i]=false
set I1O11I[i]=""
set OIIIOI[i]=0
set OIII1I[i]=0
set OIIOII[i]=0
set OIIOOI[i]=""
set OIOIII[i]=""
set OIOI1I[i]=0
set OIOOII[i]=0
set OOI1II[i]=""
set OOOOII[i]=0
set OOO1OI[i]=0
set OO1III[i]=0
set OO11OI[i]=0
set O1IO1I[i]=0
set O1I1OI[i]=0
set O1OOOI[i]=false
set O11O1I[i]=0
set O111II[i]=0
set O111OI[i]=0
set IIOIOO[i]=false
set IIOOIO[i]=0
set IIO1OO[i]=0
set II1IOO[i]=0
set II1I1O[i]=0
set II11OO[i]=false
set II111O[i]=false
set IOIIIO[i]=false
set IOIIOO[i]=false
set IOII1O[i]=false
set IOIOIO[i]=0
set IOIOOO[i]=false
set IOIO1O[i]=false
set IOI1OO[i]=0
set IOI11O[i]=false
set IOO11O[i]=false
set IO1OIO[i]=0
set I1IOIO[i]=0
set I1IOOO[i]=false
set i=i+1
endloop
set OIO=CreateTimer()
set OOO=CreateTimer()
set O1O=CreateTimer()
set IIII=CreateTimer()
set IIOI=CreateTimer()
set i=0
loop
exitwhen(i>20)
set I11I[i]=0
set i=i+1
endloop
set OIOI=6
set i=0
loop
exitwhen(i>2)
set O1OI[i]=CreateTimer()
set OIOOOI[i]=CreateGroup()
set i=i+1
endloop
set O11I=CreateGroup()
set OOOO=CreateGroup()
set IIOOI=110.
set II1II=15.
set II1OI=20.
set II11I=130.
set IOIII=$8C
set IOIOI=40
set IO11I=CreateGroup()
set I1OOI=CreateTimer()
set OIIII=CreateGroup()
set i=0
loop
exitwhen(i>$C)
set OOOOI[i]=CreateTimer()
set i=i+1
endloop
set OO1II=CreateGroup()
set OII1O=CreateGroup()
set OIOIO=CreateGroup()
set OI1IO=CreateTimer()
set OO1OO=CreateForce()
set OO11O=CreateTimer()
set O1OOO=CreateTimer()
set O1O1O=CreateGroup()
set O11OO=CreateTimer()
set IIIIII=CreateTimer()
set IIII1I=CreateTimer()
set IIIO1I=CreateTimer()
set III1II=CreateTimer()
set IOO11I=CreateGroup()
set IO1OOI=CreateTimer()
set IO111I=CreateTimer()
set I1IOOI=CreateTimer()
set I1I1II=CreateGroup()
set I11III=CreateGroup()
set I11I1I=CreateTimer()
set I11O1I=CreateTimer()
set OIIIII=CreateGroup()
set OIIO1I=CreateTimer()
set OIOO1I=CreateTimer()
set OIO1OI=120.
set OI1I1I=CreateTimer()
set OI1OII=1
set OI11II=CreateTimer()
set OI111I=CreateGroup()
set OOI1OI=CreateGroup()
set OOOOOI=CreateGroup()
set OOOO1I=CreateGroup()
set i=0
loop
exitwhen(i>$A)
set OOO1II[i]=CreateTimer()
set i=i+1
endloop
set OO1OOI=CreateTimer()
set i=0
loop
exitwhen(i>5)
set OO1O1I[i]=CreateGroup()
set i=i+1
endloop
set OO111I=140.
set O1II1I=CreateTimer()
set O1IOOI=CreateTimer()
set O1OIII=CreateTimer()
set O1OI1I=CreateGroup()
set O1OO1I=CreateTimer()
set O1O1OI=CreateTimer()
set O11I1I=CreateForce()
set O11OII=CreateTimer()
set O1111I=2.
set IIII1O=CreateTimer()
set IIIOIO=CreateTimer()
set IIOI1O=300.
set i=0
loop
exitwhen(i>4)
set IIO1IO[i]=CreateTimer()
set i=i+1
endloop
set IIO11O=CreateTimer()
set II11IO=CreateTimer()
set IOOI1O=23.
set IOOOOO=CreateTimer()
set IOO1OO=CreateGroup()
set IO1I1O=CreateTimer()
set I1OOOO=CreateTimer()
set IIIOIII=CreateTrigger()
call TriggerAddAction(IIIOIII,function OO11I1O)
set IIIOIOI=CreateTrigger()
call TriggerAddAction(IIIOIOI,function OO11OOO)
set IIIOI1I=CreateTrigger()
call TriggerAddAction(IIIOI1I,function OO111OO)
set IIIOOII=CreateTrigger()
call TriggerRegisterTimerEventSingle(IIIOOII,.1)
call TriggerAddAction(IIIOOII,function O1IIIIO)
set IIIOOOI=CreateTrigger()
call TriggerRegisterTimerEventSingle(IIIOOOI,5)
call TriggerAddAction(IIIOOOI,function O1III1O)
call ExecuteFunc("O1OIIOO")
set IIIOO1I=CreateTrigger()
call TriggerAddCondition(IIIOO1I,Condition(function O1OIIIO))
call TriggerAddAction(IIIOO1I,function O1I11OO)
set IIIO1II=CreateTrigger()
call TriggerAddAction(IIIO1II,function O1OO1IO)
set IIIO1OI=CreateTrigger()
call TriggerAddAction(IIIO1OI,function O11IIIO)
set IIIO11I=CreateTrigger()
call TriggerRegisterTimerExpireEvent(IIIO11I,O1IOOI)
call TriggerAddAction(IIIO11I,function O11IO1O)
call ExecuteFunc("O11OI1O")
set III1III=CreateTrigger()
call DisableTrigger(III1III)
call TriggerAddAction(III1III,function O11OOOO)
set III1IOI=CreateTrigger()
call DisableTrigger(III1IOI)
call TriggerAddAction(III1IOI,function O11O1IO)
set III1I1I=CreateTrigger()
call DisableTrigger(III1I1I)
call TriggerAddAction(III1I1I,function O11O11O)
set III1OII=CreateTrigger()
call DisableTrigger(III1OII)
call TriggerAddAction(III1OII,function O111IOO)
set III1OOI=CreateTrigger()
call DisableTrigger(III1OOI)
call TriggerAddAction(III1OOI,function O111OIO)
set III1O1I=CreateTrigger()
call DisableTrigger(III1O1I)
call TriggerAddAction(III1O1I,function O111O1O)
set III11II=CreateTrigger()
call DisableTrigger(III11II)
call TriggerAddAction(III11II,function O11111O)
set III11OI=CreateTrigger()
call DisableTrigger(III11OI)
call TriggerAddAction(III11OI,function IIIIIIOI)
set III111I=CreateTrigger()
call DisableTrigger(III111I)
call TriggerAddAction(III111I,function IIIIIOOI)
set IIOIIII=CreateTrigger()
call DisableTrigger(IIOIIII)
call TriggerAddAction(IIOIIII,function IIIII1II)
set yuanfei=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yuanfei,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(yuanfei,Condition(function yuanfeif2))
call TriggerAddAction(yuanfei,function yuanfeif)
set wellethreett=CreateTrigger()
call DisableTrigger(wellethreett)
call TriggerAddAction(wellethreett,function wellethreeatt2)
set benduothreet=CreateTrigger()
call DisableTrigger(benduothreet)
call TriggerAddAction(benduothreet,function benduothree)
set longchuant=CreateTrigger()
call DisableTrigger(longchuant)
call TriggerAddAction(longchuant,function longchuant1)
set teateathreet=CreateTrigger()
call DisableTrigger(teateathreet)
call TriggerAddAction(teateathreet,function teateathree)
set IIOIIOI=CreateTrigger()
call DisableTrigger(IIOIIOI)
call TriggerAddAction(IIOIIOI,function IIIIOIII)
set IIOII1I=CreateTrigger()
call DisableTrigger(IIOII1I)
call TriggerAddAction(IIOII1I,function IIIIO1OI)
set IIOIOII=CreateTrigger()
call TriggerAddAction(IIOIOII,function IIII1I1I)
set IIOIOOI=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIOIOOI,I1111O)
call TriggerAddCondition(IIOIOOI,Condition(function IIII1O1I))
call TriggerAddAction(IIOIOOI,function IIII11OI)
set IIOIO1I=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIOIO1I,OIOO1O)
call TriggerAddCondition(IIOIO1I,Condition(function IIIOIIOI))
call TriggerAddAction(IIOIO1I,function IIIOIOII)
set IIOI1II=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIOI1II,OIIIIO)
call TriggerAddCondition(IIOI1II,Condition(function IIIOI1II))
call TriggerAddAction(IIOI1II,function IIIOI11I)
set IIOI1OI=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIOI1OI,OIIOIO)
call TriggerAddCondition(IIOI1OI,Condition(function IIIOOI1I))
call TriggerAddAction(IIOI1OI,function IIIOOOOI)
set IIOI11I=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIOI11I,OO1OIO)
call TriggerAddCondition(IIOI11I,Condition(function IIIOO1OI))
call TriggerAddAction(IIOI11I,function IIIO1III)
set IIOOIII=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIOOIII,OII1IO)
call TriggerAddCondition(IIOOIII,Condition(function IIIO1OII))
call TriggerAddAction(IIOOIII,function IIIO1O1I)
set IIOOIOI=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIOOIOI,OII1OO)
call TriggerAddCondition(IIOOIOI,Condition(function IIIO111I))
call TriggerAddAction(IIOOIOI,function III1IIOI)
set IIOOI1I=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIOOI1I,OIOIIO)
call TriggerAddCondition(IIOOI1I,Condition(function III1IOOI))
call TriggerAddAction(IIOOI1I,function III1I1II)
set IIOOOII=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIOOOII,OO1IIO)
call TriggerAddCondition(IIOOOII,Condition(function III1OIII))
call TriggerAddAction(IIOOOII,function III1OI1I)
set IIOOOOI=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIOOOOI,OI1I1O)
call TriggerAddCondition(IIOOOOI,Condition(function III1OO1I))
call TriggerAddAction(IIOOOOI,function III1O1OI)
set IIOOO1I=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIOOO1I,OIIOOO)
call TriggerAddCondition(IIOOO1I,Condition(function III11IOI))
call TriggerAddAction(IIOOO1I,function III11OII)
set IIOO1II=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIOO1II,OII11O)
call TriggerAddCondition(IIOO1II,Condition(function III111II))
call TriggerAddAction(IIOO1II,function III1111I)
set IIOO1OI=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIOO1OI,I111IO)
call TriggerAddCondition(IIOO1OI,Condition(function IIOIII1I))
call TriggerAddAction(IIOO1OI,function IIOIIOOI)
set IIOO11I=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIOO11I,OIO1IO)
call TriggerAddCondition(IIOO11I,Condition(function IIOII1OI))
call TriggerAddAction(IIOO11I,function IIOIOIII)
set IIO1III=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIO1III,OIO1OO)
call TriggerAddCondition(IIO1III,Condition(function IIOIOOII))
call TriggerAddAction(IIO1III,function IIOIOO1I)
set IIO1IOI=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIO1IOI,OI1IIO)
call TriggerAddCondition(IIO1IOI,Condition(function IIOIO11I))
call TriggerAddAction(IIO1IOI,function IIOI1IOI)
set IIO1I1I=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIO1I1I,OI1OIO)
call TriggerAddCondition(IIO1I1I,Condition(function IIOI1OOI))
call TriggerAddAction(IIO1I1I,function IIOI11II)
set IIO1OII=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIO1OII,OI11OO)
call TriggerAddCondition(IIO1OII,Condition(function IIOOIIII))
call TriggerAddAction(IIO1OII,function IIOOII1I)
set IIO1OOI=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIO1OOI,OOIIIO)
call TriggerAddCondition(IIO1OOI,Condition(function IIOOIO1I))
call TriggerAddAction(IIO1OOI,function IIOOI1OI)
set IIO1O1I=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIO1O1I,OOI11O)
call TriggerAddCondition(IIO1O1I,Condition(function IIOOOIOI))
call TriggerAddAction(IIO1O1I,function IIOOOOII)
set IIO11II=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIO11II,OI1O1O)
call TriggerAddCondition(IIO11II,Condition(function IIOOO1II))
call TriggerAddAction(IIO11II,function IIOOO11I)
set IIO11OI=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIO11OI,OOOIIO)
call TriggerAddCondition(IIO11OI,Condition(function IIOO1I1I))
call TriggerAddAction(IIO11OI,function IIOO1OOI)
set IIO111I=CreateTrigger()
call TriggerRegisterEnterRectSimple(IIO111I,I111OO)
call TriggerAddCondition(IIO111I,Condition(function IIOO11OI))
call TriggerAddAction(IIO111I,function IIO1IIII)
set II1IIII=CreateTrigger()
call TriggerRegisterEnterRectSimple(II1IIII,OIII1O)
call TriggerAddCondition(II1IIII,Condition(function IIO1IOII))
call TriggerAddAction(II1IIII,function IIO1IO1I)
set II1IIOI=CreateTrigger()
call TriggerRegisterEnterRectSimple(II1IIOI,OOOIOO)
call TriggerAddCondition(II1IIOI,Condition(function IIO1I11I))
call TriggerAddAction(II1IIOI,function IIO1OIOI)
set II1II1I=CreateTrigger()
call TriggerRegisterEnterRectSimple(II1II1I,OIO11O)
call TriggerAddCondition(II1II1I,Condition(function IIO1OOOI))
call TriggerAddAction(II1II1I,function IIO1O1II)
set II1IOII=CreateTrigger()
call TriggerRegisterEnterRectSimple(II1IOII,OOOOIO)
call TriggerAddCondition(II1IOII,Condition(function IIO11III))
call TriggerAddAction(II1IOII,function IIO11I1I)
set II1IOOI=CreateTrigger()
call TriggerRegisterEnterRectSimple(II1IOOI,OOOOOO)
call TriggerAddCondition(II1IOOI,Condition(function IIO11O1I))
call TriggerAddAction(II1IOOI,function IIO111OI)
set II1IO1I=CreateTrigger()
call TriggerRegisterEnterRectSimple(II1IO1I,OOOO1O)
call TriggerAddCondition(II1IO1I,Condition(function II1IIIOI))
call TriggerAddAction(II1IO1I,function II1IIOII)
set II1I1II=CreateTrigger()
call TriggerRegisterEnterRectSimple(II1I1II,OOO1IO)
call TriggerAddCondition(II1I1II,Condition(function II1II1II))
call TriggerAddAction(II1I1II,function II1II11I)
set II1I1OI=CreateTrigger()
call TriggerRegisterEnterRectSimple(II1I1OI,OOO1OO)
call TriggerAddCondition(II1I1OI,Condition(function II1IOI1I))
call TriggerAddAction(II1I1OI,function II1IOOOI)
set II1I11I=CreateTrigger()
call TriggerRegisterEnterRectSimple(II1I11I,OOO11O)
call TriggerAddCondition(II1I11I,Condition(function II1IO1OI))
call TriggerAddAction(II1I11I,function II1I1III)
set II1OIII=CreateTrigger()
call TriggerRegisterEnterRectSimple(II1OIII,OI11IO)
call TriggerAddCondition(II1OIII,Condition(function II1I1OII))
call TriggerAddAction(II1OIII,function II1I1O1I)
set II1OIOI=CreateTrigger()
call TriggerRegisterEnterRectSimple(II1OIOI,OO1IOO)
call TriggerAddCondition(II1OIOI,Condition(function II1I111I))
call TriggerAddAction(II1OIOI,function II1OIIOI)
set II1OI1I=CreateTrigger()
call TriggerRegisterEnterRectSimple(II1OI1I,OIIO1O)
call TriggerAddCondition(II1OI1I,Condition(function II1OIOOI))
call TriggerAddAction(II1OI1I,function II1OI1II)
set II1OOII=CreateTrigger()
call TriggerAddAction(II1OOII,function II1OI11I)
set II1OOOI=CreateTrigger()
call TriggerAddAction(II1OOOI,function II1OOIOI)
set II1OO1I=CreateTrigger()
call TriggerAddAction(II1OO1I,function II1OOOII)
set II1O1II=CreateTrigger()
call TriggerAddAction(II1O1II,function II1OO1II)
set II1O1OI=CreateTrigger()
call TriggerAddAction(II1O1OI,function II1O1OII)
set II11III=CreateTrigger()
call TriggerRegisterUnitEvent(II11III,IOOO1OO,EVENT_UNIT_SELL)
call TriggerRegisterUnitEvent(II11III,IO1OIIO,EVENT_UNIT_SELL)
call TriggerRegisterUnitEvent(II11III,IOO1I1O,EVENT_UNIT_SELL)
call TriggerRegisterUnitEvent(II11III,IOO1OIO,EVENT_UNIT_SELL)
call TriggerRegisterUnitEvent(II11III,IO1II1O,EVENT_UNIT_SELL)
call TriggerRegisterUnitEvent(II11III,IO1OIOO,EVENT_UNIT_SELL)
call TriggerRegisterUnitEvent(II11III,IO1IIOO,EVENT_UNIT_SELL)
call TriggerRegisterUnitEvent(II11III,IO1IIIO,EVENT_UNIT_SELL)
call TriggerRegisterUnitEvent(II11III,IO1OI1O,EVENT_UNIT_SELL)
call TriggerRegisterUnitEvent(II11III,IO1I11O,EVENT_UNIT_SELL)
call TriggerAddAction(II11III,function II11I1OI)
set II11IOI=CreateTrigger()
call TriggerRegisterEnterRectSimple(II11IOI,O1O1IO)
call TriggerRegisterEnterRectSimple(II11IOI,OIOOOO)
call TriggerAddCondition(II11IOI,Condition(function II11OIII))
call TriggerAddAction(II11IOI,function II11OIOI)
set II11I1I=CreateTrigger()
call TriggerAddAction(II11I1I,function IOIIIOII)
set II11OII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II11OII,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(II11OII,Condition(function IOIIIO1I))
call TriggerAddAction(II11OII,function IOIII1II)
set II11OOI=CreateTrigger()
call TriggerRegisterTimerExpireEvent(II11OOI,OIIO1I)
call TriggerAddAction(II11OOI,function IOIIOOOI)
set II11O1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II11O1I,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddAction(II11O1I,function IOII11II)
set II111II=CreateTrigger()
call TriggerAddAction(II111II,function IOII111I)
set II111OI=CreateTrigger()
call DisableTrigger(II111OI)
call TriggerRegisterAnyUnitEventBJ(II111OI,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(II111OI,Condition(function IOIOIIOI))
call TriggerAddAction(II111OI,function IOIOI1II)
set jiabig=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(jiabig,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(jiabig,Condition(function jiabig1))
call TriggerAddAction(jiabig,function jiabig2)
set jiabigperiod=CreateTrigger()
call DisableTrigger(jiabigperiod)
call TriggerAddAction(jiabigperiod,function jiabig3)
set II1111I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II1111I,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(II1111I,Condition(function IOIOI11I))
call TriggerAddAction(II1111I,function IOIOOIII)
set addagibug=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(addagibug,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(addagibug,Condition(function addagibug1))
call TriggerAddAction(addagibug,function addagibug2)
set OIIOIII=CreateTrigger()
set IOIIIII=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(IOIIIII,480.)
call TriggerAddAction(IOIIIII,function IOIOO1OI)
set IOIIIOI=CreateTrigger()
call TriggerRegisterUnitEvent(IOIIIOI,IO1IOIO,EVENT_UNIT_SELL)
call TriggerAddCondition(IOIIIOI,Condition(function IOIO1III))
call TriggerAddAction(IOIIIOI,function IOIO1IOI)
set IOIII1I=CreateTrigger()
call TriggerRegisterUnitEvent(IOIII1I,IO1IOOO,EVENT_UNIT_SELL)
call TriggerAddCondition(IOIII1I,Condition(function IOIO1OII))
call TriggerAddAction(IOIII1I,function IOIO1OOI)
set IOIIOOI=CreateTrigger()
call TriggerRegisterTimerEventSingle(IOIIOOI,3.)
call TriggerAddAction(IOIIOOI,function IOIO111I)
set IOIIO1I=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(IOIIO1I,325.)
call TriggerAddAction(IOIIO1I,function IOI1IO1I)
set IOII1II=CreateTrigger()
call TriggerRegisterTimerExpireEvent(IOII1II,OO1OOI)
call TriggerAddAction(IOII1II,function IOI1OOOI)
set IOII1OI=CreateTrigger()
call TriggerRegisterTimerExpireEvent(IOII1OI,I1OOI)
call TriggerAddAction(IOII1OI,function IOI1O1OI)
set IOII11I=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(IOII11I,Player($C),EVENT_PLAYER_UNIT_DEATH,null)
call TriggerAddCondition(IOII11I,Condition(function IOI11IOI))
call GroupEnumUnitsOfPlayer(OO1IIIO(),Player($C),Filter(function IOI11III))
set IOIOIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOIOIII,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(IOIOIII,Condition(function IOI11OII))
call TriggerAddAction(IOIOIII,function IOI11OOI)
set IOIOIOI=CreateTrigger()
call TriggerRegisterUnitEvent(IOIOIOI,IOOIIOO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOIOI,IOOII1O,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOIOI,IOOIOIO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOIOI,IOOOIIO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOIOI,IOOOIOO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOIOI,IOOOI1O,EVENT_UNIT_DEATH)
call TriggerAddAction(IOIOIOI,function IOI111II)
set IOIOI1I=CreateTrigger()
call TriggerRegisterUnitEvent(IOIOI1I,IOOOO1O,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOI1I,IOOOOOO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOI1I,IOOOOIO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOI1I,IOOIOOO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOI1I,IOOI1IO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOI1I,IOOIO1O,EVENT_UNIT_DEATH)
call TriggerAddAction(IOIOI1I,function IOI1111I)
set IOIOOII=CreateTrigger()
call TriggerRegisterTimerEventSingle(IOIOOII,1.)
call TriggerAddAction(IOIOOII,function IOOIIIOI)
set IOIOOOI=CreateTrigger()
call TriggerRegisterUnitEvent(IOIOOOI,IOOI1OO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOOOI,IOO1OOO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOOOI,IOO1O1O,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOOOI,IOO11IO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOOOI,IOO111O,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IOIOOOI,IO1IO1O,EVENT_UNIT_DEATH)
call TriggerAddAction(IOIOOOI,function IOOIIOII)
set IOIOO1I=CreateTrigger()
call TriggerRegisterEnterRectSimple(IOIOO1I,OI111O)
call TriggerRegisterEnterRectSimple(IOIOO1I,O1O1IO)
call TriggerAddCondition(IOIOO1I,Condition(function IOOIIO1I))
call TriggerAddAction(IOIOO1I,function IOOII1OI)
set IOIO1II=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(IOIO1II,20.)
call TriggerAddAction(IOIO1II,function IOOIOIII)
set IOIO1OI=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(IOIO1OI,150.)
call TriggerAddAction(IOIO1OI,function IOOIOOII)
set IOIO11I=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(IOIO11I,50.)
call TriggerAddAction(IOIO11I,function IOOIOO1I)
set IOI1III=CreateTrigger()
call TriggerRegisterEnterRectSimple(IOI1III,OIOI1O)
call TriggerAddCondition(IOI1III,Condition(function IOOIO1OI))
call TriggerAddAction(IOI1III,function IOOIO11I)
set IOI1IOI=CreateTrigger()
call TriggerRegisterEnterRectSimple(IOI1IOI,OIOOIO)
call TriggerAddCondition(IOI1IOI,Condition(function IOOI1IOI))
call TriggerAddAction(IOI1IOI,function IOOI1I1I)
set IOI1I1I=CreateTrigger()
call TriggerRegisterEnterRectSimple(IOI1I1I,I1O1OO)
call TriggerAddCondition(IOI1I1I,Condition(function IOOI1OOI))
call TriggerAddAction(IOI1I1I,function IOOI1O1I)
set IOI1OII=CreateTrigger()
call TriggerRegisterEnterRectSimple(IOI1OII,I1O11O)
call TriggerAddCondition(IOI1OII,Condition(function IOOI11OI))
call TriggerAddAction(IOI1OII,function IOOI111I)
set IOI1OOI=CreateTrigger()
call TriggerRegisterEnterRectSimple(IOI1OOI,I11IIO)
call TriggerAddCondition(IOI1OOI,Condition(function IOOOIIOI))
call TriggerAddAction(IOI1OOI,function IOOOII1I)
set IOI1O1I=CreateTrigger()
call TriggerRegisterEnterRectSimple(IOI1O1I,I11IOO)
call TriggerAddCondition(IOI1O1I,Condition(function IOOOIOOI))
call TriggerAddAction(IOI1O1I,function IOOOIO1I)
set IOI11II=CreateTrigger()
call TriggerRegisterEnterRectSimple(IOI11II,I11O1O)
call TriggerAddCondition(IOI11II,Condition(function IOOOI1OI))
call TriggerAddAction(IOI11II,function IOOOI11I)
set IOI11OI=CreateTrigger()
call TriggerRegisterEnterRectSimple(IOI11OI,I11I1O)
call TriggerAddCondition(IOI11OI,Condition(function IOOOOIOI))
call TriggerAddAction(IOI11OI,function IOOOOI1I)
set IOI111I=CreateTrigger()
call TriggerRegisterEnterRectSimple(IOI111I,I11OIO)
call TriggerAddCondition(IOI111I,Condition(function IOOOOOOI))
call TriggerAddAction(IOI111I,function IOOOOO1I)
set IOOIIII=CreateTrigger()
call TriggerRegisterEnterRectSimple(IOOIIII,I11OOO)
call TriggerAddCondition(IOOIIII,Condition(function IOOOO1OI))
call TriggerAddAction(IOOIIII,function IOOOO11I)
set IOOIIOI=CreateTrigger()
call TriggerRegisterUnitEvent(IOOIIOI,IOOI11O,EVENT_UNIT_DEATH)
call TriggerAddCondition(IOOIIOI,Condition(function IOOO1IOI))
call TriggerAddAction(IOOIIOI,function IOOO1OOI)
set IOOII1I=CreateTrigger()
call TriggerRegisterUnitEvent(IOOII1I,IOOIIIO,EVENT_UNIT_DEATH)
call TriggerAddCondition(IOOII1I,Condition(function IOOO11II))
call TriggerAddAction(IOOII1I,function IOO1IIII)
set IOOIOII=CreateTrigger()
call TriggerRegisterEnterRectSimple(IOOIOII,OO1OOO)
call TriggerAddCondition(IOOIOII,Condition(function IOO1II1I))
call TriggerAddAction(IOOIOII,function IOO1IOII)
set IOOIOOI=CreateTrigger()
call TriggerRegisterEnterRectSimple(IOOIOOI,OO1O1O)
call TriggerAddCondition(IOOIOOI,Condition(function IOO1IO1I))
call TriggerAddAction(IOOIOOI,function IOO1I1II)
set IOOIO1I=CreateTrigger()
call TriggerRegisterEnterRectSimple(IOOIO1I,O1I1IO)
call TriggerAddCondition(IOOIO1I,Condition(function IOO1I11I))
call TriggerAddAction(IOOIO1I,function IOO1OIII)
set IOOI1II=CreateTrigger()
call TriggerRegisterTimerEventSingle(IOOI1II,420.)
call TriggerAddAction(IOOI1II,function IOO1OI1I)
set IOOI1OI=CreateTrigger()
call TriggerRegisterTimerEventSingle(IOOI1OI,800.)
call TriggerAddAction(IOOI1OI,function IOO1OOOI)
set IOOI11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOOI11I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IOOI11I,Condition(function IOO11IOI))
call TriggerAddAction(IOOI11I,function IOO11I1I)
set IOOOIII=CreateTrigger()
call TriggerAddAction(IOOOIII,function IOO11OOI)
set IOOOIOI=CreateTrigger()
call TriggerAddAction(IOOOIOI,function IOO111II)
set IOOOI1I=CreateTrigger()
call TriggerAddAction(IOOOI1I,function IOO1111I)
set IOOOOII=CreateTrigger()
call TriggerAddAction(IOOOOII,function IO1IIIOI)
set IOOOOOI=CreateTrigger()
call TriggerAddAction(IOOOOOI,function IO1IIOII)
set nocdmodet=CreateTrigger()
call TriggerAddAction(nocdmodet,function nocdmodef)
set abarstr=CreateTrigger()
call TriggerAddAction(abarstr,function abarsfu)
set normalmode=CreateTrigger()
call TriggerAddAction(normalmode,function normalmodef)
set repickenablet=CreateTrigger()
call TriggerAddAction(repickenablet,function repickenable)
set testcode=CreateTrigger()
call TriggerAddAction(testcode,function testcode1)
set test1=CreateTrigger()
call TriggerAddAction(test1,function test11)
set test2=CreateTrigger()
call TriggerAddCondition(test2,Condition(function test21))
set test3=CreateTrigger()
call TriggerAddCondition(test3,Condition(function test31))
set songhealingt=CreateTrigger()
call TriggerAddAction(songhealingt,function songhealing)
set IOOOO1I=CreateTrigger()
call DisableTrigger(IOOOO1I)
call TriggerRegisterEnterRectSimple(IOOOO1I,bj_mapInitialPlayableArea)
call TriggerAddCondition(IOOOO1I,Condition(function IO1II1II))
call TriggerAddAction(IOOOO1I,function IO1II1OI)
set IOOO1II=CreateTrigger()
call TriggerRegisterTimerEventSingle(IOOO1II,20.)
call TriggerAddAction(IOOO1II,function IO1IOIII)
set IOOO11I=CreateTrigger()
call TriggerRegisterUnitEvent(IOOO11I,IOOIIOO,EVENT_UNIT_DEATH)
call TriggerAddAction(IOOO11I,function IO1IOOOI)
set IOO1III=CreateTrigger()
call TriggerRegisterUnitEvent(IOO1III,IOOII1O,EVENT_UNIT_DEATH)
call TriggerAddAction(IOO1III,function IO1IO1II)
set IOO1IOI=CreateTrigger()
call TriggerRegisterUnitEvent(IOO1IOI,IOOIOIO,EVENT_UNIT_DEATH)
call TriggerAddAction(IOO1IOI,function IO1IO11I)
set IOO1I1I=CreateTrigger()
call TriggerRegisterUnitEvent(IOO1I1I,IOOOIIO,EVENT_UNIT_DEATH)
call TriggerAddAction(IOO1I1I,function IO1I1IOI)
set IOO1OII=CreateTrigger()
call TriggerRegisterUnitEvent(IOO1OII,IOOOIOO,EVENT_UNIT_DEATH)
call TriggerAddAction(IOO1OII,function IO1I1OII)
set IOO1OOI=CreateTrigger()
call TriggerRegisterUnitEvent(IOO1OOI,IOOOI1O,EVENT_UNIT_DEATH)
call TriggerAddAction(IOO1OOI,function IO1I1O1I)
set IOO1O1I=CreateTrigger()
call TriggerRegisterUnitEvent(IOO1O1I,IOOI1IO,EVENT_UNIT_DEATH)
call TriggerAddAction(IOO1O1I,function IO1I11OI)
set IOO11II=CreateTrigger()
call TriggerRegisterUnitEvent(IOO11II,IOOIOOO,EVENT_UNIT_DEATH)
call TriggerAddAction(IOO11II,function IO1OIIII)
set IOO11OI=CreateTrigger()
call TriggerRegisterUnitEvent(IOO11OI,IOOIO1O,EVENT_UNIT_DEATH)
call TriggerAddAction(IOO11OI,function IO1OII1I)
set IOO111I=CreateTrigger()
call TriggerRegisterUnitEvent(IOO111I,IOOOO1O,EVENT_UNIT_DEATH)
call TriggerAddAction(IOO111I,function IO1OIOOI)
set IO1IIII=CreateTrigger()
call TriggerRegisterUnitEvent(IO1IIII,IOOOOOO,EVENT_UNIT_DEATH)
call TriggerAddAction(IO1IIII,function IO1OI1II)
set IO1IIOI=CreateTrigger()
call TriggerRegisterUnitEvent(IO1IIOI,IOOOOIO,EVENT_UNIT_DEATH)
call TriggerAddAction(IO1IIOI,function IO1OI11I)
set IO1II1I=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(IO1II1I,27.)
call TriggerAddAction(IO1II1I,function IO1O1OOI)
set IO1IOII=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(IO1IOII,162.5)
call TriggerAddAction(IO1IOII,function IO11IOII)
set IO1IOOI=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(IO1IOOI,108.)
call TriggerAddAction(IO1IOOI,function IO11OI1I)
set IO1IO1I=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(IO1IO1I,1000.)
call TriggerAddAction(IO1IO1I,function IO11OOOI)
set IO1I1II=CreateTrigger()
call TriggerRegisterTimerEventSingle(IO1I1II,10.)
call TriggerAddAction(IO1I1II,function IO11O1II)
set IO1I1OI=CreateTrigger()
call TriggerRegisterUnitEvent(IO1I1OI,IOOO11O,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IO1I1OI,IOO1IOO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IO1I1OI,IOO1IIO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IO1I1OI,IOO11OO,EVENT_UNIT_DEATH)
call TriggerAddAction(IO1I1OI,function IO111IOI)
set IO1I11I=CreateTrigger()
call TriggerRegisterUnitEvent(IO1I11I,IOOO11O,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IO1I11I,IOO1IOO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IO1I11I,IOO1IIO,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(IO1I11I,IOO11OO,EVENT_UNIT_DEATH)
call TriggerAddAction(IO1I11I,function IO1111II)
set IO1OIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO1OIII,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO1OIII,Condition(function IO11111I))
call TriggerAddAction(IO1OIII,function I1IIIIII)
set IO1OIOI=CreateTrigger()
call TriggerAddAction(IO1OIOI,function I1IIII1I)
set IO1OI1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO1OI1I,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO1OI1I,Condition(function I1IIIOOI))
call TriggerAddAction(IO1OI1I,function I1III1II)
set IO1OOII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO1OOII,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO1OOII,Condition(function I1III11I))
call TriggerAddAction(IO1OOII,function I1IIOIOI)
set IO1OOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO1OOOI,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO1OOOI,Condition(function I1IIOOII))
call TriggerAddAction(IO1OOOI,function I1IIOO1I)
set IO1OO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO1OO1I,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO1OO1I,Condition(function I1IIO1OI))
call TriggerAddAction(IO1OO1I,function I1II1III)
set IO1O1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO1O1II,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO1O1II,Condition(function I1II1I1I))
call TriggerAddAction(IO1O1II,function I1II1OOI)
set IO1O1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO1O1OI,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO1O1OI,Condition(function I1II11II))
call TriggerAddAction(IO1O1OI,function I1II111I)
set IO1O11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO1O11I,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO1O11I,Condition(function I1IOIIOI))
call TriggerAddAction(IO1O11I,function I1IOIOII)
set IO11III=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO11III,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO11III,Condition(function I1IOIO1I))
call TriggerAddAction(IO11III,function I1IOI1OI)
set IO11IOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO11IOI,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO11IOI,Condition(function I1IOOIII))
call TriggerAddAction(IO11IOI,function I1IOOI1I)
set IO11I1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO11I1I,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO11I1I,Condition(function I1IOOOOI))
call TriggerAddAction(IO11I1I,function I1IOO1II)
set IO11OII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO11OII,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO11OII,Condition(function I1IOO11I))
call TriggerAddAction(IO11OII,function I1IO1IOI)
set IO11OOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO11OOI,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO11OOI,Condition(function I1IO1OII))
call TriggerAddAction(IO11OOI,function I1IO1O1I)
set IO11O1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO11O1I,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO11O1I,Condition(function I1IO11OI))
call TriggerAddAction(IO11O1I,function I1I1IIII)
set IO111II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO111II,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO111II,Condition(function I1I1II1I))
call TriggerAddAction(IO111II,function I1I1IOOI)
set IO111OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO111OI,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO111OI,Condition(function I1I1I1II))
call TriggerAddAction(IO111OI,function I1I1I11I)
set IO1111I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IO1111I,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(IO1111I,Condition(function I1I1OIOI))
call TriggerAddAction(IO1111I,function I1I1O1OI)
set I1IIIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1IIIII,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(I1IIIII,Condition(function I1I11IOI))
call TriggerAddAction(I1IIIII,function I1I111II)
set I1IIIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1IIIOI,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(I1IIIOI,Condition(function I1OIIIII))
call TriggerAddAction(I1IIIOI,function I1OIII1I)
set I1III1I=CreateTrigger()
call TriggerAddAction(I1III1I,function I1OIIOOI)
set I1IIOII=CreateTrigger()
call TriggerAddAction(I1IIOII,function I1OII1II)
set I1IIOOI=CreateTrigger()
call TriggerAddCondition(I1IIOOI,Condition(function I1OIOIII))
call TriggerAddAction(I1IIOOI,function I1OIOI1I)
set I1IIO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1IIO1I,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(I1IIO1I,Condition(function I1OIOO1I))
call TriggerAddAction(I1IIO1I,function I1OI1OII)
set I1II1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1II1II,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(I1II1II,Condition(function I1OI1O1I))
call TriggerAddAction(I1II1II,function I1OI11II)
set I1II1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1II1OI,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(I1II1OI,Condition(function I1OI111I))
call TriggerAddAction(I1II1OI,function I1OOIIII)
set I1II11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1II11I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1II11I,Condition(function I1OOII1I))
call TriggerAddAction(I1II11I,function I1OOIOII)
set I1IOIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1IOIII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1IOIII,Condition(function I1OOIO1I))
call TriggerAddAction(I1IOIII,function I1OOI1II)
set I1IOIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1IOIOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1IOIOI,Condition(function I1OOI11I))
call TriggerAddAction(I1IOIOI,function I1OOOIII)
set I1IOI1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1IOI1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1IOI1I,Condition(function I1OOOI1I))
call TriggerAddAction(I1IOI1I,function I1OOOOII)
set I1IOOII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1IOOII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1IOOII,Condition(function I1OOOO1I))
call TriggerAddAction(I1IOOII,function I1OOO1II)
set I1IOOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1IOOOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1IOOOI,Condition(function I1OOO11I))
call TriggerAddAction(I1IOOOI,function I1OO1I1I)
set I1IOO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1IOO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1IOO1I,Condition(function I1OO1OOI))
call TriggerAddAction(I1IOO1I,function I1OO1O1I)
set I1IO1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1IO1II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1IO1II,Condition(function I1OO111I))
call TriggerAddAction(I1IO1II,function I1O1IIII)
set I1IO1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1IO1OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1IO1OI,Condition(function I1O1II1I))
call TriggerAddAction(I1IO1OI,function I1O1IO1I)
set I1IO11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1IO11I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1IO11I,Condition(function I1O1I1OI))
call TriggerAddAction(I1IO11I,function I1O1I11I)
set I1I1III=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1I1III,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1I1III,Condition(function I1O1OIOI))
call TriggerAddAction(I1I1III,function I1O1OI1I)
set I1I1IOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1I1IOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1I1IOI,Condition(function I1O1OOOI))
call TriggerAddAction(I1I1IOI,function I1O1OO1I)
set I1I1I1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1I1I1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1I1I1I,Condition(function I1O1O1OI))
call TriggerAddAction(I1I1I1I,function I1O11IOI)
set I1I1OII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1I1OII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1I1OII,Condition(function I1O11OII))
call TriggerAddAction(I1I1OII,function I1O11O1I)
set I1I1OOI=CreateTrigger()
call TriggerAddCondition(I1I1OOI,Condition(function I1O111OI))
call TriggerAddAction(I1I1OOI,function I11IIIOI)
set I1I1O1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1I1O1I,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerRegisterAnyUnitEventBJ(I1I1O1I,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(I1I1O1I,Condition(function I11IIOII))
call TriggerAddAction(I1I1O1I,function I11IIOOI)
set I1I11II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1I11II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1I11II,Condition(function I11II1II))
call TriggerAddAction(I1I11II,function I11II1OI)
set I1I11OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1I11OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1I11OI,Condition(function I11IOIII))
call TriggerAddAction(I1I11OI,function I11IOIOI)
set I1I111I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1I111I,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(I1I111I,Condition(function I11IOOII))
call TriggerAddAction(I1I111I,function I11IOOOI)
set I1OIIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1OIIII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1OIIII,Condition(function I11IO1II))
call TriggerAddAction(I1OIIII,function I11IO1OI)
set I1OII1I=CreateTrigger()
call TriggerRegisterTimerEventSingle(I1OII1I,.0)
call TriggerAddAction(I1OII1I,function I11I11OI)
set I1OIOII=CreateTrigger()
call TriggerRegisterPlayerEventLeave(I1OIOII,Player(0))
call TriggerRegisterPlayerEventLeave(I1OIOII,Player(1))
call TriggerRegisterPlayerEventLeave(I1OIOII,Player(2))
call TriggerRegisterPlayerEventLeave(I1OIOII,Player(3))
call TriggerRegisterPlayerEventLeave(I1OIOII,Player(4))
call TriggerRegisterPlayerEventLeave(I1OIOII,Player(5))
call TriggerRegisterPlayerEventLeave(I1OIOII,Player(6))
call TriggerRegisterPlayerEventLeave(I1OIOII,Player(7))
call TriggerRegisterPlayerEventLeave(I1OIOII,Player(8))
call TriggerRegisterPlayerEventLeave(I1OIOII,Player(9))
call TriggerRegisterPlayerEventLeave(I1OIOII,Player($A))
call TriggerRegisterPlayerEventLeave(I1OIOII,Player($B))
call TriggerAddAction(I1OIOII,function I11OII1I)
set repickhr=CreateTrigger()
call TriggerAddAction(repickhr,function repickhero)
set I1OIOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1OIOOI,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(I1OIOOI,Condition(function I11OIOOI))
call TriggerAddAction(I1OIOOI,function I11OO1OI)
set I1OIO1I=CreateTrigger()
call TriggerAddAction(I1OIO1I,function I11O11II)
set I1OI1II=CreateTrigger()
call TriggerAddAction(I1OI1II,function I111IOOI)
set I1OI1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1OI1OI,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(I1OI1OI,Condition(function I111I1OI))
call TriggerAddAction(I1OI1OI,function I111OOOI)
set I1OI11I=CreateTrigger()
call TriggerRegisterTimerExpireEvent(I1OI11I,OOOOI[1])
call TriggerRegisterTimerExpireEvent(I1OI11I,OOOOI[2])
call TriggerRegisterTimerExpireEvent(I1OI11I,OOOOI[3])
call TriggerRegisterTimerExpireEvent(I1OI11I,OOOOI[4])
call TriggerRegisterTimerExpireEvent(I1OI11I,OOOOI[5])
call TriggerRegisterTimerExpireEvent(I1OI11I,OOOOI[6])
call TriggerRegisterTimerExpireEvent(I1OI11I,OOOOI[7])
call TriggerRegisterTimerExpireEvent(I1OI11I,OOOOI[8])
call TriggerRegisterTimerExpireEvent(I1OI11I,OOOOI[9])
call TriggerRegisterTimerExpireEvent(I1OI11I,OOOOI[$A])
call TriggerAddAction(I1OI11I,function I111O11I)
set I1OOIII=CreateTrigger()
call TriggerRegisterUnitEvent(I1OOIII,IOOO1IO,EVENT_UNIT_DEATH)
call TriggerAddAction(I1OOIII,function I1111IOI)
set I1OOI1I=CreateTrigger()
call TriggerAddAction(I1OOI1I,function OIIIIIOI)
set I1OOOII=CreateTrigger()
call TriggerRegisterTimerExpireEvent(I1OOOII,O11OII)
call TriggerAddAction(I1OOOII,function OIIIIOOI)
set I1OOO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1OOO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1OOO1I,Condition(function OIIIOIII))
call TriggerAddAction(I1OOO1I,function OIIIOOII)
set I1OO1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1OO1II,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(I1OO1II,Condition(function OIIIOO1I))
call TriggerAddAction(I1OO1II,function OIIIO1II)
set I1OO1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1OO1OI,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(I1OO1OI,Condition(function OIIIO11I))
call TriggerAddAction(I1OO1OI,function OIII1III)
set I1OO11I=CreateTrigger()
call TriggerRegisterTimerExpireEvent(I1OO11I,O1II1I)
call TriggerAddAction(I1OO11I,function OIII1OII)
set I1O1III=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1O1III,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(I1O1III,Condition(function OIII1O1I))
call TriggerAddAction(I1O1III,function OIII11II)
set I1O1IOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1O1IOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1O1IOI,Condition(function OIIOIOII))
set I1O1I1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1O1I1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1O1I1I,Condition(function OIIOI1II))
call TriggerAddAction(I1O1I1I,function OIIOI1OI)
set I1O1OII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1O1OII,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(I1O1OII,Condition(function OIIOOIII))
call TriggerAddAction(I1O1OII,function OIIOOIOI)
set I1O1OOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1O1OOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1O1OOI,Condition(function OIIOOOII))
set I1O1O1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1O1O1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1O1O1I,Condition(function OIIOOO1I))
call TriggerAddAction(I1O1O1I,function OIIOO1OI)
set I1O11II=CreateTrigger()
call DisableTrigger(I1O11II)
call TriggerRegisterAnyUnitEventBJ(I1O11II,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterAnyUnitEventBJ(I1O11II,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterAnyUnitEventBJ(I1O11II,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(I1O11II,Condition(function OIIO1III))
call TriggerAddAction(I1O11II,function OIIO1I1I)
set I1O11OI=CreateTrigger()
call DisableTrigger(I1O11OI)
call TriggerRegisterAnyUnitEventBJ(I1O11OI,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(I1O11OI,Condition(function OIIO1OOI))
call TriggerAddAction(I1O11OI,function OIIO1O1I)
set I1O111I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1O111I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1O111I,Condition(function OII1IIII))
set I11IIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I11IIII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I11IIII,Condition(function OII1II1I))
call TriggerAddAction(I11IIII,function OII1IOOI)
set I11IIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I11IIOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I11IIOI,Condition(function OII1I1II))
call TriggerAddAction(I11IIOI,function OII1OOII)
set I11II1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I11II1I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(I11II1I,Condition(function OII1OO1I))
call TriggerAddAction(I11II1I,function OII1O1II)
set I11IOII=CreateTrigger()
call TriggerAddCondition(I11IOII,Condition(function OII1O11I))
call TriggerAddAction(I11IOII,function OII11IOI)
set I11IOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I11IOOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I11IOOI,Condition(function OII11OOI))
call TriggerAddAction(I11IOOI,function OII11O1I)
set I11IO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I11IO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I11IO1I,Condition(function OII1111I))
call TriggerAddAction(I11IO1I,function OIOIIIII)
set I11I1OI=CreateTrigger()
call DisableTrigger(I11I1OI)
call TriggerRegisterGameStateEventTimeOfDay(I11I1OI,EQUAL,6.)
call TriggerAddAction(I11I1OI,function OIOII11I)
set I11I11I=CreateTrigger()
call DisableTrigger(I11I11I)
call TriggerRegisterEnterRectSimple(I11I11I,bj_mapInitialPlayableArea)
call TriggerAddCondition(I11I11I,Condition(function OIOIOIOI))
call TriggerAddAction(I11I11I,function OIOIOI1I)
set fengxu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(fengxu,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(fengxu,Condition(function fengxu1))
call TriggerAddAction(fengxu,function fengxu2)
set zuli=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zuli,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(zuli,Condition(function zuli1))
call TriggerAddAction(zuli,function zuli2)
set cunzheng=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(cunzheng,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(cunzheng,function cunzheng1)
set I11OIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I11OIII,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(I11OIII,Condition(function OIOIOO1I))
call TriggerAddAction(I11OIII,function OIOIO1II)
set I11OIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I11OIOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I11OIOI,Condition(function OIOIO11I))
call TriggerAddAction(I11OIOI,function OIOI1IOI)
set I11OI1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I11OI1I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(I11OI1I,Condition(function OIOI1OOI))
call TriggerAddAction(I11OI1I,function OIOI1O1I)
set I11OOII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I11OOII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I11OOII,Condition(function OIOI11OI))
call TriggerAddAction(I11OOII,function OIOI111I)
set I11OOOI=CreateTrigger()
call TriggerRegisterTimerExpireEvent(I11OOOI,IIII1I)
call TriggerAddAction(I11OOOI,function OIOOIOII)
call OIOOOOOI()
set I11OO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I11OO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I11OO1I,Condition(function OIOOOO1I))
call TriggerAddAction(I11OO1I,function OIOOO1II)
set I11O1II=CreateTrigger()
call TriggerRegisterTimerExpireEvent(I11O1II,IOOOOO)
call TriggerAddAction(I11O1II,function OIOOO11I)
set I11O1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I11O1OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I11O1OI,Condition(function OIOO1IOI))
call TriggerAddAction(I11O1OI,function OIOO1I1I)
set I11O11I=CreateTrigger()
call TriggerAddAction(I11O11I,function OIOO1O1I)
set I111III=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I111III,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I111III,Condition(function OIOO11OI))
call TriggerAddAction(I111III,function OIO1IIII)
set I111IOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I111IOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I111IOI,Condition(function OIO1II1I))
call TriggerAddAction(I111IOI,function OIO1IO1I)
set I111I1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I111I1I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(I111I1I,Condition(function OIO1I1OI))
call TriggerAddAction(I111I1I,function OIO1I11I)
set I111OII=CreateTrigger()
call TriggerAddCondition(I111OII,Condition(function OIO1OIOI))
call TriggerAddAction(I111OII,function OIO1OI1I)
set I111OOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I111OOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I111OOI,Condition(function OIO1OOOI))
call TriggerAddAction(I111OOI,function OIO1O1OI)
set I111O1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I111O1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I111O1I,Condition(function OIO11III))
call TriggerAddAction(I111O1I,function OIO11IOI)
set I1111II=CreateTrigger()
call DisableTrigger(I1111II)
call TriggerRegisterEnterRectSimple(I1111II,bj_mapInitialPlayableArea)
call TriggerAddCondition(I1111II,Condition(function OIO11OII))
call TriggerAddAction(I1111II,function OIO11O1I)
set I1111OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I1111OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I1111OI,Condition(function OIO111OI))
call TriggerAddAction(I1111OI,function OIO1111I)
set I11111I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(I11111I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(I11111I,Condition(function OI1IIOII))
call TriggerAddAction(I11111I,function OI1IIOOI)
set OIIIIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIIIIII,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OIIIIII,Condition(function OI1II1II))
call TriggerAddAction(OIIIIII,function OI1II1OI)
set OIIIIOI=CreateTrigger()
call TriggerAddCondition(OIIIIOI,Condition(function OI1IOIII))
call TriggerAddAction(OIIIIOI,function OI1IOOII)
set OIIII1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIIII1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIIII1I,Condition(function OI1IOO1I))
call TriggerAddAction(OIIII1I,function OI1IO1II)
set longchuan4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(longchuan4,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(longchuan4,Condition(function longchuan41))
call TriggerAddAction(longchuan4,function longchuan42)
set OIIIOII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIIIOII,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OIIIOII,Condition(function OI1IO11I))
call TriggerAddAction(OIIIOII,function OI1I1III)
set OIIIOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIIIOOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIIIOOI,Condition(function OI1I1I1I))
call TriggerAddAction(OIIIOOI,function OI1I1OOI)
set OIIIO1I=CreateTrigger()
call DisableTrigger(OIIIO1I)
call TriggerRegisterAnyUnitEventBJ(OIIIO1I,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(OIIIO1I,Condition(function OI1I11II))
call TriggerAddAction(OIIIO1I,function OI1I111I)
set OIII1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIII1II,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OIII1II,Condition(function OI1OIIOI))
call TriggerAddAction(OIII1II,function OI1OII1I)
set OIII1OI=CreateTrigger()
call TriggerRegisterTimerExpireEvent(OIII1OI,II11IO)
call TriggerAddAction(OIII1OI,function OI1OIO1I)
set OIII11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIII11I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OIII11I,Condition(function OI1OI1OI))
call TriggerAddAction(OIII11I,function OI1OI11I)
set OIIOIII=CreateTrigger()
call TriggerAddAction(OIIOIII,function OI1OOI1I)
set OIIOIOI=CreateTrigger()
call TriggerAddAction(OIIOIOI,function OI1OOOOI)
set OIIOI1I=CreateTrigger()
call DisableTrigger(OIIOI1I)
call TriggerAddAction(OIIOI1I,function OI1OO1II)
set OIIOOII=CreateTrigger()
call TriggerRegisterTimerExpireEvent(OIIOOII,IO111I)
call TriggerAddAction(OIIOOII,function OI1O1IOI)
set OIIOOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIIOOOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIIOOOI,Condition(function OI1O1OII))
call TriggerAddAction(OIIOOOI,function OI1O11OI)
set OIIOO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIIOO1I,EVENT_PLAYER_UNIT_LOADED)
call TriggerAddCondition(OIIOO1I,Condition(function OI11IIII))
call TriggerAddAction(OIIOO1I,function OI11IIOI)
set OIIO1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIIO1II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIIO1II,Condition(function OI11IOII))
call TriggerAddAction(OIIO1II,function OI11I1II)
set OIIO1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIIO1OI,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerRegisterAnyUnitEventBJ(OIIO1OI,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(OIIO1OI,Condition(function OI11I11I))
call TriggerAddAction(OIIO1OI,function OI11OIII)
set OIIO11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIIO11I,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(OIIO11I,Condition(function OI11OI1I))
call TriggerAddAction(OIIO11I,function OI11OOII)
set OII1III=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OII1III,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(OII1III,Condition(function OI11O1OI))
call TriggerAddAction(OII1III,function OI11O11I)
set OII1IOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OII1IOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OII1IOI,Condition(function OI111IOI))
call TriggerAddAction(OII1IOI,function OI111I1I)
set OII1I1I=CreateTrigger()
call TriggerRegisterTimerExpireEvent(OII1I1I,I1IOOI)
call TriggerAddAction(OII1I1I,function OOIIIIOI)
set OII1OII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OII1OII,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OII1OII,Condition(function OOIIIOII))
call TriggerAddAction(OII1OII,function OOIIIOOI)
set OII1OOI=CreateTrigger()
call TriggerAddAction(OII1OOI,function OOIII1II)
set OII11II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OII11II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OII11II,Condition(function OOIIOI1I))
call TriggerAddAction(OII11II,function OOIIOOII)
set OII11OI=CreateTrigger()
call DisableTrigger(OII11OI)
call TriggerRegisterEnterRectSimple(OII11OI,bj_mapInitialPlayableArea)
call TriggerAddCondition(OII11OI,Condition(function OOIIOO1I))
call TriggerAddAction(OII11OI,function OOIIO1II)
set OII111I=CreateTrigger()
call TriggerRegisterTimerExpireEvent(OII111I,IO1OOI)
call TriggerAddAction(OII111I,function OOIIO11I)
set OIOIIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOIIII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIOIIII,Condition(function OOII1IOI))
call TriggerAddAction(OIOIIII,function OOII1I1I)
set OIOIIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOIIOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIOIIOI,Condition(function OOII111I))
call TriggerAddAction(OIOIIOI,function OOIOIIII)
set OIOII1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOII1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIOII1I,Condition(function OOIOII1I))
call TriggerAddAction(OIOII1I,function OOIOIOII)
set OIOIOII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOIOII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIOIOII,Condition(function OOIOI1II))
call TriggerAddAction(OIOIOII,function OOIOI1OI)
set OIOIOOI=CreateTrigger()
set II1OOO[1]='A0K3'
set II1OOO[2]='A0K4'
set II1OOO[3]='A05T'
set II1OOO[4]='A0BI'
call TriggerRegisterAnyUnitEventBJ(OIOIOOI,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(OIOIOOI,Condition(function OOIOOIII))
call TriggerAddAction(OIOIOOI,function OOIOOIOI)
set OIOIO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOIO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIOIO1I,Condition(function OOIOOOII))
call TriggerAddAction(OIOIO1I,function OOIOOOOI)
set OIOI1II=CreateTrigger()
call TriggerAddAction(OIOI1II,function OOIOO11I)
set OIOI1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOI1OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIOI1OI,Condition(function OOIO1IOI))
call TriggerAddAction(OIOI1OI,function OOIO1OII)
set OIOI11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOI11I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OIOI11I,Condition(function OOIO1O1I))
call TriggerAddAction(OIOI11I,function OOI1IIII)
set OIOOIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOOIII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIOOIII,Condition(function OOI1IOOI))
call TriggerAddAction(OIOOIII,function OOI1IO1I)
set OIOOIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOOIOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIOOIOI,Condition(function OOI1OIII))
call TriggerAddAction(OIOOIOI,function OOI1OIOI)
set OIOOI1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOOI1I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OIOOI1I,Condition(function OOI1OOII))
call TriggerAddAction(OIOOI1I,function OOI1OOOI)
set OIOOOII=CreateTrigger()
call DisableTrigger(OIOOOII)
call TriggerAddAction(OIOOOII,function OOI1O1II)
set OIOOOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOOOOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIOOOOI,Condition(function OOI11OOI))
call TriggerAddAction(OIOOOOI,function OOI11O1I)
set OIOOO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOOO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIOOO1I,Condition(function OOI111OI))
call TriggerAddAction(OIOOO1I,function OOOIIIOI)
set OIOO1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOO1II,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(OIOO1II,Condition(function OOOIIOOI))
call TriggerAddAction(OIOO1II,function OOOIIO1I)
set OIOO1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOO1OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIOO1OI,Condition(function OOOII1OI))
call TriggerAddAction(OIOO1OI,function OOOII11I)
set OIOO11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIOO11I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIOO11I,Condition(function OOOIOIOI))
call TriggerAddAction(OIOO11I,function OOOIOI1I)
set OIO1III=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIO1III,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIO1III,Condition(function OOOIOOOI))
call TriggerAddAction(OIO1III,function OOOIO1II)
set OIO1IOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIO1IOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIO1IOI,Condition(function OOOIO11I))
call TriggerAddAction(OIO1IOI,function OOOI1I1I)
set OIO1I1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIO1I1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIO1I1I,Condition(function OOOI1OOI))
call TriggerAddAction(OIO1I1I,function OOOI1O1I)
set OIO1OII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIO1OII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIO1OII,Condition(function OOOOIOII))
call TriggerAddAction(OIO1OII,function OOOOIOOI)
set OIO1OOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIO1OOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIO1OOI,Condition(function OOOOI11I))
call TriggerAddAction(OIO1OOI,function OOOOOIII)
set OIO1O1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIO1O1I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OIO1O1I,Condition(function OOOOOI1I))
call TriggerAddAction(OIO1O1I,function OOOOOOII)
set OIO11II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIO11II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OIO11II,Condition(function OOOOO11I))
call TriggerAddAction(OIO11II,function OOOO1III)
set OIO11OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OIO11OI,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OIO11OI,Condition(function OOOO1I1I))
call TriggerAddAction(OIO11OI,function OOOO1OII)
set OIO111I=CreateTrigger()
call DisableTrigger(OIO111I)
call TriggerAddCondition(OIO111I,Condition(function OOOO1O1I))
call TriggerAddAction(OIO111I,function OOOO11II)
set OI1IIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1IIII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OI1IIII,Condition(function OOOO111I))
call TriggerAddAction(OI1IIII,function OOO1IIII)
set OI1IIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1IIOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OI1IIOI,Condition(function OOO1II1I))
call TriggerAddAction(OI1IIOI,function OOO1IOII)
set OI1II1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1II1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OI1II1I,Condition(function OOO1IO1I))
call TriggerAddAction(OI1II1I,function OOO1I1II)
set OI1IOII=CreateTrigger()
call DisableTrigger(OI1IOII)
call TriggerRegisterAnyUnitEventBJ(OI1IOII,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(OI1IOII,Condition(function OOO1I11I))
call TriggerAddAction(OI1IOII,function OOO1OIII)
set OI1IOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1IOOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OI1IOOI,Condition(function OOO1OI1I))
call TriggerAddAction(OI1IOOI,function OOO1OOII)
set OI1IO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1IO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OI1IO1I,Condition(function OOO1OO1I))
call TriggerAddAction(OI1IO1I,function OOO1O1II)
set OI1I1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1I1II,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OI1I1II,Condition(function OOO1O11I))
call TriggerAddAction(OI1I1II,function OOO11IOI)
set OI1I1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1I1OI,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(OI1I1OI,Condition(function OOO11OII))
call TriggerAddAction(OI1I1OI,function OOO11O1I)
set OI1OIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1OIII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OI1OIII,Condition(function OO1IIIOI))
call TriggerAddAction(OI1OIII,function OO1III1I)
set daoxuethreet2=CreateTrigger()
call DisableTrigger(daoxuethreet2)
call TriggerRegisterAnyUnitEventBJ(daoxuethreet2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(daoxuethreet2,Condition(function daoxuethreef3))
call TriggerAddAction(daoxuethreet2,function daoxuethreef4)
set baidi3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(baidi3,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(baidi3,Condition(function baidi31))
call TriggerAddAction(baidi3,function baidi32)
set xin1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xin1,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(xin1,Condition(function xin11))
call TriggerAddAction(xin1,function xin12)
set zongmao0=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(zongmao0,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(zongmao0,Condition(function zongmao01))
call TriggerAddAction(zongmao0,function zongmao02)
set benyuan1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(benyuan1,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(benyuan1,Condition(function benyuan11))
call TriggerAddAction(benyuan1,function benyuan12)
set xin1sizet=CreateTrigger()
call TriggerAddCondition(xin1sizet,Condition(function xin1size1))
call TriggerAddAction(xin1sizet,function xin1size2)
set shi1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(shi1,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(shi1,Condition(function shi11))
call TriggerAddAction(shi1,function shi12)
set shi2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(shi2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(shi2,Condition(function shi21))
call TriggerAddAction(shi2,function shi22)
set OI1OIOI=CreateTrigger()
call DisableTrigger(OI1OIOI)
call TriggerRegisterTimerExpireEvent(OI1OIOI,O1OIII)
call TriggerAddAction(OI1OIOI,function OO1II1OI)
set OI1OI1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1OI1I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OI1OI1I,Condition(function OO1IOIII))
call TriggerAddAction(OI1OI1I,function OO1IOIOI)
set OI1OOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1OOOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OI1OOOI,Condition(function OO1IO11I))
call TriggerAddAction(OI1OOOI,function OO1I1IOI)
set OI1O1II=CreateTrigger()
call DisableTrigger(OI1O1II)
call TriggerRegisterAnyUnitEventBJ(OI1O1II,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(OI1O1II,Condition(function OO1OII1I))
call TriggerAddAction(OI1O1II,function OO1OIOII)
set OI1O1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1O1OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OI1O1OI,Condition(function OO1OOIII))
call TriggerAddAction(OI1O1OI,function OO1OOI1I)
set OI1O11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1O11I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OI1O11I,Condition(function OO1OOOOI))
call TriggerAddAction(OI1O11I,function OO1OO1OI)
set OI11III=CreateTrigger()
call DisableTrigger(OI11III)
call TriggerRegisterAnyUnitEventBJ(OI11III,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerRegisterAnyUnitEventBJ(OI11III,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterAnyUnitEventBJ(OI11III,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(OI11III,Condition(function OO1O1III))
call TriggerAddAction(OI11III,function OO1O1IOI)
set OI11IOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI11IOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OI11IOI,Condition(function OO1O1OII))
call TriggerAddAction(OI11IOI,function OO1O1O1I)
set OI11I1I=CreateTrigger()
call DisableTrigger(OI11I1I)
call TriggerRegisterAnyUnitEventBJ(OI11I1I,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(OI11I1I,Condition(function OO1O11OI))
call TriggerAddAction(OI11I1I,function OO11II1I)
set OI11OII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI11OII,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OI11OII,Condition(function OO11IOOI))
call TriggerAddAction(OI11OII,function OO11IO1I)
set OI11OOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI11OOI,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OI11OOI,Condition(function OO11I1OI))
call TriggerAddAction(OI11OOI,function OO11OIII)
set OI11O1I=CreateTrigger()
call TriggerAddCondition(OI11O1I,Condition(function OO11OOII))
call TriggerAddAction(OI11O1I,function OO11OOOI)
set OI111II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI111II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OI111II,Condition(function OO111OII))
call TriggerAddAction(OI111II,function OO111OOI)
set OI111OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI111OI,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OI111OI,Condition(function OO1111II))
call TriggerAddAction(OI111OI,function OO1111OI)
set OI1111I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1111I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OI1111I,Condition(function O1IIIIII))
call TriggerAddAction(OI1111I,function O1IIII1I)
set OOIIIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOIIIII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOIIIII,Condition(function O1IIIOOI))
call TriggerAddAction(OOIIIII,function O1IIIO1I)
set OOIIIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOIIIOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOIIIOI,Condition(function O1III1OI))
call TriggerAddAction(OOIIIOI,function O1III11I)
set OOIII1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOIII1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOIII1I,Condition(function O1IIOOOI))
call TriggerAddAction(OOIII1I,function O1IIOO1I)
set OOIIOII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOIIOII,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OOIIOII,Condition(function O1IIO11I))
call TriggerAddAction(OOIIOII,function O1II1III)
set OOIIOOI=CreateTrigger()
call TriggerAddAction(OOIIOOI,function O1II1I1I)
set OOIIO1I=CreateTrigger()
call TriggerAddCondition(OOIIO1I,Condition(function O1II1OOI))
call TriggerAddAction(OOIIO1I,function O1II11II)
set OOII1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOII1II,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OOII1II,Condition(function O1II111I))
call TriggerAddAction(OOII1II,function O1IOIIII)
set OOII1OI=CreateTrigger()
call TriggerAddCondition(OOII1OI,Condition(function O1IOII1I))
call TriggerAddAction(OOII1OI,function O1IOIOOI)
set OOII11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOII11I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOII11I,Condition(function O1IOI1OI))
call TriggerAddAction(OOII11I,function O1IOI11I)
call O1IOOI1I()
set OOIOIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOIOIII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOIOIII,Condition(function O1IOOOII))
call TriggerAddAction(OOIOIII,function O1IOOOOI)
set OOIOIOI=CreateTrigger()
call TriggerRegisterTimerExpireEvent(OOIOIOI,O1OOO)
call TriggerAddAction(OOIOIOI,function O1IOO1II)
set OOIOI1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOIOI1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOIOI1I,Condition(function O1IOO11I))
call TriggerAddAction(OOIOI1I,function O1IO1III)
set OOIOOII=CreateTrigger()
call DisableTrigger(OOIOOII)
call TriggerRegisterTimerEventPeriodic(OOIOOII,.06)
call TriggerAddAction(OOIOOII,function O1I1IIII)
set tiebigcoolt=CreateTrigger()
call TriggerRegisterTimerExpireEvent(tiebigcoolt,tiebigtime)
call TriggerAddAction(tiebigcoolt,function tiebigcoolf)
set OOIOOOI=CreateTrigger()
call TriggerRegisterTimerExpireEvent(OOIOOOI,O1OI[2])
call TriggerAddAction(OOIOOOI,function O1I1IO1I)
set OOIOO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOIOO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOIOO1I,Condition(function O1I1I1OI))
call TriggerAddAction(OOIOO1I,function O1I1OIII)
set OOIO1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOIO1II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOIO1II,Condition(function O1I1OI1I))
call TriggerAddAction(OOIO1II,function O1I1OOII)
set OOIO1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOIO1OI,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OOIO1OI,Condition(function O1I1OO1I))
call TriggerAddAction(OOIO1OI,function O1I1O1II)
set OOIO11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOIO11I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OOIO11I,Condition(function O1I1O11I))
call TriggerAddAction(OOIO11I,function O1I11IOI)
set OOI1III=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOI1III,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OOI1III,Condition(function O1I11OII))
call TriggerAddAction(OOI1III,function O1I111II)
set OOI1IOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOI1IOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOI1IOI,Condition(function O1I1111I))
call TriggerAddAction(OOI1IOI,function O1OIIIII)
set OOI1I1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOI1I1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOI1I1I,Condition(function O1OIII1I))
call TriggerAddAction(OOI1I1I,function O1OIIOII)
set OOI1OII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOI1OII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOI1OII,Condition(function O1OIIO1I))
call TriggerAddAction(OOI1OII,function O1OII1II)
set OOI1OOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOI1OOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOI1OOI,Condition(function O1OII11I))
call TriggerAddAction(OOI1OOI,function O1OIOIII)
set OOI1O1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOI1O1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOI1O1I,Condition(function O1OIOI1I))
call TriggerAddAction(OOI1O1I,function O1OIOOII)
set OOI11II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOI11II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOI11II,Condition(function O1OIOO1I))
call TriggerAddAction(OOI11II,function O1OIO1OI)
set guobigt=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(guobigt,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(guobigt,Condition(function guobig))
call TriggerAddAction(guobigt,function guobig2)
set OOI11OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOI11OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOI11OI,Condition(function O1OI1IOI))
call TriggerAddAction(OOI11OI,function O1OI1I1I)
set OOI111I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOI111I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OOI111I,Condition(function O1OI1OOI))
call TriggerAddAction(OOI111I,function O1OI1O1I)
//===========================================================================
// InitTrig_fs
//===========================================================================
set OOOIIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOOIIII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOOIIII,Condition(function O1OI11OI))
call TriggerAddAction(OOOIIII,function O1OOIIII)
//===========================================================================
set OOOIIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOOIIOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOOIIOI,Condition(function O1OOII1I))
call TriggerAddAction(OOOIIOI,function O1OOIOOI)
set OOOII1I=CreateTrigger()
call DisableTrigger(OOOII1I)
call TriggerRegisterTimerEventPeriodic(OOOII1I,.04)
call TriggerAddAction(OOOII1I,function O1OOOIII)
set OOOIOII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOOIOII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOOIOII,Condition(function O1OOOI1I))
call TriggerAddAction(OOOIOII,function O1OOOOII)
set OOOIOOI=CreateTrigger()
call DisableTrigger(OOOIOOI)
call TriggerRegisterEnterRectSimple(OOOIOOI,bj_mapInitialPlayableArea)
call TriggerAddCondition(OOOIOOI,Condition(function O1OOOO1I))
call TriggerAddAction(OOOIOOI,function O1OOO1II)
set OOOIO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOOIO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOOIO1I,Condition(function O1OOO11I))
call TriggerAddAction(OOOIO1I,function O1OO1IOI)
set OOOI1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOOI1II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOOI1II,Condition(function O1OO1OII))
call TriggerAddAction(OOOI1II,function O1OO1OOI)
set OOOI1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOOI1OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOOI1OI,Condition(function O1OO11II))
call TriggerAddAction(OOOI1OI,function O1OO11OI)
set OOOI11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOOI11I,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(OOOI11I,Condition(function O1O1IIII))
call TriggerAddAction(OOOI11I,function O1O1II1I)
set OOOOIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOOOIII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOOOIII,Condition(function O1O1IOOI))
call TriggerAddAction(OOOOIII,function O1O1IO1I)
set OOOOIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOOOIOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOOOIOI,Condition(function O1O1I1OI))
call TriggerAddAction(OOOOIOI,function O1O1OIII)
set OOOOI1I=CreateTrigger()
call TriggerAddAction(OOOOI1I,function O1O1OI1I)
set OOOOOII=CreateTrigger()
call TriggerRegisterTimerExpireEvent(OOOOOII,OIOO1I)
call TriggerAddAction(OOOOOII,function O1O1OO1I)
set OOOOOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOOOOOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOOOOOI,Condition(function O1O1O1OI))
call TriggerAddAction(OOOOOOI,function O1O11III)
set xinzhong=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xinzhong,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(xinzhong,Condition(function xinzhongf1))
call TriggerAddAction(xinzhong,function xinzhongf2)
set shenyuan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(shenyuan,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(shenyuan,Condition(function shenyuanf1))
call TriggerAddAction(shenyuan,function shenyuanf2)
set erlong=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(erlong,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(erlong,Condition(function erlong1))
call TriggerAddAction(erlong,function erlong2)
set OOOOO1I=CreateTrigger()
call DisableTrigger(OOOOO1I)
call TriggerRegisterTimerEventPeriodic(OOOOO1I,.1)
call TriggerAddAction(OOOOO1I,function O1O11OII)
set OOOO1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOOO1II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOOO1II,Condition(function O1O111II))
call TriggerAddAction(OOOO1II,function O1O111OI)
set OOOO1OI=CreateTrigger()
call TriggerAddCondition(OOOO1OI,Condition(function O11IIIII))
call TriggerAddAction(OOOO1OI,function O11IIOII)
set OOOO11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOOO11I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOOO11I,Condition(function O11IIO1I))
call TriggerAddAction(OOOO11I,function O11II1II)
set OOO1III=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOO1III,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OOO1III,Condition(function O11II11I))
call TriggerAddAction(OOO1III,function O11IOIII)
set OOO1IOI=CreateTrigger()
call DisableTrigger(OOO1IOI)
call TriggerRegisterTimerEventPeriodic(OOO1IOI,.08)
call TriggerAddAction(OOO1IOI,function O11IO11I)
set OOO1I1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOO1I1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOO1I1I,Condition(function O11I1IOI))
call TriggerAddAction(OOO1I1I,function O11I1OOI)
set OOO1OII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOO1OII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOO1OII,Condition(function O11I11II))
call TriggerAddAction(OOO1OII,function O11I11OI)
set OOO1OOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOO1OOI,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(OOO1OOI,Condition(function O11OIIII))
call TriggerAddAction(OOO1OOI,function O11OIIOI)
set OOO1O1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOO1O1I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OOO1O1I,Condition(function O11OIOII))
call TriggerAddAction(OOO1O1I,function O11OIOOI)
set OOO11II=CreateTrigger()
call TriggerAddCondition(OOO11II,Condition(function O11OI1II))
call TriggerAddAction(OOO11II,function O11OI1OI)
set OOO11OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OOO11OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OOO11OI,Condition(function O11OOIII))
call TriggerAddAction(OOO11OI,function O11OOIOI)
set OOO111I=CreateTrigger()
call DisableTrigger(OOO111I)
call TriggerRegisterAnyUnitEventBJ(OOO111I,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(OOO111I,Condition(function O11OOOII))
call TriggerAddAction(OOO111I,function O11OOOOI)
set OO1IIII=CreateTrigger()
call DisableTrigger(OO1IIII)
call TriggerRegisterAnyUnitEventBJ(OO1IIII,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(OO1IIII,Condition(function O11OO1II))
call TriggerAddAction(OO1IIII,function O11OO1OI)
set OO1IIOI=CreateTrigger()
call TriggerAddAction(OO1IIOI,function O11O1III)
set OO1II1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO1II1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OO1II1I,Condition(function O11O1I1I))
call TriggerAddAction(OO1II1I,function O11O1O1I)
set OO1IOII=CreateTrigger()
call TriggerRegisterTimerExpireEvent(OO1IOII,IO1I1O)
call TriggerAddAction(OO1IOII,function O11O111I)
set OO1IOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO1IOOI,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(OO1IOOI,Condition(function O111IIOI))
call TriggerAddAction(OO1IOOI,function O111IOII)
set OO1IO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO1IO1I,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(OO1IO1I,Condition(function O111IO1I))
call TriggerAddAction(OO1IO1I,function O111I1II)
set OO1I1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO1I1II,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(OO1I1II,Condition(function O111OIII))
call TriggerAddAction(OO1I1II,function O111OIOI)
set OO1I1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO1I1OI,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(OO1I1OI,Condition(function O111OOOI))
call TriggerAddAction(OO1I1OI,function O111OO1I)
call O1111I1I()
set OO1I11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO1I11I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OO1I11I,Condition(function O1111OII))
call TriggerAddAction(OO1I11I,function O1111O1I)
set OO1OIII=CreateTrigger()
call DisableTrigger(OO1OIII)
call TriggerRegisterAnyUnitEventBJ(OO1OIII,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(OO1OIII,Condition(function O11111OI))
call TriggerAddAction(OO1OIII,function IIIIIIIO)
set OO1OIOI=CreateTrigger()
call DisableTrigger(OO1OIOI)
call TriggerRegisterAnyUnitEventBJ(OO1OIOI,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(OO1OIOI,Condition(function IIIIIOIO))
call TriggerAddAction(OO1OIOI,function IIIIIOOO)
set OO1OI1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO1OI1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OO1OI1I,Condition(function IIIIOOIO))
call TriggerAddAction(OO1OI1I,function IIIIOOOO)
set OO1OOII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO1OOII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OO1OOII,Condition(function IIIIO1IO))
call TriggerAddAction(OO1OOII,function IIII1IIO)
set OO1OOOI=CreateTrigger()
call TriggerAddCondition(OO1OOOI,Condition(function IIII1I1O))
call TriggerAddAction(OO1OOOI,function IIII1OIO)
set OO1OO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO1OO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OO1OO1I,Condition(function IIII1O1O))
call TriggerAddAction(OO1OO1I,function IIII11IO)
set OO1O1II=CreateTrigger()
call TriggerAddAction(OO1O1II,function IIIOII1O)
set OO1O1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO1O1OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OO1O1OI,Condition(function IIIOIOOO))
call TriggerAddAction(OO1O1OI,function IIIOI1IO)
set OO1O11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO1O11I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OO1O11I,Condition(function IIIOOIIO))
call TriggerAddAction(OO1O11I,function IIIOOI1O)
set I11111O=CreateTrigger()
call DisableTrigger(I11111O)
call TriggerRegisterAnyUnitEventBJ(I11111O,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(I11111O,Condition(function IIIOI11O))
set T=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(T,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(T,Condition(function IIIO1IIO))
call TriggerAddAction(T,function IIIO1IOO)
set T=null
set OO11III=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO11III,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OO11III,Condition(function IIIO1OOO))
call TriggerAddAction(OO11III,function IIIO1O1O)
set OO11IOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO11IOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OO11IOI,Condition(function IIIO11OO))
call TriggerAddAction(OO11IOI,function III1II1O)
set OO11I1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO11I1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OO11I1I,Condition(function III1IOOO))
call TriggerAddAction(OO11I1I,function III1I1OO)
set OO11OII=CreateTrigger()
call DisableTrigger(OO11OII)
call TriggerRegisterTimerExpireEvent(OO11OII,I11I1I)
call TriggerAddAction(OO11OII,function III1OOIO)
set OO11OOI=CreateTrigger()
call DisableTrigger(OO11OOI)
call TriggerRegisterAnyUnitEventBJ(OO11OOI,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerRegisterAnyUnitEventBJ(OO11OOI,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(OO11OOI,Condition(function III1OO1O))
call TriggerAddAction(OO11OOI,function III1O1IO)
set OO11O1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO11O1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OO11O1I,Condition(function III1O11O))
call TriggerAddAction(OO11O1I,function III11IIO)
set OO111II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO111II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OO111II,Condition(function III11OIO))
call TriggerAddAction(OO111II,function III11OOO)
set OO111OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OO111OI,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(OO111OI,Condition(function III111IO))
call TriggerAddAction(OO111OI,function III111OO)
set O1IIIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1IIIII,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(O1IIIII,Condition(function IIOII11O))
call TriggerAddAction(O1IIIII,function IIOIOIIO)
set O1IIIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1IIIOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1IIIOI,Condition(function IIOIOI1O))
call TriggerAddAction(O1IIIOI,function IIOIOOIO)
set O1III1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1III1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1III1I,Condition(function IIOIOO1O))
call TriggerAddAction(O1III1I,function IIOI1IIO)
set O1IIOII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1IIOII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1IIOII,Condition(function IIOI1I1O))
call TriggerAddAction(O1IIOII,function IIOI1OIO)
set O1IIOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1IIOOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1IIOOI,Condition(function IIOI11OO))
call TriggerAddAction(O1IIOOI,function IIOI111O)
set O1IIO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1IIO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1IIO1I,Condition(function IIOOII1O))
call TriggerAddAction(O1IIO1I,function IIOOIOOO)
set O1II1II=CreateTrigger()
call TriggerAddAction(O1II1II,function IIOOI1OO)
set O1II1OI=CreateTrigger()
call TriggerAddAction(O1II1OI,function IIOOOIOO)
set O1IOIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1IOIII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1IOIII,Condition(function IIOO1IOO))
call TriggerAddAction(O1IOIII,function IIOO1I1O)
set O1IOIOI=CreateTrigger()
call TriggerRegisterTimerExpireEvent(O1IOIOI,OI1IO)
call TriggerAddAction(O1IOIOI,function IIOO11OO)
set O1IOI1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1IOI1I,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(O1IOI1I,Condition(function IIO1IIIO))
call TriggerAddAction(O1IOI1I,function IIO1IIOO)
set O1IOOII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1IOOII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1IOOII,Condition(function IIO1IOIO))
call TriggerAddAction(O1IOOII,function IIO1IOOO)
set O1IOOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1IOOOI,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(O1IOOOI,Condition(function IIO1I1IO))
call TriggerAddAction(O1IOOOI,function IIO1I1OO)
set O1IOO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1IOO1I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(O1IOO1I,Condition(function IIO1OIIO))
call TriggerAddAction(O1IOO1I,function IIO1OIOO)
set O1IO1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1IO1II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1IO1II,Condition(function IIO1OOIO))
call TriggerAddAction(O1IO1II,function IIO1OOOO)
set O1IO1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1IO1OI,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(O1IO1OI,Condition(function IIO1O1OO))
call TriggerAddAction(O1IO1OI,function IIO1O11O)
set O1IO11I=CreateTrigger()
call TriggerAddAction(O1IO11I,function IIO11IOO)
set O1I1III=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1I1III,EVENT_PLAYER_UNIT_CONSTRUCT_START)
call TriggerAddCondition(O1I1III,Condition(function IIO11OIO))
call TriggerAddAction(O1I1III,function IIO11OOO)
set O1I1I1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1I1I1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1I1I1I,Condition(function II1IIIIO))
call TriggerAddAction(O1I1I1I,function II1IIIOO)
set O1I1OII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1I1OII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1I1OII,Condition(function II1IIO1O))
call TriggerAddAction(O1I1OII,function II1II1IO)
set O1I1OOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1I1OOI,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(O1I1OOI,Condition(function II1II11O))
call TriggerAddAction(O1I1OOI,function II1IOIOO)
set O1I1O1I=CreateTrigger()
call DisableTrigger(O1I1O1I)
call TriggerRegisterAnyUnitEventBJ(O1I1O1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1I1O1I,Condition(function II1IOOIO))
call TriggerAddAction(O1I1O1I,function II1IOOOO)
set O1I11II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1I11II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1I11II,Condition(function II1IO1IO))
call TriggerAddAction(O1I11II,function II1IO1OO)
set O1I11OI=CreateTrigger()
call DisableTrigger(O1I11OI)
call TriggerAddAction(O1I11OI,function II1I1IIO)
set O1I111I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1I111I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(O1I111I,Condition(function II1I1I1O))
call TriggerAddAction(O1I111I,function II1I1OIO)
set O1OIIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OIIII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1OIIII,Condition(function II1I1O1O))
call TriggerAddAction(O1OIIII,function II1I11IO)
set O1OIIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OIIOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1OIIOI,Condition(function II1I111O))
call TriggerAddAction(O1OIIOI,function II1OIIIO)
set O1OII1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OII1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1OII1I,Condition(function II1OII1O))
call TriggerAddAction(O1OII1I,function II1OIOIO)
set O1OIOII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OIOII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1OIOII,Condition(function II1OIO1O))
call TriggerAddAction(O1OIOII,function II1OI1IO)
set O1OIOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OIOOI,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(O1OIOOI,Condition(function II1OI11O))
call TriggerAddAction(O1OIOOI,function II1OOIOO)
set O1OIO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OIO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1OIO1I,Condition(function II1OOOIO))
call TriggerAddAction(O1OIO1I,function II1OOOOO)
set xiangzong=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xiangzong,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(xiangzong,Condition(function xiangzong1))
call TriggerAddAction(xiangzong,function xiangzong2)
set xiangzongt=CreateTrigger()
call DisableTrigger(xiangzongt)
call TriggerAddAction(xiangzongt,function xiangzong3)
set erlongs1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(erlongs1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(erlongs1,Condition(function erlongs11))
call TriggerAddAction(erlongs1,function erlongs12)
set erlongs2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(erlongs2,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(erlongs2,Condition(function erlongs21))
call TriggerAddAction(erlongs2,function erlongs22)
set erlongs2t=CreateTrigger()
call DisableTrigger(erlongs2t)
call TriggerAddAction(erlongs2t,function erlongs23)
set shichuan2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(shichuan2,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(shichuan2,Condition(function shichuan21))
call TriggerAddAction(shichuan2,function shichuan22)
set shichuan2t=CreateTrigger()
call DisableTrigger(shichuan2t)
call TriggerAddAction(shichuan2t,function shichuan2t1)
set arrow1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(arrow1,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(arrow1,Condition(function arrow11))
call TriggerAddAction(arrow1,function arrow12)
set arrow1t=CreateTrigger()
call DisableTrigger(arrow1t)
call TriggerAddAction(arrow1t,function arrow1t1)
set O1OI1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OI1II,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(O1OI1II,Condition(function II1OO1IO))
call TriggerAddAction(O1OI1II,function II1OO1OO)
set O1OI1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OI1OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1OI1OI,Condition(function II1O1IIO))
call TriggerAddAction(O1OI1OI,function II1O1OOO)
set O1OOIII=CreateTrigger()
call DisableTrigger(O1OOIII)
call TriggerAddAction(O1OOIII,function II11IOIO)
set O1OOIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OOIOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1OOIOI,Condition(function II11IO1O))
call TriggerAddAction(O1OOIOI,function II11I1IO)
set O1OOI1I=CreateTrigger()
call TriggerRegisterTimerExpireEvent(O1OOI1I,OO11O)
call TriggerAddAction(O1OOI1I,function II11I11O)
set O1OOOII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OOOII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1OOOII,Condition(function II11OIOO))
call TriggerAddAction(O1OOOII,function II11OI1O)
set O1OOOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OOOOI,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(O1OOOOI,Condition(function II11OOOO))
call TriggerAddAction(O1OOOOI,function II11OO1O)
set O1OOO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OOO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1OOO1I,Condition(function II11O1OO))
call TriggerAddAction(O1OOO1I,function II11O11O)
set O1OO1II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OO1II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1OO1II,Condition(function II111I1O))
call TriggerAddAction(O1OO1II,function II111OOO)
set O1OO1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OO1OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1OO1OI,Condition(function II1111IO))
call TriggerAddAction(O1OO1OI,function II11111O)
set O1OO11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1OO11I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1OO11I,Condition(function IOIIIIOO))
call TriggerAddAction(O1OO11I,function IOIIIOIO)
set hhtsj=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(hhtsj,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(hhtsj,Condition(function hhtsj1))
call TriggerAddAction(hhtsj,function hhtsj2)
set O1O1III=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1O1III,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1O1III,Condition(function IOIII1IO))
call TriggerAddAction(O1O1III,function IOIII1OO)
set O1O1IOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1O1IOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1O1IOI,Condition(function IOIIOIIO))
call TriggerAddAction(O1O1IOI,function IOIIOI1O)
set O1O1I1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1O1I1I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(O1O1I1I,Condition(function IOIIOOOO))
call TriggerAddAction(O1O1I1I,function IOIIOO1O)
set O1O1OII=CreateTrigger()
call TriggerAddAction(O1O1OII,function IOIIO11O)
set O1O1OOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1O1OOI,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(O1O1OOI,Condition(function IOII1IOO))
call TriggerAddAction(O1O1OOI,function IOII1I1O)
set O1O1O1I=CreateTrigger()
call DisableTrigger(O1O1O1I)
call TriggerRegisterTimerEventPeriodic(O1O1O1I,.1)
call TriggerAddAction(O1O1O1I,function IOII1OOO)
set O1O11II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1O11II,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1O11II,Condition(function IOII11OO))
call TriggerAddAction(O1O11II,function IOII111O)
set O1O11OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1O11OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1O11OI,Condition(function IOIOIIOO))
call TriggerAddAction(O1O11OI,function IOIOII1O)
set O1O111I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1O111I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1O111I,Condition(function IOIOIOOO))
call TriggerAddAction(O1O111I,function IOIOIO1O)
set O11IIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O11IIII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O11IIII,Condition(function IOIOI1OO))
call TriggerAddAction(O11IIII,function IOIOI11O)
set O11IIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O11IIOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O11IIOI,Condition(function IOIOOIOO))
call TriggerAddAction(O11IIOI,function IOIOOI1O)
set O11II1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O11II1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O11II1I,Condition(function IOIOOOOO))
call TriggerAddAction(O11II1I,function IOIOOO1O)
set O11IOII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O11IOII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O11IOII,Condition(function IOIOO1OO))
call TriggerAddAction(O11IOII,function IOIOO11O)
set O11IOOI=CreateTrigger()
call TriggerRegisterTimerExpireEvent(O11IOOI,IIIO1I)
call TriggerAddAction(O11IOOI,function IOIO1I1O)
set O11IO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O11IO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O11IO1I,Condition(function IOIO1OOO))
call TriggerAddAction(O11IO1I,function IOIO11OO)
set O11I1II=CreateTrigger()
call TriggerRegisterEnterRectSimple(O11I1II,bj_mapInitialPlayableArea)
call TriggerAddCondition(O11I1II,Condition(function IOI1IIIO))
call TriggerAddAction(O11I1II,function IOI1IIOO)
set O11I1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O11I1OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O11I1OI,Condition(function IOI1IOIO))
call TriggerAddAction(O11I1OI,function IOI1IOOO)
set O11I11I=CreateTrigger()
call DisableTrigger(O11I11I)
call TriggerRegisterTimerEventPeriodic(O11I11I,.03)
call TriggerAddAction(O11I11I,function IOI1OIOO)
set O11OIII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O11OIII,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(O11OIII,Condition(function IOI1OO1O))
call TriggerAddAction(O11OIII,function IOI1O1IO)
set O11OIOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O11OIOI,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(O11OIOI,Condition(function IOI1O11O))
call TriggerAddAction(O11OIOI,function IOI11I1O)
set O11OI1I=CreateTrigger()
call DisableTrigger(O11OI1I)
call TriggerAddCondition(O11OI1I,Condition(function IOI11OOO))
call TriggerAddAction(O11OI1I,function IOI11O1O)
set OI1O11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(OI1O11I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(OI1O11I,Condition(function IOI111OO))
call TriggerAddAction(OI1O11I,function IOOIIIOO)
set O11OOII=CreateTrigger()
call DisableTrigger(O11OOII)
call TriggerRegisterAnyUnitEventBJ(O11OOII,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerRegisterAnyUnitEventBJ(O11OOII,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterAnyUnitEventBJ(O11OOII,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerAddCondition(O11OOII,Condition(function IOOIIOIO))
call TriggerAddAction(O11OOII,function IOOIIOOO)
set O11OOOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O11OOOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O11OOOI,Condition(function IOOII1OO))
call TriggerAddAction(O11OOOI,function IOOII11O)
set O11OO1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O11OO1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O11OO1I,Condition(function IOOIOIOO))
call TriggerAddAction(O11OO1I,function IOOIOI1O)
set O11O1II=CreateTrigger()
call TriggerRegisterTimerExpireEvent(O11O1II,O1O1OI)
call TriggerAddAction(O11O1II,function IOOIOO1O)
set O11O1OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O11O1OI,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(O11O1OI,Condition(function IOOIO1OO))
call TriggerAddAction(O11O1OI,function IOOIO11O)
set O11O11I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O11O11I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O11O11I,Condition(function IOOI1IOO))
call TriggerAddAction(O11O11I,function IOOI1I1O)
set O111III=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O111III,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O111III,Condition(function IOOI1O1O))
call TriggerAddAction(O111III,function IOOI11IO)
set O111IOI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O111IOI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O111IOI,Condition(function IOOOIIIO))
call TriggerAddAction(O111IOI,function IOOOIIOO)
set O111I1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O111I1I,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(O111I1I,Condition(function IOOOIOIO))
call TriggerAddAction(O111I1I,function IOOOIOOO)
set O111OII=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O111OII,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O111OII,Condition(function IOOOI1OO))
call TriggerAddAction(O111OII,function IOOOI11O)
set O111OOI=CreateTrigger()
call TriggerAddCondition(O111OOI,Condition(function IOOOOI1O))
call TriggerAddAction(O111OOI,function IOOOOO1O)
set O111O1I=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O111O1I,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O111O1I,Condition(function IOOOO1OO))
call TriggerAddAction(O111O1I,function IOOO1OIO)
set O1111II=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1111II,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(O1111II,Condition(function IOOO1O1O))
call TriggerAddAction(O1111II,function IOOO11IO)
set O1111OI=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(O1111OI,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(O1111OI,Condition(function IOOO111O))
call TriggerAddAction(O1111OI,function IOO1IIOO)
set IIIIIIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIIIIO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIIIIIO,Condition(function IOO1I1IO))
call TriggerAddAction(IIIIIIO,function IOO1I1OO)
set IIIIIOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIIIOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)     
call TriggerAddCondition(IIIIIOO,Condition(function IOO1OIIO))
call TriggerAddAction(IIIIIOO,function IOO1OOIO)
set daoxuethreet1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(daoxuethreet1,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(daoxuethreet1,Condition(function daoxuethreef1))
call TriggerAddAction(daoxuethreet1,function daoxuethreef2)
set IIIII1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIII1O,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IIIII1O,Condition(function IOO1OO1O))
call TriggerAddAction(IIIII1O,function IOO1O1IO)
set IIIIOIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIIOIO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerRegisterAnyUnitEventBJ(IIIIOIO,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerRegisterAnyUnitEventBJ(IIIIOIO,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerAddCondition(IIIIOIO,Condition(function IOO11IOO))
call TriggerAddAction(IIIIOIO,function IOO11I1O)
set IIIIOOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIIOOO,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(IIIIOOO,Condition(function IOO11OOO))
call TriggerAddAction(IIIIOOO,function IOO111IO)
set IIIIO1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIIO1O,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(IIIIO1O,Condition(function IO1IIIIO))
call TriggerAddAction(IIIIO1O,function IO1IIIOO)
set IIII1IO=CreateTrigger()
call TriggerRegisterTimerExpireEvent(IIII1IO,I1OOOO)
call TriggerAddAction(IIII1IO,function IO1IIOIO)
set IIII1OO=CreateTrigger()
call DisableTrigger(IIII1OO)
call TriggerRegisterAnyUnitEventBJ(IIII1OO,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(IIII1OO,Condition(function IO1IIO1O))
call TriggerAddAction(IIII1OO,function IO1II1IO)
set IIII11O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIII11O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIII11O,Condition(function IO1II11O))
call TriggerAddAction(IIII11O,function IO1IOI1O)
set IIIOIIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIOIIO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIIOIIO,Condition(function IO1IOOOO))
call TriggerAddAction(IIIOIIO,function IO1IO11O)
set IIIOIOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIOIOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIIOIOO,Condition(function IO1I1IOO))
call TriggerAddAction(IIIOIOO,function IO1I1I1O)
set IIIOI1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIOI1O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIIOI1O,Condition(function IO1I1OOO))
call TriggerAddAction(IIIOI1O,function IO1I1O1O)
set IIIOOIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIOOIO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIIOOIO,Condition(function IO1I11OO))
call TriggerAddAction(IIIOOIO,function IO1I111O)
set IIIOOOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIOOOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIIOOOO,Condition(function IO1OIIOO))
call TriggerAddAction(IIIOOOO,function IO1OII1O)
set IIIOO1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIOO1O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIIOO1O,Condition(function IO1OIOOO))
call TriggerAddAction(IIIOO1O,function IO1OIO1O)
set IIIO1IO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIO1IO,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IIIO1IO,Condition(function IO1OI1OO))
call TriggerAddAction(IIIO1IO,function IO1OI11O)
set IIIO1OO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIO1OO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIIO1OO,Condition(function IO1OOIOO))
call TriggerAddAction(IIIO1OO,function IO1OOOIO)
set IIIO11O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIIO11O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIIO11O,Condition(function IO1OOO1O))
call TriggerAddAction(IIIO11O,function IO1OO1IO)
set III1IIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(III1IIO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(III1IIO,Condition(function IO1OO11O))
call TriggerAddAction(III1IIO,function IO1O1IOO)
set III1IOO=CreateTrigger()
call DisableTrigger(III1IOO)
call TriggerRegisterAnyUnitEventBJ(III1IOO,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(III1IOO,Condition(function IO1O1OIO))
call TriggerAddAction(III1IOO,function IO1O11IO)
set III1I1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(III1I1O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(III1I1O,Condition(function IO1O111O))
call TriggerAddAction(III1I1O,function IO11IIIO)
set III1OIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(III1OIO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(III1OIO,Condition(function IO11II1O))
call TriggerAddAction(III1OIO,function IO11IOIO)
set III1OOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(III1OOO,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(III1OOO,Condition(function IO11IO1O))
call TriggerAddAction(III1OOO,function IO11I1IO)
set III1O1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(III1O1O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(III1O1O,Condition(function IO11I11O))
call TriggerAddAction(III1O1O,function IO11OIIO)
set III11IO=CreateTrigger()
call TriggerRegisterTimerExpireEvent(III11IO,OI11II)
call TriggerAddAction(III11IO,function IO11OO1O)
set III11OO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(III11OO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(III11OO,Condition(function IO11O1OO))
call TriggerAddAction(III11OO,function IO11O11O)
set III111O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(III111O,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(III111O,Condition(function IO111OOO))
call TriggerAddAction(III111O,function IO1111IO)
set IIOIIIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOIIIO,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IIOIIIO,Condition(function IO11111O))
call TriggerAddAction(IIOIIIO,function I1IIIIIO)
set IIOIIOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOIIOO,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(IIOIIOO,Condition(function I1IIII1O))
call TriggerAddAction(IIOIIOO,function I1IIIOIO)
set IIOII1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOII1O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIOII1O,Condition(function I1IIIO1O))
call TriggerAddAction(IIOII1O,function I1III1OO)
set IIOIOIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOIOIO,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IIOIOIO,Condition(function I1IIOIIO))
call TriggerAddAction(IIOIOIO,function I1IIOIOO)
set wellethreet=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(wellethreet,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(wellethreet,Condition(function wellethree))
call TriggerAddAction(wellethreet,function wellethreeatt)
set IIOIOOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOIOOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIOIOOO,Condition(function I1IIOOIO))
call TriggerAddAction(IIOIOOO,function I1IIOOOO)
set IIOIO1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOIO1O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIOIO1O,Condition(function I1IIO1IO))
call TriggerAddAction(IIOIO1O,function I1IIO1OO)
set IIOI1IO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOI1IO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIOI1IO,Condition(function I1II1IIO))
call TriggerAddAction(IIOI1IO,function I1II1IOO)
set IIOI1OO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOI1OO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIOI1OO,Condition(function I1II11IO))
call TriggerAddAction(IIOI1OO,function I1II11OO)
set IIOI11O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOI11O,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IIOI11O,Condition(function I1IOIIIO))
call TriggerAddAction(IIOI11O,function I1IOIIOO)
set IIOOIIO=CreateTrigger()
call TriggerAddCondition(IIOOIIO,Condition(function I1IOIOIO))
call TriggerAddAction(IIOOIIO,function I1IOIOOO)
set IIOOIOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOOIOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIOOIOO,Condition(function I1IOI1IO))
call TriggerAddAction(IIOOIOO,function I1IOI1OO)
set IIOOI1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOOI1O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIOOI1O,Condition(function I1IOOIOO))
call TriggerAddAction(IIOOI1O,function I1IOOI1O)
set IIOOOIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOOOIO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIOOOIO,Condition(function I1IOOOOO))
call TriggerAddAction(IIOOOIO,function I1IO1IIO)
set IIOOOOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOOOOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIOOOOO,Condition(function I1IO1I1O))
call TriggerAddAction(IIOOOOO,function I1IO1OIO)
set IIOOO1O=CreateTrigger()
call TriggerAddAction(IIOOO1O,function I1IO1O1O)
call I1I1IOOO()
set IIOO1OO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIOO1OO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIOO1OO,Condition(function I1I1OI1O))
call TriggerAddAction(IIOO1OO,function I1I1OOIO)
set IIOO11O=CreateTrigger()
call TriggerAddAction(IIOO11O,function I1I1O1IO)
set IIO1IIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIO1IIO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIO1IIO,Condition(function I1I1O11O))
call TriggerAddAction(IIO1IIO,function I1I11IOO)
set IIO1IOO=CreateTrigger()
call TriggerAddAction(IIO1IOO,function I1I11OIO)
set IIO1I1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIO1I1O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIO1I1O,Condition(function I1I11O1O))
call TriggerAddAction(IIO1I1O,function I1I111IO)
set IIO1OIO=CreateTrigger()
call DisableTrigger(IIO1OIO)
call TriggerRegisterTimerEventPeriodic(IIO1OIO,.03)
call TriggerAddAction(IIO1OIO,function I1OII1IO)
set IIO1OOO=CreateTrigger()
call TriggerAddCondition(IIO1OOO,Condition(function I1OII11O))
call TriggerAddAction(IIO1OOO,function I1OIOIIO)
set IIO1O1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIO1O1O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIO1O1O,Condition(function I1OIOI1O))
call TriggerAddAction(IIO1O1O,function I1OIOOOO)
set IIO11IO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIO11IO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIO11IO,Condition(function I1OIO1IO))
call TriggerAddAction(IIO11IO,function I1OIO11O)
set IIO11OO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IIO11OO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IIO11OO,Condition(function I1OI1IOO))
call TriggerAddAction(IIO11OO,function I1OI1I1O)
set pull2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(pull2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(pull2,Condition(function pull21))
call TriggerAddAction(pull2,function pull22)
set pull1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(pull1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(pull1,Condition(function pull11))
call TriggerAddAction(pull1,function pull12)
set wuren=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(wuren,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(wuren,Condition(function wuren1))
call TriggerAddAction(wuren,function wuren2)
set xiuman2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(xiuman2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(xiuman2,Condition(function xiuman21))
call TriggerAddAction(xiuman2,function xiuman22)
set piancang=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(piancang,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(piancang,Condition(function piancang1))
call TriggerAddAction(piancang,function piancang2)
set yuxi4=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(yuxi4,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(yuxi4,Condition(function yuxi41))
call TriggerAddAction(yuxi4,function yuxi42)
set IIO111O=CreateTrigger()
call TriggerRegisterTimerExpireEvent(IIO111O,III1II)
call TriggerAddAction(IIO111O,function I1OI1O1O)
set II1IIIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II1IIIO,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(II1IIIO,Condition(function I1OI11OO))
call TriggerAddAction(II1IIIO,function I1OI111O)
set II1IIOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II1IIOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II1IIOO,Condition(function I1OOII1O))
call TriggerAddAction(II1IIOO,function I1OOIOIO)
set II1II1O=CreateTrigger()
call TriggerAddCondition(II1II1O,Condition(function I1OOIO1O))
call TriggerAddAction(II1II1O,function I1OOI11O)
set II1IOIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II1IOIO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II1IOIO,Condition(function I1OOOIOO))
call TriggerAddAction(II1IOIO,function I1OOOOOO)
set II1IOOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II1IOOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II1IOOO,Condition(function I1OOO1OO))
call TriggerAddAction(II1IOOO,function I1OOO11O)
set II1IO1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II1IO1O,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(II1IO1O,Condition(function I1OO1IOO))
call TriggerAddAction(II1IO1O,function I1OO1OIO)
set II1I1IO=CreateTrigger()
call TriggerAddAction(II1I1IO,function I1OO11IO)
set II1I1OO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II1I1OO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II1I1OO,Condition(function I1OO111O))
call TriggerAddAction(II1I1OO,function I1O1IIIO)
set II1I11O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II1I11O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II1I11O,Condition(function I1O1II1O))
call TriggerAddAction(II1I11O,function I1O1IOOO)
set II1OIIO=CreateTrigger()
call DisableTrigger(II1OIIO)
call TriggerRegisterTimerEventPeriodic(II1OIIO,.26)
call TriggerAddAction(II1OIIO,function I1O1I1IO)
set II1OIOO=CreateTrigger()
call TriggerAddAction(II1OIOO,function I1O1I11O)
set II1OI1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II1OI1O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II1OI1O,Condition(function I1O1OIOO))
call TriggerAddAction(II1OI1O,function I1O1OI1O)
set II1OOIO=CreateTrigger()
call TriggerRegisterTimerExpireEvent(II1OOIO,O11OO)
call TriggerAddAction(II1OOIO,function I1O1OOOO)
set II1OOOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II1OOOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II1OOOO,Condition(function I1O1O1IO))
call TriggerAddAction(II1OOOO,function I1O1O11O)
set II1OO1O=CreateTrigger()
set OI1OOOO[1]=300
set OI1OOOO[2]=400
set OI1OOOO[3]=500
set OI1OOOO[4]=600
call TriggerRegisterAnyUnitEventBJ(II1OO1O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II1OO1O,Condition(function I1O11IOO))
call TriggerAddAction(II1OO1O,function I1O11I1O)
set II1O1IO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II1O1IO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II1O1IO,Condition(function I1O11OOO))
call TriggerAddAction(II1O1IO,function I1O111IO)
set II1O1OO=CreateTrigger()
call TriggerAddAction(II1O1OO,function I11IIIIO)
set II1O11O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II1O11O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II1O11O,Condition(function I11III1O))
call TriggerAddAction(II1O11O,function I11IIOIO)
set II11IIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II11IIO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II11IIO,Condition(function I11IIO1O))
call TriggerAddAction(II11IIO,function I11II1IO)
set II11IOO=CreateTrigger()
call TriggerRegisterTimerExpireEvent(II11IOO,IIIIII)
call TriggerAddAction(II11IOO,function I11II11O)
set II11I1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II11I1O,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(II11I1O,Condition(function I11IOIOO))
call TriggerAddAction(II11I1O,function I11IOOIO)
set II11OIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II11OIO,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(II11OIO,Condition(function I11IOO1O))
call TriggerAddAction(II11OIO,function I11IO1OO)
set II11OOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II11OOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II11OOO,Condition(function I11I1IIO))
call TriggerAddAction(II11OOO,function I11I1IOO)
set II11O1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II11O1O,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(II11O1O,Condition(function I11I1OOO))
call TriggerAddAction(II11O1O,function I11I1O1O)
set II111IO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II111IO,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(II111IO,Condition(function I11I11OO))
call TriggerAddAction(II111IO,function I11I111O)
set II111OO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II111OO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II111OO,Condition(function I11OIIOO))
call TriggerAddAction(II111OO,function I11OII1O)
set II1111O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(II1111O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(II1111O,Condition(function I11OIOOO))
call TriggerAddAction(II1111O,function I11OIO1O)
set IOIIIIO=CreateTrigger()
call DisableTrigger(IOIIIIO)
call TriggerRegisterTimerEventPeriodic(IOIIIIO,.03)
call TriggerAddAction(IOIIIIO,function I11OOIOO)
set IOIIIOO=CreateTrigger()
call DisableTrigger(IOIIIOO)
call TriggerRegisterTimerEventPeriodic(IOIIIOO,.03)
call TriggerAddAction(IOIIIOO,function I11OO1IO)
set IOIIOIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOIIOIO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IOIIOIO,Condition(function I11O1I1O))
call TriggerAddAction(IOIIOIO,function I11O1OOO)
set IOIIOOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOIIOOO,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(IOIIOOO,Condition(function I11O11OO))
call TriggerAddAction(IOIIOOO,function I11O111O)
set IOIIO1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOIIO1O,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(IOIIO1O,Condition(function I111IIOO))
call TriggerAddAction(IOIIO1O,function I111II1O)
set IOII1IO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOII1IO,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IOII1IO,Condition(function I111IOOO))
call TriggerAddAction(IOII1IO,function I111IO1O)
set IOII1OO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOII1OO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IOII1OO,Condition(function I111I1OO))
call TriggerAddAction(IOII1OO,function I111OIIO)
set IOII11O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOII11O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IOII11O,Condition(function I111OI1O))
call TriggerAddAction(IOII11O,function I111OOIO)
set IOIOIIO=CreateTrigger()
call TriggerRegisterTimerExpireEvent(IOIOIIO,IIIOIO)
call TriggerAddAction(IOIOIIO,function I111O1IO)
set IOIOIOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOIOIOO,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(IOIOIOO,Condition(function I111O11O))
call TriggerAddAction(IOIOIOO,function I1111IIO)
set IOIOI1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOIOI1O,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IOIOI1O,Condition(function I1111I1O))
call TriggerAddAction(IOIOI1O,function I1111OOO)
set IOIOOIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOIOOIO,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(IOIOOIO,Condition(function I11111IO))
call TriggerAddAction(IOIOOIO,function I11111OO)
set IOIOOOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOIOOOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IOIOOOO,Condition(function OIIIIIIO))
call TriggerAddAction(IOIOOOO,function OIIIIIOO)
set IOIOO1O=CreateTrigger()
call DisableTrigger(IOIOO1O)
call TriggerRegisterAnyUnitEventBJ(IOIOO1O,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)
call TriggerRegisterAnyUnitEventBJ(IOIOO1O,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)
call TriggerRegisterAnyUnitEventBJ(IOIOO1O,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerRegisterAnyUnitEventBJ(IOIOO1O,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerRegisterAnyUnitEventBJ(IOIOO1O,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(IOIOO1O,Condition(function OIIIIOIO))
call TriggerAddAction(IOIOO1O,function OIIIIOOO)
set IOIO1IO=CreateTrigger()
call TriggerAddAction(IOIO1IO,function OIIII1IO)
set IOIO1OO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOIO1OO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IOIO1OO,Condition(function OIIIOIIO))
call TriggerAddAction(IOIO1OO,function OIIIOIOO)
set IOIO11O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOIO11O,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IOIO11O,Condition(function OIIIOOIO))
call TriggerAddAction(IOIO11O,function OIIIOOOO)
set IOI1IIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOI1IIO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IOI1IIO,Condition(function OIIIO1IO))
call TriggerAddAction(IOI1IIO,function OIIIO1OO)
set IOI1IOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOI1IOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IOI1IOO,Condition(function OIII1IIO))
call TriggerAddAction(IOI1IOO,function OIII1I1O)
set IOI1I1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOI1I1O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IOI1I1O,Condition(function OIII1O1O))
call TriggerAddAction(IOI1I1O,function OIII11IO)
set IOI1OIO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOI1OIO,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IOI1OIO,Condition(function OIII111O))
call TriggerAddAction(IOI1OIO,function OIIOIIIO)
set IOI1OOO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOI1OOO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IOI1OOO,Condition(function OIIOIOIO))
call TriggerAddAction(IOI1OOO,function OIIOIOOO)
set IOI1O1O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOI1O1O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IOI1O1O,Condition(function OIIOI1IO))
call TriggerAddAction(IOI1O1O,function OIIOOIIO)
set IOI11IO=CreateTrigger()
call DisableTrigger(IOI11IO)
call TriggerRegisterAnyUnitEventBJ(IOI11IO,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(IOI11IO,Condition(function OIIOOI1O))
call TriggerAddAction(IOI11IO,function OIIOOOIO)
set yuzi2=CreateTrigger()
call DisableTrigger(yuzi2)
call TriggerRegisterAnyUnitEventBJ(yuzi2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(yuzi2,Condition(function yuzi21))
call TriggerAddAction(yuzi2,function yuzi22)
set IOI11OO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOI11OO,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(IOI11OO,Condition(function OIIOOO1O))
call TriggerAddAction(IOI11OO,function OIIOO1IO)
set IOI111O=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(IOI111O,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(IOI111O,Condition(function OIIO1IIO))
call TriggerAddAction(IOI111O,function OIIO1IOO)
call ConditionalTriggerExecute(IIIOIII)
call ConditionalTriggerExecute(II1OOII)
call ConditionalTriggerExecute(II1OOOI)
call ConditionalTriggerExecute(II1OO1I)
call ConditionalTriggerExecute(II111II)
call ConditionalTriggerExecute(I1III1I)
call ConditionalTriggerExecute(OO1IIOI)
endfunction
function config takes nothing returns nothing
call SetMapName("|c00FF0000信長之絕望V009A3")
call SetMapDescription("|cff00FFFF作者：阿瘋 (本名：Furion)")
call SetPlayers($C)
call SetTeams($C)
call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
call DefineStartLocation(0,7872.,-6336.)
call DefineStartLocation(1,7872.,-6336.)
call DefineStartLocation(2,7872.,-6336.)
call DefineStartLocation(3,7872.,-6336.)
call DefineStartLocation(4,7872.,-6336.)
call DefineStartLocation(5,-6464.,7872.)
call DefineStartLocation(6,-6464.,7872.)
call DefineStartLocation(7,-6464.,7872.)
call DefineStartLocation(8,-6464.,7872.)
call DefineStartLocation(9,-6464.,7872.)
call DefineStartLocation($A,6336.,-6464.)
call DefineStartLocation($B,-6016.,5760.)
call SetPlayerStartLocation(Player(0),0)
call ForcePlayerStartLocation(Player(0),0)
call SetPlayerColor(Player(0),ConvertPlayerColor(0))
call SetPlayerRacePreference(Player(0),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(0),false)
call SetPlayerController(Player(0),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(1),1)
call ForcePlayerStartLocation(Player(1),1)
call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(1),false)
call SetPlayerController(Player(1),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2),2)
call ForcePlayerStartLocation(Player(2),2)
call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(2),false)
call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),3)
call ForcePlayerStartLocation(Player(3),3)
call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(3),false)
call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),4)
call ForcePlayerStartLocation(Player(4),4)
call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(4),false)
call SetPlayerController(Player(4),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(5),5)
call ForcePlayerStartLocation(Player(5),5)
call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(5),false)
call SetPlayerController(Player(5),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(6),6)
call ForcePlayerStartLocation(Player(6),6)
call SetPlayerColor(Player(6),ConvertPlayerColor(6))
call SetPlayerRacePreference(Player(6),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(6),false)
call SetPlayerController(Player(6),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7),7)
call ForcePlayerStartLocation(Player(7),7)
call SetPlayerColor(Player(7),ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(7),false)
call SetPlayerController(Player(7),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(8),8)
call ForcePlayerStartLocation(Player(8),8)
call SetPlayerColor(Player(8),ConvertPlayerColor(8))
call SetPlayerRacePreference(Player(8),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(8),false)
call SetPlayerController(Player(8),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(9),9)
call ForcePlayerStartLocation(Player(9),9)
call SetPlayerColor(Player(9),ConvertPlayerColor(9))
call SetPlayerRacePreference(Player(9),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(9),false)
call SetPlayerController(Player(9),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player($A),$A)
call ForcePlayerStartLocation(Player($A),$A)
call SetPlayerColor(Player($A),ConvertPlayerColor($A))
call SetPlayerRacePreference(Player($A),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player($A),false)
call SetPlayerController(Player($A),MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player($B),$B)
call ForcePlayerStartLocation(Player($B),$B)
call SetPlayerColor(Player($B),ConvertPlayerColor($B))
call SetPlayerRacePreference(Player($B),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player($B),false)
call SetPlayerController(Player($B),MAP_CONTROL_COMPUTER)
call InitCustomTeams()
call SetStartLocPrioCount(0,4)
call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(1,4)
call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(2,4)
call SetStartLocPrio(2,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(3,4)
call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,3,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(4,4)
call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(4,3,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(5,4)
call SetStartLocPrio(5,0,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,1,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,2,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(5,3,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(6,4)
call SetStartLocPrio(6,0,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,1,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,2,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(6,3,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(7,4)
call SetStartLocPrio(7,0,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,1,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,2,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,3,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(8,4)
call SetStartLocPrio(8,0,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,1,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,2,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(8,3,9,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(9,4)
call SetStartLocPrio(9,0,5,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,1,6,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,2,7,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(9,3,8,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount($B,1)
call SetStartLocPrio($B,0,5,MAP_LOC_PRIO_HIGH)
endfunction
function OIIO1OOO takes nothing returns nothing
endfunction
